!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.openmct=t()}(this,function(){var e,t,n;return function(i){function r(e,t){return S.call(e,t)}function o(e,t){var n,i,r,o,s,a,c,l,u,d,p,f,h=t&&t.split("/"),m=b.map,g=m&&m["*"]||{};if(e){for(e=e.split("/"),s=e.length-1,b.nodeIdCompat&&C.test(e[s])&&(e[s]=e[s].replace(C,"")),"."===e[0].charAt(0)&&h&&(f=h.slice(0,h.length-1),e=f.concat(e)),u=0;u<e.length;u++)if(p=e[u],"."===p)e.splice(u,1),u-=1;else if(".."===p){if(0===u||1===u&&".."===e[2]||".."===e[u-1])continue;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}if((h||g)&&m){for(n=e.split("/"),u=n.length;u>0;u-=1){if(i=n.slice(0,u).join("/"),h)for(d=h.length;d>0;d-=1)if(r=m[h.slice(0,d).join("/")],r&&(r=r[i])){o=r,a=u;break}if(o)break;!c&&g&&g[i]&&(c=g[i],l=u)}!o&&c&&(o=c,a=l),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function s(e,t){return function(){var n=x.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),h.apply(i,n.concat([e,t]))}}function a(e){return function(t){return o(t,e)}}function c(e){return function(t){y[e]=t}}function l(e){if(r(v,e)){var t=v[e];delete v[e],w[e]=!0,f.apply(i,t)}if(!r(y,e)&&!r(w,e))throw new Error("No "+e);return y[e]}function u(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function d(e){return e?u(e):[]}function p(e){return function(){return b&&b.config&&b.config[e]||{}}}var f,h,m,g,y={},v={},b={},w={},S=Object.prototype.hasOwnProperty,x=[].slice,C=/\.js$/;m=function(e,t){var n,i=u(e),r=i[0],s=t[1];return e=i[1],r&&(r=o(r,s),n=l(r)),r?e=n&&n.normalize?n.normalize(e,a(s)):o(e,s):(e=o(e,s),i=u(e),r=i[0],e=i[1],r&&(n=l(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:n}},g={require:function(e){return s(e)},exports:function(e){var t=y[e];return"undefined"!=typeof t?t:y[e]={}},module:function(e){return{id:e,uri:"",exports:y[e],config:p(e)}}},f=function(e,t,n,o){var a,u,p,f,h,b,S,x=[],C=typeof n;if(o=o||e,b=d(o),"undefined"===C||"function"===C){for(t=!t.length&&n.length?["require","exports","module"]:t,h=0;h<t.length;h+=1)if(f=m(t[h],b),u=f.f,"require"===u)x[h]=g.require(e);else if("exports"===u)x[h]=g.exports(e),S=!0;else if("module"===u)a=x[h]=g.module(e);else if(r(y,u)||r(v,u)||r(w,u))x[h]=l(u);else{if(!f.p)throw new Error(e+" missing "+u);f.p.load(f.n,s(o,!0),c(u),{}),x[h]=y[u]}p=n?n.apply(y[e],x):void 0,e&&(a&&a.exports!==i&&a.exports!==y[e]?y[e]=a.exports:p===i&&S||(y[e]=p))}else e&&(y[e]=n)},e=t=h=function(e,t,n,r,o){if("string"==typeof e)return g[e]?g[e](t):l(m(e,d(t)).f);if(!e.splice){if(b=e,b.deps&&h(b.deps,b.callback),!t)return;t.splice?(e=t,t=n,n=null):e=i}return t=t||function(){},"function"==typeof n&&(n=r,r=o),r?f(i,e,t,n):setTimeout(function(){f(i,e,t,n)},4),h},h.config=function(e){return h(e)},e._defined=y,n=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),r(y,e)||r(v,e)||(v[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("bower_components/almond/almond.js",function(){}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof n&&n.amd?n("es6-promise",t):e.ES6Promise=t()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function n(e){return"function"==typeof e}function i(e){z=e}function r(e){G=e}function o(){return function(){return process.nextTick(u)}}function s(){return function(){W(u)}}function a(){var e=0,t=new X(u),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function c(){var e=new MessageChannel;return e.port1.onmessage=u,function(){return e.port2.postMessage(0)}}function l(){var e=setTimeout;return function(){return e(u,1)}}function u(){for(var e=0;H>e;e+=2){var t=ee[e],n=ee[e+1];t(n),ee[e]=void 0,ee[e+1]=void 0}H=0}function d(){try{var e=t,n=e("vertx");return W=n.runOnLoop||n.runOnContext,s()}catch(i){return l()}}function p(e,t){var n=arguments,i=this,r=new this.constructor(h);void 0===r[ne]&&N(r);var o=i._state;return o?!function(){var e=n[o-1];G(function(){return I(o,r,e,i._result)})}():$(i,r,e,t),r}function f(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(h);return x(n,e),n}function h(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function g(){return new TypeError("A promises callback cannot return that same promise.")}function y(e){try{return e.then}catch(t){return se.error=t,se}}function v(e,t,n,i){try{e.call(t,n,i)}catch(r){return r}}function b(e,t,n){G(function(e){var i=!1,r=v(n,t,function(n){i||(i=!0,t!==n?x(e,n):O(e,n))},function(t){i||(i=!0,k(e,t))},"Settle: "+(e._label||" unknown promise"));!i&&r&&(i=!0,k(e,r))},e)}function w(e,t){t._state===re?O(e,t._result):t._state===oe?k(e,t._result):$(t,void 0,function(t){return x(e,t)},function(t){return k(e,t)})}function S(e,t,i){t.constructor===e.constructor&&i===p&&t.constructor.resolve===f?w(e,t):i===se?k(e,se.error):void 0===i?O(e,t):n(i)?b(e,t,i):O(e,t)}function x(t,n){t===n?k(t,m()):e(n)?S(t,n,y(n)):O(t,n)}function C(e){e._onerror&&e._onerror(e._result),T(e)}function O(e,t){e._state===ie&&(e._result=t,e._state=re,0!==e._subscribers.length&&G(T,e))}function k(e,t){e._state===ie&&(e._state=oe,e._result=t,G(C,e))}function $(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+re]=n,r[o+oe]=i,0===o&&e._state&&G(T,e)}function T(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,s=0;s<t.length;s+=3)i=t[s],r=t[s+n],i?I(n,i,r,o):r(o);e._subscribers.length=0}}function A(){this.error=null}function M(e,t){try{return e(t)}catch(n){return ae.error=n,ae}}function I(e,t,i,r){var o=n(i),s=void 0,a=void 0,c=void 0,l=void 0;if(o){if(s=M(i,r),s===ae?(l=!0,a=s.error,s=null):c=!0,t===s)return void k(t,g())}else s=r,c=!0;t._state!==ie||(o&&c?x(t,s):l?k(t,a):e===re?O(t,s):e===oe&&k(t,s))}function E(e,t){try{t(function(t){x(e,t)},function(t){k(e,t)})}catch(n){k(e,n)}}function L(){return ce++}function N(e){e[ne]=ce++,e._state=void 0,e._result=void 0,e._subscribers=[]}function j(e,t){this._instanceConstructor=e,this.promise=new e(h),this.promise[ne]||N(this.promise),Y(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?O(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&O(this.promise,this._result))):k(this.promise,P())}function P(){return new Error("Array Methods must be provided an Array")}function D(e){return new j(this,e).promise}function _(e){var t=this;return new t(Y(e)?function(n,i){for(var r=e.length,o=0;r>o;o++)t.resolve(e[o]).then(n,i)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function R(e){var t=this,n=new t(h);return k(n,e),n}function U(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function V(e){this[ne]=L(),this._result=this._state=void 0,this._subscribers=[],h!==e&&("function"!=typeof e&&U(),this instanceof V?E(this,e):F())}function B(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var i=null;try{i=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===i&&!n.cast)return}e.Promise=V}var q=void 0;q=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var Y=q,H=0,W=void 0,z=void 0,G=function(e,t){ee[H]=e,ee[H+1]=t,H+=2,2===H&&(z?z(u):te())},K="undefined"!=typeof window?window:void 0,Z=K||{},X=Z.MutationObserver||Z.WebKitMutationObserver,J="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ee=new Array(1e3),te=void 0;te=J?o():X?a():Q?c():void 0===K&&"function"==typeof t?d():l();var ne=Math.random().toString(36).substring(16),ie=void 0,re=1,oe=2,se=new A,ae=new A,ce=0;return j.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===ie&&e>n;n++)this._eachEntry(t[n],n)},j.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===f){var r=y(e);if(r===p&&e._state!==ie)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===V){var o=new n(h);S(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},j.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===ie&&(this._remaining--,e===oe?k(i,n):this._result[t]=n),0===this._remaining&&O(i,this._result)},j.prototype._willSettleAt=function(e,t){var n=this;$(e,void 0,function(e){return n._settledAt(re,t,e)},function(e){return n._settledAt(oe,t,e)})},V.all=D,V.race=_,V.resolve=f,V.reject=R,V._setScheduler=i,V._setAsap=r,V._asap=G,V.prototype={constructor:V,then:p,"catch":function(e){return this.then(null,e)}},B(),V.polyfill=B,V.Promise=V,V}),n("platform/framework/src/Constants",{MODULE_NAME:"OpenMCTWeb",BUNDLE_FILE:"bundle.json",SEPARATOR:"/",EXTENSION_SUFFIX:"[]",DEFAULT_BUNDLE:{sources:"src",resources:"res",libraries:"lib",tests:"test",configuration:{},extensions:{}},PRIORITY_LEVELS:{fallback:Number.NEGATIVE_INFINITY,"default":-100,none:0,optional:100,preferred:1e3,mandatory:Number.POSITIVE_INFINITY},DEFAULT_PRIORITY:0}),n("platform/framework/src/FrameworkInitializer",[],function(){function e(e,t,n,i){this.loader=e,this.resolver=t,this.registrar=n,this.bootstrapper=i}function t(e,t){return function(){return e.apply(t,arguments)}}return e.prototype.runApplication=function(){return this.loader.loadBundles([]).then(t(this.resolver.resolveBundles,this.resolver)).then(t(this.registrar.registerExtensions,this.registrar)).then(t(this.bootstrapper.bootstrap,this.bootstrapper))},e}),n("platform/framework/src/LogLevel",[],function(){function e(){}function t(e){this.index=n.indexOf(e),this.index<0&&(this.index=1)}var n=["error","warn","info","log","debug"];return t.prototype.configure=function(t,i){function r(t){n.forEach(function(n,i){i>o&&(t[n]=e)})}var o=this.index;r(i),t.decorator("$log",["$delegate",function(e){return r(e),e}])},t}),n("platform/framework/src/load/Extension",[],function(){function e(e,t,n){var i=t,r={};(n.key||n.name)&&(i+="(",i+=n.key||"",i+=n.key&&n.name?" ":"",i+=n.name||"",i+=")"),i+=" from "+e.getLogName(),Object.keys(n).forEach(function(e){r[e]=n[e]}),r.bundle=e.getDefinition(),this.logName=i,this.bundle=e,this.category=t,this.definition=n,this.extensionDefinition=r}return e.prototype.getKey=function(){return this.definition.key||"undefined"},e.prototype.getBundle=function(){return this.bundle},e.prototype.getCategory=function(){return this.category},e.prototype.hasImplementation=function(){return void 0!==this.definition.implementation},e.prototype.getImplementationPath=function(){return this.hasImplementation()&&!this.hasImplementationValue()?this.bundle.getSourcePath(this.definition.implementation):void 0},e.prototype.getImplementationValue=function(){return"function"==typeof this.definition.implementation?this.definition.implementation:void 0},e.prototype.hasImplementationValue=function(){return"function"==typeof this.definition.implementation},e.prototype.getLogName=function(){return this.logName},e.prototype.getDefinition=function(){return this.extensionDefinition},e}),n("platform/framework/src/load/Bundle",["../Constants","./Extension"],function(e,t){function n(t,n){var i=Object.create(e.DEFAULT_BUNDLE),r=t;Object.keys(n).forEach(function(e){i[e]=n[e]}),i.path=t,(i.key||i.name)&&(r+="(",r+=i.key||"",r+=i.key&&i.name?" ":"",r+=i.name||"",r+=")"),this.path=t,this.definition=i,this.logName=r}return n.prototype.resolvePath=function(t){var n=this.path;return[n].concat(t||[]).join(e.SEPARATOR)},n.prototype.getPath=function(){return this.path},n.prototype.getSourcePath=function(e){var t=e?[this.definition.sources,e]:[this.definition.sources];return this.resolvePath(t)},n.prototype.getResourcePath=function(e){var t=e?[this.definition.resources,e]:[this.definition.resources];return this.resolvePath(t)},n.prototype.getLibraryPath=function(e){var t=e?[this.definition.libraries,e]:[this.definition.libraries];return this.resolvePath(t)},n.prototype.getConfiguration=function(){return this.definition.configuration||{}},n.prototype.getLogName=function(){return this.logName},n.prototype.getExtensions=function(e){var n=this.definition.extensions[e]||[],i=this;return n.map(function(n){return new t(i,e,n)})},n.prototype.getExtensionCategories=function(){return Object.keys(this.definition.extensions)},n.prototype.getDefinition=function(){return this.definition},n}),n("platform/framework/src/load/BundleLoader",["../Constants","./Bundle"],function(e,t){function n(e,t,n){this.$http=e,this.$log=t,this.legacyRegistry=n}var i="Malformed loadBundles argument; expected string or array",r="Invalid bundle contents for ",o="Failed to load bundle ";return n.prototype.loadBundles=function(n){function s(e){return f.get(e).then(function(e){return e.data})}function a(e){return e.filter(function(e){return void 0!==e})}function c(t){return s(t+"/"+e.BUNDLE_FILE).then(function(e){return null===e||"object"!=typeof e?void h.warn(r+t):e},function(){h.warn(o+t)})}function l(e){return m.contains(e)?Promise.resolve(new t(e,m.get(e))):c(e).then(function(n){return n&&new t(e,n)})}function u(e,t,n){return n.indexOf(e)===t}function d(e){var t=m.list().concat(e).filter(u).map(l);return Promise.all(t).then(a)}function p(e){function t(t){return h.info(["No external bundles loaded;","could not load bundle listing in",e,"due to error",t.status,t.statusText].join(" ")),d([])}return s(e).then(d,t)}var f=this.$http,h=this.$log,m=this.legacyRegistry;return Array.isArray(n)?d(n):"string"==typeof n?p(n):Promise.reject(new Error(i))},n}),n("platform/framework/src/resolve/ImplementationLoader",[],function(){function e(e){this.require=e}return e.prototype.load=function(e){var t=this.require;return new Promise(function(n,i){t([e],n,i)})},e}),n("platform/framework/src/resolve/ExtensionResolver",[],function(){function e(e,t){this.loader=e,this.$log=t}return e.prototype.resolve=function(e){function t(e){function t(e){function t(){return e.apply(this,arguments)}return t.prototype=e.prototype,t}function r(n){var r="function"==typeof n?t(n):Object.create(n);return Object.keys(n).forEach(function(e){r[e]=n[e]}),Object.keys(a).forEach(function(e){void 0===r[e]&&(r[e]=a[e])}),r.definition=a,i.info("Resolved "+e.getLogName()),r}function o(t){var n=["Could not load implementation for extension ",e.getLogName()," due to ",t.message].join("");return i.warn(n),e.getDefinition()}var s=e.hasImplementationValue()?Promise.resolve(e.getImplementationValue()):n.load(e.getImplementationPath()),a=e.getDefinition();return e.hasImplementationValue()||i.info(["Loading implementation ",e.getImplementationPath()," for extension ",e.getLogName()].join("")),s.then(r,o)}var n=this.loader,i=this.$log;return i.info(["Resolving extension ",e.getLogName()].join("")),e.hasImplementation()?t(e):Promise.resolve(e.getDefinition())},e}),n("platform/framework/src/resolve/BundleResolver",[],function(){function e(e,t,n){this.extensionResolver=e,this.requireConfigurator=t,this.$log=n}return e.prototype.resolveBundles=function(e){function t(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){t[n]=(t[n]||[]).concat(e[n])})}),t}function n(e){function t(e){function t(e){a[n].push(e)}var n=e.getCategory();return i.resolve(e).then(t)}function n(n){return a[n]=[],Promise.all(e.getExtensions(n).map(t))}function r(){return a}var s=e.getExtensionCategories(),a={};return o.info("Resolving extensions for bundle "+e.getLogName()),Promise.all(s.map(n)).then(r)}var i=this.extensionResolver,r=this.requireConfigurator,o=this.$log;return r.configure(e),Promise.all(e.map(n)).then(t)},e}),n("platform/framework/src/resolve/RequireConfigurator",[],function(){function e(e){this.requirejs=e}function t(e){return JSON.parse(JSON.stringify(e))}function n(e){var n=e.getConfiguration();return n.paths&&(n=t(n),Object.keys(n.paths).forEach(function(t){n.paths[t]=e.getLibraryPath(n.paths[t])})),n}function i(e,t){return["paths","shim"].forEach(function(n){Object.keys(t[n]||{}).forEach(function(i){e[n][i]=t[n][i]})}),e}function r(e){var t={baseUrl:"",paths:{},shim:{}},r=e.map(n);return r.reduce(i,t)}return e.prototype.configure=function(e){return this.requirejs.config(r(e))},e}),n("platform/framework/src/register/ServiceCompositor",[],function(){function e(e,t){this.latest={},this.providerLists={},this.app=e,this.$log=t}return e.prototype.registerCompositeServices=function(e){function t(e,t,n){var i=n||"No service provided by";m.warn([i," ",t," ",e.key," from bundle ",(e.bundle||{path:"unknown bundle"}).path,"; skipping."].join(""))}function n(){return Array.prototype.slice.call(arguments)}function i(e){return e}function r(e){return function(t){return t.type===e}}function o(e,t,n){return[t,"[",e,"#",n,"]"].join("")}function s(e,n){var i=e.provides,r=e.depends||[],s=o("provider",i,n);return i?(f[i]=f[i]||[],f[i].push(s),p[i]=s,h.service(s,r.concat([e])),void m.info("Registering provider for "+i)):t(e,"provider")}function a(){Object.keys(f).forEach(function(e){var t=o("provider",e,"*"),i=f[e];m.info(["Compositing",i.length,"providers for",e].join(" ")),h.service(t,i.concat([n]))})}function c(e,n){var i=e.provides,r=e.depends||[],s=o("provider",i,"*"),a=o("aggregator",i,n);return i?p[i]?(r=r.concat([s]),p[i]=a,void h.service(a,r.concat([e]))):t(e,"aggregator","No services to aggregate for"):t(e,"aggregator")}function l(e,n){var i=e.provides,r=e.depends||[],s=o("decorator",i,n);return i?p[i]?(r=r.concat([p[i]]),p[i]=s,void h.service(s,r.concat([e]))):t(e,"decorator","No services to decorate for"):t(e,"decorator")}function u(){Object.keys(p).forEach(function(e){h.service(e,[p[e],i])})}function d(e,t,n){e.forEach(s),a(),t.forEach(c),n.forEach(l),u()}var p=this.latest,f=this.providerLists,h=this.app,m=this.$log;d(e.filter(r("provider")),e.filter(r("aggregator")),e.filter(r("decorator")))},e}),n("platform/framework/src/register/CustomRegistrars",["../Constants","./ServiceCompositor"],function(e,t){function n(e,t){this.app=e,this.$log=t,this.registered={}}function i(e,t){return function(){return e.apply(t,arguments)}}function r(e){return function(t,n){var i=this.app,r=this.$log,o=t.key,s=t.depends||[],a=this.registered[e]||{};this.registered[e]=a,o?a[o]?r.debug(["Already registered ",e," with key ",o,"; skipping."].join("")):(r.info(["Registering ",e,": ",o].join("")),a[o]=!0,i[e](o,s.concat([t]))):r.warn(["Cannot register ",e," ",n,", no key specified. ",JSON.stringify(t)].join(""))}}function o(e){var t=this.app,n=this.$log,i=e.key,r=e.value;"string"==typeof i&&void 0!==r?(n.info(["Registering constant: ",i," with value ",r].join("")),t.constant(i,r)):n.warn(["Cannot register constant ",i," with value ",r].join(""))}function s(e){var t=this.app,n=this.$log;"function"==typeof e?t.run((e.depends||[]).concat([e])):n.warn(["Cannot register run extension from ",(e.bundle||{}).path,"; no implementation."].join(""))}function a(t){var n=this.app,i=this.$log,r=Object.create(t);r.templateUrl&&(r.templateUrl=[r.bundle.path,r.bundle.resources,r.templateUrl].join(e.SEPARATOR)),i.info("Registering route: "+(r.key||r.when)),n.config(["$routeProvider",function(e){r.when?e.when(r.when,r):e.otherwise(r)}])}function c(e){var n=this.app,i=this.$log;return new t(n,i).registerCompositeServices(e)}function l(e){return function(t){return t.map(i(e,this))}}return n.prototype.constants=l(o),n.prototype.routes=l(a),n.prototype.directives=l(r("directive")),n.prototype.controllers=l(r("controller")),n.prototype.services=l(r("service")),n.prototype.filters=l(r("filter")),n.prototype.runs=l(s),n.prototype.components=c,n}),n("platform/framework/src/register/PartialConstructor",[],function(){function e(e){function t(){function t(){var t=Array.prototype.slice.call(arguments),i=Object.create(e.prototype);return i=e.apply(i,n.concat(t))||i}var n=Array.prototype.slice.call(arguments);return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}return t}return e}),n("platform/framework/src/register/ExtensionRegistrar",["../Constants","./PartialConstructor"],function(e,t){function n(e,t,n,i){this.registeredCategories={},this.customRegistrars=t||{},this.app=e,this.sorter=n,this.$log=i}return n.prototype.registerExtensions=function(n){function i(e,t,n){var i=t.key?"extension-"+t.key+"#"+n:"extension#"+n;return e+"["+i+"]"}function r(){return Array.prototype.slice.call(arguments)}function o(e){return function(){return e}}function s(e,n){var i=n.depends||[],r="function"==typeof n?new t(n):o(n);return i.concat([r])}function a(t,n){var i=t+e.EXTENSION_SUFFIX;h.factory(i,n.concat([r]))}function c(e,t){function n(t,n){var o=i(e,t,n);r.push(o),h.factory(o,s(e,t))}var r=[];return p[e]?void g.warn(["Tried to register extensions for category ",e," more than once. Ignoring all but first set."].join("")):(f[e]?f[e](t):(t.forEach(n),a(e,r)),p[e]=!0,!0)}function l(t){var n=t.indexOf(e.EXTENSION_SUFFIX,t.length-e.EXTENSION_SUFFIX.length);return-1!==n}function u(t){var n={},i=Object.keys(t),r=[];return i.forEach(function(e){r=r.concat(t[e])}),r.forEach(function(e){(e.depends||[]).filter(l).forEach(function(e){n[e]=!0})}),i.forEach(function(t){var i=t+e.EXTENSION_SUFFIX;delete n[i]}),Object.keys(n)}function d(e){u(e).forEach(function(e){g.info("Registering empty extension category "+e),h.factory(e,[o([])])})}var p=this.registeredCategories,f=this.customRegistrars,h=this.app,m=this.sorter,g=this.$log;return g.info("Registering extensions..."),Object.keys(n).forEach(function(e){c(e,m.sort(n[e]))}),d(n),h},n}),n("platform/framework/src/register/ExtensionSorter",["../Constants"],function(e){function t(e){this.$log=e}return t.prototype.sort=function(t){function n(t){return a.warn(["Unrecognized priority '",(t||{}).priority,"' specified for extension from ",((t||{}).bundle||{}).path,"; defaulting to ",e.DEFAULT_PRIORITY].join("")),e.DEFAULT_PRIORITY}function i(t){var i=(t||{}).priority||e.DEFAULT_PRIORITY;return"string"==typeof i&&(i=e.PRIORITY_LEVELS[i]),"number"==typeof i?i:n(t)}function r(e,t){return{extension:e,index:t,priority:i(e)}}function o(e){return e.extension}function s(e,t){return t.priority-e.priority||e.index-t.index}var a=this.$log;return(t||[]).map(r).sort(s).map(o)},t}),n("platform/framework/src/bootstrap/ApplicationBootstrapper",[],function(){function e(e,t,n){this.angular=e,this.document=t,this.$log=n}return e.prototype.bootstrap=function(e){var t=this.angular,n=this.document,i=this.$log;i.info("Bootstrapping application "+(e||{}).name),t.element(n).ready(function(){t.bootstrap(n,[e.name],{strictDi:!0})})},e}),n("platform/framework/src/FrameworkLayer",["require","./Constants","./FrameworkInitializer","./LogLevel","./load/BundleLoader","./resolve/ImplementationLoader","./resolve/ExtensionResolver","./resolve/BundleResolver","./resolve/RequireConfigurator","./register/CustomRegistrars","./register/ExtensionRegistrar","./register/ExtensionSorter","./bootstrap/ApplicationBootstrapper"],function(t,n,i,r,o,s,a,c,l,u,d,p,f){function h(e,t){this.$http=e,this.$log=t}return h.prototype.initializeApplication=function(h,m,g){var y=this.$http,v=this.$log,b=h.module(n.MODULE_NAME,["ngRoute"]),w=new o(y,v,m),S=new c(new a(new s(t),v),new l(e),v),x=new d(b,new u(b,v),new p(v),v),C=new f(h,window.document,v),O=new i(w,S,x,C);new r(g).configure(b,v),v.info("Initializing application."),O.runApplication()},h}),function(e){n("angular",[],function(){return function(){return function(e,t,n){"use strict";function i(e){return function(){var t,n=arguments[0];for(t="["+(e?e+":":"")+n+"] http://errors.angularjs.org/1.4.4/"+(e?e+"/":"")+n,n=1;n<arguments.length;n++){t=t+(1==n?"?":"&")+"p"+(n-1)+"=";var i,r=encodeURIComponent;i=arguments[n],i="function"==typeof i?i.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof i?"undefined":"string"!=typeof i?JSON.stringify(i):i,t+=r(i)}return Error(t)}}function r(e){if(null==e||A(e))return!1;var t="length"in Object(e)&&e.length;return e.nodeType===ci&&t?!0:C(e)||Qn(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function o(e,t,n){var i,s;if(e)if($(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,e[i],i,e);else if(Qn(e)||r(e)){var a="object"!=typeof e;for(i=0,s=e.length;s>i;i++)(a||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else if(x(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)Bn.call(e,i)&&t.call(n,e[i],i,e);return e}function s(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function a(e){return function(t,n){e(n,t)}}function c(){return++Xn}function l(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function u(e,t,n){for(var i=e.$$hashKey,r=0,o=t.length;o>r;++r){var s=t[r];if(S(s)||$(s))for(var a=Object.keys(s),c=0,d=a.length;d>c;c++){var p=a[c],f=s[p];n&&S(f)?k(f)?e[p]=new Date(f.valueOf()):T(f)?e[p]=new RegExp(f):(S(e[p])||(e[p]=Qn(f)?[]:{}),u(e[p],[f],!0)):e[p]=f}}return l(e,i),e}function d(e){return u(e,Yn.call(arguments,1),!1)}function p(e){return u(e,Yn.call(arguments,1),!0)}function f(e){return parseInt(e,10)}function h(e,t){return d(Object.create(e),t)}function m(){}function g(e){return e}function y(e){return function(){return e}}function v(e){return $(e.toString)&&e.toString!==Object.prototype.toString}function b(e){return"undefined"==typeof e}function w(e){return"undefined"!=typeof e}function S(e){return null!==e&&"object"==typeof e}function x(e){return null!==e&&"object"==typeof e&&!Gn(e)}function C(e){return"string"==typeof e}function O(e){return"number"==typeof e}function k(e){return"[object Date]"===zn.call(e)}function $(e){return"function"==typeof e}function T(e){return"[object RegExp]"===zn.call(e)}function A(e){return e&&e.window===e}function M(e){return e&&e.$evalAsync&&e.$watch}function I(e){return"boolean"==typeof e}function E(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function L(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function N(e){return Vn(e.nodeName||e[0]&&e[0].nodeName)}function j(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function P(e,t,n,i){if(A(e)||M(e))throw Kn("cpws");if(ei.test(zn.call(t)))throw Kn("cpta");if(t){if(e===t)throw Kn("cpi");n=n||[],i=i||[],S(e)&&(n.push(e),i.push(t));var r;if(Qn(e))for(r=t.length=0;r<e.length;r++)t.push(P(e[r],null,n,i));else{var s=t.$$hashKey;if(Qn(t)?t.length=0:o(t,function(e,n){delete t[n]}),x(e))for(r in e)t[r]=P(e[r],null,n,i);else if(e&&"function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&(t[r]=P(e[r],null,n,i));else for(r in e)Bn.call(e,r)&&(t[r]=P(e[r],null,n,i));l(t,s)}}else if(t=e,S(e)){if(n&&-1!==(s=n.indexOf(e)))return i[s];if(Qn(e))return P(e,[],n,i);if(ei.test(zn.call(e)))t=new e.constructor(e);else if(k(e))t=new Date(e.getTime());else{if(!T(e))return r=Object.create(Gn(e)),P(e,r,n,i);t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex}i&&(n.push(e),i.push(t))}return t}function D(e,t){if(Qn(e)){t=t||[];for(var n=0,i=e.length;i>n;n++)t[n]=e[n]}else if(S(e))for(n in t=t||{},e)("$"!==n.charAt(0)||"$"!==n.charAt(1))&&(t[n]=e[n]);return t||e}function _(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var i,r=typeof e;if(r==typeof t&&"object"==r){if(!Qn(e)){if(k(e))return k(t)?_(e.getTime(),t.getTime()):!1;if(T(e))return T(t)?e.toString()==t.toString():!1;if(M(e)||M(t)||A(e)||A(t)||Qn(t)||k(t)||T(t))return!1;r=le();for(i in e)if("$"!==i.charAt(0)&&!$(e[i])){if(!_(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r||"$"===i.charAt(0)||t[i]===n||$(t[i])))return!1;return!0}if(!Qn(t))return!1;if((r=e.length)==t.length){for(i=0;r>i;i++)if(!_(e[i],t[i]))return!1;return!0}}return!1}function R(e,t,n){return e.concat(Yn.call(t,n))}function U(e,t){var n=2<arguments.length?Yn.call(arguments,2):[];return!$(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,R(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function F(e,i){var r=i;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=n:A(i)?r="$WINDOW":i&&t===i?r="$DOCUMENT":M(i)&&(r="$SCOPE"),r}function V(e,t){return"undefined"==typeof e?n:(O(t)||(t=t?2:null),JSON.stringify(e,F,t))}function B(e){return C(e)?JSON.parse(e):e}function q(e,t){var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Y(e,t,n){n=n?-1:1;var i=q(t,e.getTimezoneOffset());return t=e,e=n*(i-e.getTimezoneOffset()),t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function H(e){e=_n(e).clone();try{e.empty()}catch(t){}var n=_n("<div>").append(e).html();try{return e[0].nodeType===li?Vn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Vn(t)})}catch(i){return Vn(n)}}function W(e){try{return decodeURIComponent(e)}catch(t){}}function z(e){var t={};return o((e||"").split("&"),function(e){var n,i,r;e&&(i=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(i=e.substring(0,n),r=e.substring(n+1)),i=W(i),w(i)&&(r=w(r)?W(r):!0,Bn.call(t,i)?Qn(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))}),t}function G(e){var t=[];return o(e,function(e,n){Qn(e)?o(e,function(e){t.push(Z(n,!0)+(!0===e?"":"="+Z(e,!0)))}):t.push(Z(n,!0)+(!0===e?"":"="+Z(e,!0)))}),t.length?t.join("&"):""}function K(e){return Z(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Z(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function X(e,t){var n,i,r=oi.length;for(i=0;r>i;++i)if(n=oi[i]+t,C(n=e.getAttribute(n)))return n;return null}function J(e,t){var n,i,r={};o(oi,function(t){t+="app",!n&&e.hasAttribute&&e.hasAttribute(t)&&(n=e,i=e.getAttribute(t))}),o(oi,function(t){t+="app";var r;!n&&(r=e.querySelector("["+t.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(t))}),n&&(r.strictDi=null!==X(n,"strict-di"),t(n,i?[i]:[],r))}function Q(n,i,r){S(r)||(r={}),r=d({strictDi:!1},r);var s=function(){if(n=_n(n),n.injector()){var e=n[0]===t?"document":H(n);throw Kn("btstrpd",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}return i=i||[],i.unshift(["$provide",function(e){e.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),i.unshift("ng"),e=Re(i,r.strictDi),e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),e},a=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return e&&a.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(a,"")),e&&!c.test(e.name)?s():(e.name=e.name.replace(c,""),Zn.resumeBootstrap=function(e){return o(e,function(e){i.push(e)}),s()},void($(Zn.resumeDeferredBootstrap)&&Zn.resumeDeferredBootstrap()))}function ee(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function te(e){if(e=Zn.element(e).injector(),!e)throw Kn("test");return e.get("$$testability")}function ne(e,t){return t=t||"_",e.replace(si,function(e,n){return(n?t:"")+e.toLowerCase()})}function ie(){var t;if(!ai){var i=ri();Rn=e.jQuery,w(i)&&(Rn=null===i?n:e[i]),Rn&&Rn.fn.on?(_n=Rn,d(Rn.fn,{scope:xi.scope,isolateScope:xi.isolateScope,controller:xi.controller,injector:xi.injector,inheritedData:xi.inheritedData}),t=Rn.cleanData,Rn.cleanData=function(e){var n;if(Jn)Jn=!1;else for(var i,r=0;null!=(i=e[r]);r++)(n=Rn._data(i,"events"))&&n.$destroy&&Rn(i).triggerHandler("$destroy");
t(e)}):_n=me,Zn.element=_n,ai=!0}}function re(e,t,n){if(!e)throw Kn("areq",t||"?",n||"required");return e}function oe(e,t,n){return n&&Qn(e)&&(e=e[e.length-1]),re($(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function se(e,t){if("hasOwnProperty"===e)throw Kn("badname",t)}function ae(e,t,n){if(!t)return e;t=t.split(".");for(var i,r=e,o=t.length,s=0;o>s;s++)i=t[s],e&&(e=(r=e)[i]);return!n&&$(e)?U(r,e):e}function ce(e){var t=e[0];e=e[e.length-1];var n=[t];do{if(t=t.nextSibling,!t)break;n.push(t)}while(t!==e);return _n(n)}function le(){return Object.create(null)}function ue(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=i("$injector"),r=i("ng");return e=t(e,"angular",Object),e.$$minErr=e.$$minErr||i,t(e,"module",function(){var e={};return function(i,o,s){if("hasOwnProperty"===i)throw r("badname","module");return o&&e.hasOwnProperty(i)&&(e[i]=null),t(e,i,function(){function e(e,t,n,i){return i||(i=r),function(){return i[n||"push"]([e,t,arguments]),u}}function t(e,t){return function(n,o){return o&&$(o)&&(o.$$moduleName=i),r.push([e,t,arguments]),u}}if(!o)throw n("nomod",i);var r=[],a=[],c=[],l=e("$injector","invoke","push",a),u={_invokeQueue:r,_configBlocks:a,_runBlocks:c,requires:o,name:i,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:l,run:function(e){return c.push(e),this}};return s&&l(s),u})}})}function de(t){d(t,{bootstrap:Q,copy:P,extend:d,merge:p,equals:_,element:_n,forEach:o,injector:Re,noop:m,bind:U,toJson:V,fromJson:B,identity:g,isUndefined:b,isDefined:w,isString:C,isFunction:$,isObject:S,isNumber:O,isElement:E,isArray:Qn,version:ui,isDate:k,lowercase:Vn,uppercase:qn,callbacks:{counter:0},getTestability:te,$$minErr:i,$$csp:ii,reloadWithDebugInfo:ee}),(Un=ue(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Wt}),e.provider("$compile",ze).directive({a:wr,input:Dr,textarea:Dr,form:Or,script:ko,select:Ao,style:Io,option:Mo,ngBind:Ur,ngBindHtml:Vr,ngBindTemplate:Fr,ngClass:qr,ngClassEven:Hr,ngClassOdd:Yr,ngCloak:Wr,ngController:zr,ngForm:kr,ngHide:bo,ngIf:Zr,ngInclude:Xr,ngInit:Qr,ngNonBindable:po,ngPluralize:go,ngRepeat:yo,ngShow:vo,ngStyle:wo,ngSwitch:So,ngSwitchWhen:xo,ngSwitchDefault:Co,ngOptions:mo,ngTransclude:Oo,ngModel:co,ngList:eo,ngChange:Br,pattern:Lo,ngPattern:Lo,required:Eo,ngRequired:Eo,minlength:jo,ngMinlength:jo,maxlength:No,ngMaxlength:No,ngValue:Rr,ngModelOptions:uo}).directive({ngInclude:Jr}).directive(Sr).directive(Gr),e.provider({$anchorScroll:Ue,$animate:Pi,$animateCss:Di,$$animateQueue:ji,$$AnimateRunner:Ni,$browser:Ye,$cacheFactory:He,$controller:Xe,$document:Je,$exceptionHandler:Qe,$filter:an,$$forceReflow:Vi,$interpolate:dt,$interval:pt,$http:at,$httpParamSerializer:tt,$httpParamSerializerJQLike:nt,$httpBackend:lt,$location:Ot,$log:kt,$parse:Ft,$rootScope:Ht,$q:Vt,$$q:Bt,$sce:Zt,$sceDelegate:Kt,$sniffer:Xt,$templateCache:We,$templateRequest:Jt,$$testability:Qt,$timeout:en,$window:rn,$$rAF:Yt,$$jqLite:je,$$HashMap:$i,$$cookieReader:sn})}])}function pe(e){return e.replace(fi,function(e,t,n,i){return i?n.toUpperCase():n}).replace(hi,"Moz$1")}function fe(e){return e=e.nodeType,e===ci||!e||9===e}function he(e,t){var n,i,r=t.createDocumentFragment(),s=[];if(vi.test(e)){for(n=n||r.appendChild(t.createElement("div")),i=(bi.exec(e)||["",""])[1].toLowerCase(),i=Si[i]||Si._default,n.innerHTML=i[1]+e.replace(wi,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;s=R(s,n.childNodes),n=r.firstChild,n.textContent=""}else s.push(t.createTextNode(e));return r.textContent="",r.innerHTML="",o(s,function(e){r.appendChild(e)}),r}function me(e){if(e instanceof me)return e;var n;if(C(e)&&(e=ti(e),n=!0),!(this instanceof me)){if(n&&"<"!=e.charAt(0))throw gi("nosel");return new me(e)}if(n){n=t;var i;e=(i=yi.exec(e))?[n.createElement(i[1])]:(i=he(e,n))?i.childNodes:[]}ke(this,e)}function ge(e){return e.cloneNode(!0)}function ye(e,t){if(t||be(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),i=0,r=n.length;r>i;i++)be(n[i])}function ve(e,t,n,i){if(w(i))throw gi("offargs");var r=(i=we(e))&&i.events,s=i&&i.handle;if(s)if(t)o(t.split(" "),function(t){if(w(n)){var i=r[t];if(j(i||[],n),i&&0<i.length)return}e.removeEventListener(t,s,!1),delete r[t]});else for(t in r)"$destroy"!==t&&e.removeEventListener(t,s,!1),delete r[t]}function be(e,t){var i=e.ng339,r=i&&di[i];r&&(t?delete r.data[t]:(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),ve(e)),delete di[i],e.ng339=n))}function we(e,t){var i=e.ng339,i=i&&di[i];return t&&!i&&(e.ng339=i=++pi,i=di[i]={events:{},data:{},handle:n}),i}function Se(e,t,n){if(fe(e)){var i=w(n),r=!i&&t&&!S(t),o=!t;if(e=(e=we(e,!r))&&e.data,i)e[t]=n;else{if(o)return e;if(r)return e&&e[t];d(e,t)}}}function xe(e,t){return e.getAttribute?-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" "):!1}function Ce(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",ti((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ti(t)+" "," ")))})}function Oe(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=ti(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",ti(n))}}function ke(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;n>i;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function $e(e,t){return Te(e,"$"+(t||"ngController")+"Controller")}function Te(e,t,i){for(9==e.nodeType&&(e=e.documentElement),t=Qn(t)?t:[t];e;){for(var r=0,o=t.length;o>r;r++)if((i=_n.data(e,t[r]))!==n)return i;e=e.parentNode||11===e.nodeType&&e.host}}function Ae(e){for(ye(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Me(e,t){t||ye(e);var n=e.parentNode;n&&n.removeChild(e)}function Ie(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):_n(n).on("load",t)}function Ee(e,t){var n=Ci[t.toLowerCase()];return n&&Oi[N(e)]&&n}function Le(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&ki[t]}function Ne(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],o=r?r.length:0;if(o){if(b(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped},o>1&&(r=D(r));for(var a=0;o>a;a++)n.isImmediatePropagationStopped()||r[a].call(e,n)}};return n.elem=e,n}function je(){this.$get=function(){return d(me,{hasClass:function(e,t){return e.attr&&(e=e[0]),xe(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Oe(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Ce(e,t)}})}}function Pe(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):(n=typeof e,n="function"==n||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||c)():n+":"+e)}function De(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function _e(e){return(e=e.toString().replace(Ii,"").match(Ti))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Re(e,t){function i(e){return function(t,n){return S(t)?void o(t,a(e)):e(t,n)}}function r(e,t){if(se(e,"service"),($(t)||Qn(t))&&(t=m.instantiate(t)),!t.$get)throw Ei("pget",e);return h[e+"Provider"]=t}function s(e,t){return function(){var n=v.invoke(t,this);if(b(n))throw Ei("undef",e);return n}}function c(e,t,n){return r(e,{$get:!1!==n?s(e,t):t})}function l(e){re(b(e)||Qn(e),"modulesToLoad","not an array");var t,n=[];return o(e,function(e){function i(e){var t,n;for(t=0,n=e.length;n>t;t++){var i=e[t],r=m.get(i[0]);r[i[1]].apply(r,i[2])}}if(!f.get(e)){f.put(e,!0);try{C(e)?(t=Un(e),n=n.concat(l(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):$(e)?n.push(m.invoke(e)):Qn(e)?n.push(m.invoke(e)):oe(e,"module")}catch(r){throw Qn(e)&&(e=e[e.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),Ei("modulerr",e,r.stack||r.message||r)}}}),n}function u(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===d)throw Ei("cdep",t+" <- "+p.join(" <- "));return e[t]}try{return p.unshift(t),e[t]=d,e[t]=n(t,i)}catch(r){throw e[t]===d&&delete e[t],r}finally{p.shift()}}function r(e,n,r,o){"string"==typeof r&&(o=r,r=null);var s,a,c,l=[],u=Re.$$annotate(e,t,o);for(a=0,s=u.length;s>a;a++){if(c=u[a],"string"!=typeof c)throw Ei("itkn",c);l.push(r&&r.hasOwnProperty(c)?r[c]:i(c,o))}return Qn(e)&&(e=e[s]),e.apply(n,l)}return{invoke:r,instantiate:function(e,t,n){var i=Object.create((Qn(e)?e[e.length-1]:e).prototype||null);return e=r(e,i,t,n),S(e)||$(e)?e:i},get:i,annotate:Re.$$annotate,has:function(t){return h.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var d={},p=[],f=new De([],!0),h={$provide:{provider:i(r),factory:i(c),service:i(function(e,t){return c(e,["$injector",function(e){return e.instantiate(t)}])}),value:i(function(e,t){return c(e,y(t),!1)}),constant:i(function(e,t){se(e,"constant"),h[e]=t,g[e]=t}),decorator:function(e,t){var n=m.get(e+"Provider"),i=n.$get;n.$get=function(){var e=v.invoke(i,n);return v.invoke(t,null,{$delegate:e})}}}},m=h.$injector=u(h,function(e,t){throw Zn.isString(t)&&p.push(t),Ei("unpr",p.join(" <- "))}),g={},v=g.$injector=u(g,function(e,t){var i=m.get(e+"Provider",t);return v.invoke(i.$get,i,n,e)});return o(l(e),function(e){e&&v.invoke(e)}),v}function Ue(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===N(e)?(t=e,!0):void 0}),t}function o(e){if(e){e.scrollIntoView();var n;n=s.yOffset,$(n)?n=n():E(n)?(n=n[0],n="fixed"!==t.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):O(n)||(n=0),n&&(e=e.getBoundingClientRect().top,t.scrollBy(0,e-n))}else t.scrollTo(0,0)}function s(e){e=C(e)?e:n.hash();var t;e?(t=a.getElementById(e))?o(t):(t=r(a.getElementsByName(e)))?o(t):"top"===e&&o(null):o(null)}var a=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Ie(function(){i.$evalAsync(s)})}),s}]}function Fe(e,t){return e||t?e?t?(Qn(e)&&(e=e.join(" ")),Qn(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function Ve(e){C(e)&&(e=e.split(" "));var t=le();return o(e,function(e){e.length&&(t[e]=!0)}),t}function Be(e){return S(e)?e:{}}function qe(e,t,n,i){function r(e){try{e.apply(null,Yn.call(arguments,1))}finally{if(g--,0===g)for(;y.length;)try{y.pop()()}catch(t){n.error(t)}}}function s(){a(),c()}function a(){e:{try{v=d.state;break e}catch(e){}v=void 0}v=b(v)?null:v,_(v,$)&&(v=$),$=v}function c(){(S!==l.url()||w!==v)&&(S=l.url(),w=v,o(O,function(e){e(l.url(),v)}))}var l=this,u=e.location,d=e.history,p=e.setTimeout,f=e.clearTimeout,h={};l.isMock=!1;var g=0,y=[];l.$$completeOutstandingRequest=r,l.$$incOutstandingRequestCount=function(){g++},l.notifyWhenNoOutstandingRequests=function(e){0===g?e():y.push(e)};var v,w,S=u.href,x=t.find("base"),C=null;a(),w=v,l.url=function(t,n,r){if(b(r)&&(r=null),u!==e.location&&(u=e.location),d!==e.history&&(d=e.history),t){var o=w===r;if(S===t&&(!i.history||o))return l;var s=S&&yt(S)===yt(t);return S=t,w=r,!i.history||s&&o?((!s||C)&&(C=t),n?u.replace(t):s?(n=u,r=t.indexOf("#"),t=-1===r?"":t.substr(r),n.hash=t):u.href=t):(d[n?"replaceState":"pushState"](r,"",t),a(),w=v),l}return C||u.href.replace(/%27/g,"'")},l.state=function(){return v};var O=[],k=!1,$=null;l.onUrlChange=function(t){return k||(i.history&&_n(e).on("popstate",s),_n(e).on("hashchange",s),k=!0),O.push(t),t},l.$$applicationDestroyed=function(){_n(e).off("hashchange popstate",s)},l.$$checkUrlChange=c,l.baseHref=function(){var e=x.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},l.defer=function(e,t){var n;return g++,n=p(function(){delete h[n],r(e)},t||0),h[n]=!0,n},l.defer.cancel=function(e){return h[e]?(delete h[e],f(e),r(m),!0):!1}}function Ye(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new qe(e,i,t,n)}]}function He(){this.$get=function(){function e(e,n){function r(e){e!=p&&(f?f==e&&(f=e.n):f=e,o(e.n,e.p),o(e,p),p=e,p.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid",e);var s=0,a=d({},n,{id:e}),c={},l=n&&n.capacity||Number.MAX_VALUE,u={},p=null,f=null;return t[e]={put:function(e,t){if(!b(t)){if(l<Number.MAX_VALUE){var n=u[e]||(u[e]={key:e});r(n)}return e in c||s++,c[e]=t,s>l&&this.remove(f.key),t}},get:function(e){if(l<Number.MAX_VALUE){var t=u[e];if(!t)return;r(t)}return c[e]},remove:function(e){if(l<Number.MAX_VALUE){var t=u[e];if(!t)return;t==p&&(p=t.p),t==f&&(f=t.n),o(t.n,t.p),delete u[e]}delete c[e],s--},removeAll:function(){c={},s=0,u={},p=f=null},destroy:function(){u=a=c=null,delete t[e]},info:function(){return d({},a,{size:s})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function We(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function ze(e,i){function r(e,t,n){var i=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return o(e,function(e,o){var s=e.match(i);if(!s)throw _i("iscp",t,o,e,n?"controller bindings definition":"isolate scope definition");r[o]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||o}}),r}function s(e){var t=e.charAt(0);if(!t||t!==Vn(t))throw _i("baddir",e);if(e!==e.trim())throw _i("baddir",e)}var c={},l=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,u=/(([\w\-]+)(?:\:([^;]+))?;?)/,p=L("ngSrc,ngSrcset,src,srcset"),f=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,v=/^(on[a-z]+|formaction)$/;this.directive=function O(t,n){return se(t,"directive"),C(t)?(s(t),re(n,"directiveFactory"),c.hasOwnProperty(t)||(c[t]=[],e.factory(t+"Directive",["$injector","$exceptionHandler",function(e,n){var i=[];return o(c[t],function(o,s){try{var a=e.invoke(o);$(a)?a={compile:y(a)}:!a.compile&&a.link&&(a.compile=y(a.link)),a.priority=a.priority||0,a.index=s,a.name=a.name||t,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA";var c=a,l=a,u=a.name,d={isolateScope:null,bindToController:null};if(S(l.scope)&&(!0===l.bindToController?(d.bindToController=r(l.scope,u,!0),d.isolateScope={}):d.isolateScope=r(l.scope,u,!1)),S(l.bindToController)&&(d.bindToController=r(l.bindToController,u,!0)),S(d.bindToController)){var p=l.controller,f=l.controllerAs;if(!p)throw _i("noctrl",u);var h;e:if(f&&C(f))h=f;else{if(C(p)){var m=Fi.exec(p);if(m){h=m[3];break e}}h=void 0}if(!h)throw _i("noident",u)}var g=c.$$bindings=d;S(g.isolateScope)&&(a.$$isolateBindings=g.isolateScope),a.$$moduleName=o.$$moduleName,i.push(a)}catch(v){n(v)}}),i}])),c[t].push(n)):o(t,a(O)),this},this.aHrefSanitizationWhitelist=function(e){return w(e)?(i.aHrefSanitizationWhitelist(e),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(i.imgSrcSanitizationWhitelist(e),this):i.imgSrcSanitizationWhitelist()};var x=!0;this.debugInfoEnabled=function(e){return w(e)?(x=e,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,i,r,s,a,y,w,O,k,T,A){function I(e,t){try{e.addClass(t)}catch(n){}}function E(e,t,n,i,r){e instanceof _n||(e=_n(e)),o(e,function(t,n){t.nodeType==li&&t.nodeValue.match(/\S+/)&&(e[n]=_n(t).wrap("<span></span>").parent()[0])});var s=L(e,t,e,n,i,r);E.$$addScopeClass(e);var a=null;return function(t,n,i){re(t,"scope"),i=i||{};var r=i.parentBoundTranscludeFn,o=i.transcludeControllers;if(i=i.futureParentElement,r&&r.$$boundTransclude&&(r=r.$$boundTransclude),a||(a=(i=i&&i[0])&&"foreignobject"!==N(i)&&i.toString().match(/SVG/)?"svg":"html"),i="html"!==a?_n(Z(a,_n("<div>").append(e).html())):n?xi.clone.call(e):e,o)for(var c in o)i.data("$"+c+"Controller",o[c].instance);return E.$$addScopeInfo(i,t),n&&n(i,t),s&&s(t,i,i,r),i}}function L(e,t,i,r,o,s){function a(e,i,r,o){var s,a,c,l,u,d,h;if(p)for(h=Array(i.length),l=0;l<f.length;l+=3)s=f[l],h[s]=i[s];else h=i;for(l=0,u=f.length;u>l;)a=h[f[l++]],i=f[l++],s=f[l++],i?(i.scope?(c=e.$new(),E.$$addScopeInfo(_n(a),c),(d=i.$$destroyBindings)&&(i.$$destroyBindings=null,c.$on("$destroyed",d))):c=e,d=i.transcludeOnThisElement?P(e,i.transclude,o):!i.templateOnThisElement&&o?o:!o&&t?P(e,t):null,i(s,c,a,r,d,i)):s&&s(e,a.childNodes,n,o)}for(var c,l,u,d,p,f=[],h=0;h<e.length;h++)c=new oe,l=D(e[h],[],c,0===h?r:n,o),(s=l.length?F(l,e[h],c,t,i,null,[],[],s):null)&&s.scope&&E.$$addScopeClass(c.$$element),c=s&&s.terminal||!(u=e[h].childNodes)||!u.length?null:L(u,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:t),(s||c)&&(f.push(h,s,c),d=!0,p=p||s),s=null;return d?a:null}function P(e,t,n){return function(i,r,o,s,a){return i||(i=e.$new(!1,a),i.$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}}function D(e,t,n,i,r){var o,s=n.$attr;switch(e.nodeType){case ci:B(t,Ge(N(e)),"E",i,r);for(var a,c,d,p=e.attributes,f=0,h=p&&p.length;h>f;f++){var m=!1,g=!1;a=p[f],o=a.name,c=ti(a.value),a=Ge(o),(d=ue.test(a))&&(o=o.replace(Ri,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var y=a.replace(/(Start|End)$/,"");q(y)&&a===y+"Start"&&(m=o,g=o.substr(0,o.length-5)+"end",o=o.substr(0,o.length-6)),a=Ge(o.toLowerCase()),s[a]=o,(d||!n.hasOwnProperty(a))&&(n[a]=c,Ee(e,a)&&(n[a]=!0)),J(e,t,c,a,d),B(t,a,"A",i,r,m,g)}if(e=e.className,S(e)&&(e=e.animVal),C(e)&&""!==e)for(;o=u.exec(e);)a=Ge(o[2]),B(t,a,"C",i,r)&&(n[a]=ti(o[3])),e=e.substr(o.index+o[0].length);break;case li:if(11===Dn)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===li;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);K(t,e.nodeValue);break;case 8:try{(o=l.exec(e.nodeValue))&&(a=Ge(o[1]),B(t,a,"M",i,r)&&(n[a]=ti(o[2])))}catch(v){}}return t.sort(z),t}function R(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw _i("uterdir",t,n);e.nodeType==ci&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0)}else i.push(e);return _n(i)}function U(e,t,n){return function(i,r,o,s,a){return r=R(r[0],t,n),e(i,r,o,s,a)}}function F(e,i,o,s,a,c,l,u,d){function p(e,t,n,i){e&&(n&&(e=U(e,n,i)),e.require=v.require,e.directiveName=b,(A===v||v.$$isolateScope)&&(e=ee(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=U(t,n,i)),t.require=v.require,t.directiveName=b,(A===v||v.$$isolateScope)&&(t=ee(t,{isolateScope:!0})),u.push(t))}function h(e,t,n,i){var r;if(C(t)){var o=t.match(f);t=t.substring(o[0].length);var s=o[1]||o[3],o="?"===o[2];if("^^"===s?n=n.parent():r=(r=i&&i[t])&&r.instance,r||(i="$"+t+"Controller",r=s?n.inheritedData(i):n.data(i)),!r&&!o)throw _i("ctreq",t,e)}else if(Qn(t))for(r=[],s=0,o=t.length;o>s;s++)r[s]=h(e,t[s],n,i);return r||null}function m(e,t,n,i,r,o){var s,a=le();for(s in i){var c=i[s],l={$scope:c===A||c.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:n},u=c.controller;"@"==u&&(u=t[c.name]),l=y(u,l,!0,c.controllerAs),a[c.name]=l,P||e.data("$"+c.name+"Controller",l.instance)}return a}function g(e,t,r,s,a,c){function d(e,t,i){var r;return M(e)||(i=t,t=e,e=n),P&&(r=v),i||(i=P?w.parent():w),a(e,t,r,i,O)}var p,f,g,y,v,b,w;if(i===r?(s=o,w=o.$$element):(w=_n(r),s=new oe(w,o)),A&&(y=t.$new(!0)),a&&(b=d,b.$$boundTransclude=a),T&&(v=m(w,s,b,T,y,t)),A&&(E.$$addScopeInfo(w,y,!0,!(I&&(I===A||I===A.$$originalDirective))),E.$$addScopeClass(w,!0),y.$$isolateBindings=A.$$isolateBindings,ie(t,s,y,y.$$isolateBindings,A,y)),v){var S,x=A||k;x&&v[x.name]&&(f=x.$$bindings.bindToController,(g=v[x.name])&&g.identifier&&f&&(S=g,c.$$destroyBindings=ie(t,s,g.instance,f,x)));for(p in v){g=v[p];var C=g();C!==g.instance&&(g.instance=C,w.data("$"+p+"Controller",C),g===S&&(c.$$destroyBindings(),c.$$destroyBindings=ie(t,s,C,f,x)))}}for(p=0,c=l.length;c>p;p++)f=l[p],te(f,f.isolateScope?y:t,w,s,f.require&&h(f.directiveName,f.require,w,v),b);var O=t;for(A&&(A.template||null===A.templateUrl)&&(O=y),e&&e(O,r.childNodes,n,a),p=u.length-1;p>=0;p--)f=u[p],te(f,f.isolateScope?y:t,w,s,f.require&&h(f.directiveName,f.require,w,v),b)}d=d||{};for(var v,b,w,x,O=-Number.MAX_VALUE,k=d.newScopeDirective,T=d.controllerDirectives,A=d.newIsolateScopeDirective,I=d.templateDirective,L=d.nonTlbTranscludeDirective,N=!1,j=!1,P=d.hasElementTranscludeDirective,_=o.$$element=_n(i),F=s,B=0,q=e.length;q>B;B++){v=e[B];var z=v.$$start,K=v.$$end;if(z&&(_=R(i,z,K)),w=n,O>v.priority)break;if((w=v.scope)&&(v.templateUrl||(S(w)?(G("new/isolated scope",A||k,v,_),A=v):G("new/isolated scope",A,v,_)),k=k||v),b=v.name,!v.templateUrl&&v.controller&&(w=v.controller,T=T||le(),G("'"+b+"' controller",T[b],v,_),T[b]=v),(w=v.transclude)&&(N=!0,v.$$tlb||(G("transclusion",L,v,_),L=v),"element"==w?(P=!0,O=v.priority,w=_,_=o.$$element=_n(t.createComment(" "+b+": "+o[b]+" ")),i=_[0],Q(a,Yn.call(w,0),i),F=E(w,s,O,c&&c.name,{nonTlbTranscludeDirective:L})):(w=_n(ge(i)).contents(),_.empty(),F=E(w,s))),v.template)if(j=!0,G("template",I,v,_),I=v,w=$(v.template)?v.template(_,o):v.template,w=ce(w),v.replace){if(c=v,w=vi.test(w)?Ze(Z(v.templateNamespace,ti(w))):[],i=w[0],1!=w.length||i.nodeType!==ci)throw _i("tplrt",b,"");Q(a,_,i),q={$attr:{}},w=D(i,[],q);var X=e.splice(B+1,e.length-(B+1));A&&V(w),e=e.concat(w).concat(X),Y(o,q),q=e.length}else _.html(w);if(v.templateUrl)j=!0,G("template",I,v,_),I=v,v.replace&&(c=v),g=W(e.splice(B,e.length-B),_,o,a,N&&F,l,u,{controllerDirectives:T,newScopeDirective:k!==v&&k,newIsolateScopeDirective:A,templateDirective:I,nonTlbTranscludeDirective:L}),q=e.length;else if(v.compile)try{x=v.compile(_,o,F),$(x)?p(null,x,z,K):x&&p(x.pre,x.post,z,K)}catch(J){r(J,H(_))}v.terminal&&(g.terminal=!0,O=Math.max(O,v.priority))}return g.scope=k&&!0===k.scope,g.transcludeOnThisElement=N,g.templateOnThisElement=j,g.transclude=F,d.hasElementTranscludeDirective=P,g}function V(e){for(var t=0,n=e.length;n>t;t++)e[t]=h(e[t],{$$isolateScope:!0})}function B(t,i,o,s,a,l,u){if(i===a)return null;if(a=null,c.hasOwnProperty(i)){var d;i=e.get(i+"Directive");for(var p=0,f=i.length;f>p;p++)try{d=i[p],(s===n||s>d.priority)&&-1!=d.restrict.indexOf(o)&&(l&&(d=h(d,{$$start:l,$$end:u})),t.push(d),a=d)}catch(m){r(m)}}return a}function q(t){if(c.hasOwnProperty(t))for(var n=e.get(t+"Directive"),i=0,r=n.length;r>i;i++)if(t=n[i],t.multiElement)return!0;return!1}function Y(e,t){var n=t.$attr,i=e.$attr,r=e.$$element;o(e,function(i,r){"$"!=r.charAt(0)&&(t[r]&&t[r]!==i&&(i+=("style"===r?";":" ")+t[r]),e.$set(r,i,!0,n[r]))}),o(t,function(t,o){"class"==o?(I(r,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==o?(r.attr("style",r.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,i[o]=n[o])})}function W(e,t,n,i,r,a,c,l){var u,d,p=[],f=t[0],m=e.shift(),g=h(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),y=$(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,v=m.templateNamespace;return t.empty(),s(y).then(function(s){var h,b;if(s=ce(s),m.replace){if(s=vi.test(s)?Ze(Z(v,ti(s))):[],h=s[0],1!=s.length||h.nodeType!==ci)throw _i("tplrt",m.name,y);s={$attr:{}},Q(i,t,h);var w=D(h,[],s);S(m.scope)&&V(w),e=w.concat(e),Y(n,s)}else h=f,t.html(s);for(e.unshift(g),u=F(e,h,n,r,t,m,a,c,l),o(i,function(e,n){e==h&&(i[n]=t[0])}),d=L(t[0].childNodes,r);p.length;){s=p.shift(),b=p.shift();var x=p.shift(),C=p.shift(),w=t[0];if(!s.$$destroyed){if(b!==f){var O=b.className;l.hasElementTranscludeDirective&&m.replace||(w=ge(h)),Q(x,_n(b),w),I(_n(w),O)}b=u.transcludeOnThisElement?P(s,u.transclude,C):C,u(d,s,w,i,b,u)}}p=null}),function(e,t,n,i,r){e=r,t.$$destroyed||(p?p.push(t,n,i,e):(u.transcludeOnThisElement&&(e=P(t,u.transclude,r)),u(d,t,n,i,e,u)))}}function z(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function G(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw _i("multidir",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,H(i))}function K(e,t){var n=i(t,!0);n&&e.push({priority:0,compile:function(e){e=e.parent();var t=!!e.length;return t&&E.$$addBindingClass(e),function(e,i){var r=i.parent();t||E.$$addBindingClass(r),E.$$addBindingInfo(r,n.expressions),e.$watch(n,function(e){i[0].nodeValue=e})}}})}function Z(e,n){switch(e=Vn(e||"html")){case"svg":case"math":var i=t.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function X(e,t){if("srcdoc"==t)return k.HTML;var n=N(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?k.RESOURCE_URL:void 0}function J(e,t,n,r,o){var s=X(e,r);o=p[r]||o;var a=i(n,!0,s,o);if(a){if("multiple"===r&&"select"===N(e))throw _i("selmulti",H(e));t.push({priority:100,compile:function(){return{pre:function(e,t,c){if(t=c.$$observers||(c.$$observers={}),v.test(r))throw _i("nodomevents");var l=c[r];l!==n&&(a=l&&i(l,!0,s,o),n=l),a&&(c[r]=a(e),(t[r]||(t[r]=[])).$$inter=!0,(c.$$observers&&c.$$observers[r].$$scope||e).$watch(a,function(e,t){"class"===r&&e!=t?c.$updateClass(e,t):c.$set(r,e)}))}}}})}}function Q(e,n,i){var r,o,s=n[0],a=n.length,c=s.parentNode;if(e)for(r=0,o=e.length;o>r;r++)if(e[r]==s){e[r++]=i,o=r+a-1;for(var l=e.length;l>r;r++,o++)l>o?e[r]=e[o]:delete e[r];e.length-=a-1,e.context===s&&(e.context=i);break}for(c&&c.replaceChild(i,s),e=t.createDocumentFragment(),e.appendChild(s),_n.hasData(s)&&(_n(i).data(_n(s).data()),Rn?(Jn=!0,Rn.cleanData([s])):delete _n.cache[s[_n.expando]]),s=1,a=n.length;a>s;s++)c=n[s],_n(c).remove(),e.appendChild(c),delete n[s];n[0]=i,n.length=1}function ee(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function te(e,t,n,i,o,s){try{e(t,n,i,o,s)}catch(a){r(a,H(n))}}function ie(e,t,n,r,s,c){var l;return o(r,function(r,o){var c,u,d,p,f=r.attrName,h=r.optional;switch(r.mode){case"@":h||Bn.call(t,f)||(n[o]=t[f]=void 0),t.$observe(f,function(e){C(e)&&(n[o]=e)}),t.$$observers[f].$$scope=e,C(t[f])&&(n[o]=i(t[f])(e));break;case"=":if(!Bn.call(t,f)){if(h)break;t[f]=void 0}if(h&&!t[f])break;u=a(t[f]),p=u.literal?_:function(e,t){return e===t||e!==e&&t!==t},d=u.assign||function(){throw c=n[o]=u(e),_i("nonassign",t[f],s.name)},c=n[o]=u(e),h=function(t){return p(t,n[o])||(p(t,c)?d(e,t=n[o]):n[o]=t),c=t},h.$stateful=!0,h=r.collection?e.$watchCollection(t[f],h):e.$watch(a(t[f],h),null,u.literal),l=l||[],l.push(h);break;case"&":if(u=t.hasOwnProperty(f)?a(t[f]):m,u===m&&h)break;n[o]=function(t){return u(e,t)}}}),r=l?function(){for(var e=0,t=l.length;t>e;++e)l[e]()}:m,c&&r!==m?(c.$on("$destroy",r),m):r}var oe=function(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;i>n;n++)r=o[n],this[r]=t[r]}else this.$attr={};this.$$element=e};oe.prototype={$normalize:Ge,$addClass:function(e){e&&0<e.length&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ke(e,t);n&&n.length&&T.addClass(this.$$element,n),(n=Ke(t,e))&&n.length&&T.removeClass(this.$$element,n)},$set:function(e,t,i,s){var a=this.$$element[0],c=Ee(a,e),l=Le(a,e),a=e;if(c?(this.$$element.prop(e,t),s=c):l&&(this[l]=t,a=l),this[e]=t,s?this.$attr[e]=s:(s=this.$attr[e])||(this.$attr[e]=s=ne(e,"-")),c=N(this.$$element),"a"===c&&"href"===e||"img"===c&&"src"===e)this[e]=t=A(t,"src"===e);else if("img"===c&&"srcset"===e){for(var c="",l=ti(t),u=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,u=/\s/.test(l)?u:/(,)/,l=l.split(u),u=Math.floor(l.length/2),d=0;u>d;d++)var p=2*d,c=c+A(ti(l[p]),!0),c=c+(" "+ti(l[p+1]));l=ti(l[2*d]).split(/\s/),c+=A(ti(l[0]),!0),2===l.length&&(c+=" "+ti(l[1])),this[e]=t=c}!1!==i&&(null===t||t===n?this.$$element.removeAttr(s):this.$$element.attr(s,t)),(e=this.$$observers)&&o(e[a],function(e){try{e(t)}catch(n){r(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=le()),r=i[e]||(i[e]=[]);return r.push(t),w.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||b(n[e])||t(n[e])}),function(){j(r,t)}}};var se=i.startSymbol(),ae=i.endSymbol(),ce="{{"==se||"}}"==ae?g:function(e){return e.replace(/\{\{/g,se).replace(/}}/g,ae)},ue=/^ngAttr[A-Z]/;return E.$$addBindingInfo=x?function(e,t){var n=e.data("$binding")||[];Qn(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:m,E.$$addBindingClass=x?function(e){I(e,"ng-binding")}:m,E.$$addScopeInfo=x?function(e,t,n,i){e.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:m,E.$$addScopeClass=x?function(e,t){I(e,t?"ng-isolate-scope":"ng-scope")}:m,E}]}function Ge(e){return pe(e.replace(Ri,""))}function Ke(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/),o=0;e:for(;o<i.length;o++){for(var s=i[o],a=0;a<r.length;a++)if(s==r[a])continue e;n+=(0<n.length?" ":"")+s}return n}function Ze(e){e=_n(e);var t=e.length;if(1>=t)return e;for(;t--;)8===e[t].nodeType&&Hn.call(e,t,1);return e}function Xe(){var e={},t=!1;this.register=function(t,n){se(t,"controller"),S(t)?d(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(r,o){function s(e,t,n,r){if(!e||!S(e.$scope))throw i("$controller")("noscp",r,t);e.$scope[t]=n}return function(i,a,c,l){var u,p,f;if(c=!0===c,l&&C(l)&&(f=l),C(i)){if(l=i.match(Fi),!l)throw Ui("ctrlfmt",i);p=l[1],f=f||l[3],i=e.hasOwnProperty(p)?e[p]:ae(a.$scope,p,!0)||(t?ae(o,p,!0):n),oe(i,p,!0)}return c?(c=(Qn(i)?i[i.length-1]:i).prototype,u=Object.create(c||null),f&&s(a,f,u,p||i.name),d(function(){var e=r.invoke(i,u,a,p);return e!==u&&(S(e)||$(e))&&(u=e,f&&s(a,f,u,p||i.name)),u},{instance:u,identifier:f})):(u=r.instantiate(i,a,p),f&&s(a,f,u,p||i.name),u)}}]}function Je(){this.$get=["$window",function(e){return _n(e.document)}]}function Qe(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function et(e){return S(e)?k(e)?e.toISOString():V(e):e}function tt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return s(e,function(e,n){null===e||b(e)||(Qn(e)?o(e,function(e,i){t.push(Z(n)+"="+Z(et(e)))}):t.push(Z(n)+"="+Z(et(e))))}),t.join("&")}}}function nt(){this.$get=function(){return function(e){function t(e,i,r){null===e||b(e)||(Qn(e)?o(e,function(e,n){t(e,i+"["+(S(e)?n:"")+"]")}):S(e)&&!k(e)?s(e,function(e,n){t(e,i+(r?"":"[")+n+(r?"":"]"))}):n.push(Z(i)+"="+Z(et(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function it(e,t){if(C(e)){var n=e.replace(Wi,"").trim();if(n){var i=t("Content-Type");(i=i&&0===i.indexOf(Bi))||(i=(i=n.match(Yi))&&Hi[i[0]].test(n)),i&&(e=B(n))}}return e}function rt(e){var t,n=le();return C(e)?o(e.split("\n"),function(e){t=e.indexOf(":");var i=Vn(ti(e.substr(0,t)));e=ti(e.substr(t+1)),i&&(n[i]=n[i]?n[i]+", "+e:e)}):S(e)&&o(e,function(e,t){var i=Vn(t),r=ti(e);i&&(n[i]=n[i]?n[i]+", "+r:r)}),n}function ot(e){var t;return function(n){return t||(t=rt(e)),n?(n=t[Vn(n)],void 0===n&&(n=null),n):t}}function st(e,t,n,i){return $(i)?i(e,t,n):(o(i,function(i){e=i(e,t,n)}),e)}function at(){var e=this.defaults={transformResponse:[it],transformRequest:[function(e){return S(e)&&"[object File]"!==zn.call(e)&&"[object Blob]"!==zn.call(e)&&"[object FormData]"!==zn.call(e)?V(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:D(qi),put:D(qi),patch:D(qi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return w(e)?(t=!!e,this):t};var r=!0;this.useLegacyPromiseExtensions=function(e){return w(e)?(r=!!e,this):r};var s=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,c,l,u,p,f){function h(t){function s(e){var t=d({},e);return t.data=e.data?st(e.data,e.headers,e.status,c.transformResponse):e.data,e=e.status,e>=200&&300>e?t:p.reject(t)}function a(e,t){var n,i={};return o(e,function(e,r){$(e)?(n=e(t),null!=n&&(i[r]=n)):i[r]=e}),i}if(!Zn.isObject(t))throw i("$http")("badreq",t);
var c=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);c.headers=function(t){var n,i,r,o=e.headers,s=d({},t.headers),o=d({},o.common,o[Vn(t.method)]);e:for(n in o){i=Vn(n);for(r in s)if(Vn(r)===i)continue e;s[n]=o[n]}return a(s,D(t))}(t),c.method=qn(c.method),c.paramSerializer=C(c.paramSerializer)?f.get(c.paramSerializer):c.paramSerializer;var l=[function(t){var i=t.headers,r=st(t.data,ot(i),n,t.transformRequest);return b(r)&&o(i,function(e,t){"content-type"===Vn(t)&&delete i[t]}),b(t.withCredentials)&&!b(e.withCredentials)&&(t.withCredentials=e.withCredentials),m(t,r).then(s,s)},n],u=p.when(c);for(o(v,function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&l.push(e.response,e.responseError)});l.length;){t=l.shift();var h=l.shift(),u=u.then(t,h)}return r?(u.success=function(e){return oe(e,"fn"),u.then(function(t){e(t.data,t.status,t.headers,c)}),u},u.error=function(e){return oe(e,"fn"),u.then(null,function(t){e(t.data,t.status,t.headers,c)}),u}):(u.success=Gi("success"),u.error=Gi("error")),u}function m(i,r){function o(e,n,i,r){function o(){s(n,e,i,r)}f&&(e>=200&&300>e?f.put(O,[e,n,rt(i),r]):f.remove(O)),t?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function s(e,t,n,r){t=Math.max(t,0),(t>=200&&300>t?v.resolve:v.reject)({data:e,status:t,headers:ot(n),config:i,statusText:r})}function l(e){s(e.data,e.status,D(e.headers()),e.statusText)}function d(){var e=h.pendingRequests.indexOf(i);-1!==e&&h.pendingRequests.splice(e,1)}var f,m,v=p.defer(),x=v.promise,C=i.headers,O=g(i.url,i.paramSerializer(i.params));return h.pendingRequests.push(i),x.then(d,d),!i.cache&&!e.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(f=S(i.cache)?i.cache:S(e.cache)?e.cache:y),f&&(m=f.get(O),w(m)?m&&$(m.then)?m.then(l,l):Qn(m)?s(m[1],m[0],D(m[2]),m[3]):s(m,200,{},"OK"):f.put(O,x)),b(m)&&((m=nn(i.url)?c()[i.xsrfCookieName||e.xsrfCookieName]:n)&&(C[i.xsrfHeaderName||e.xsrfHeaderName]=m),a(i.method,O,r,o,C,i.timeout,i.withCredentials,i.responseType)),x}function g(e,t){return 0<t.length&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var y=l("$http");e.paramSerializer=C(e.paramSerializer)?f.get(e.paramSerializer):e.paramSerializer;var v=[];return o(s,function(e){v.unshift(C(e)?f.get(e):f.invoke(e))}),h.pendingRequests=[],function(e){o(arguments,function(e){h[e]=function(t,n){return h(d({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){o(arguments,function(e){h[e]=function(t,n,i){return h(d({},i||{},{method:e,url:t,data:n}))}})}("post","put","patch"),h.defaults=e,h}]}function ct(){return new e.XMLHttpRequest}function lt(){this.$get=["$browser","$window","$document",function(e,t,n){return ut(e,ct,e.defer,t.angular.callbacks,n[0])}]}function ut(e,t,i,r,s){function a(e,t,n){var i=s.createElement("script"),o=null;return i.type="text/javascript",i.src=e,i.async=!0,o=function(e){i.removeEventListener("load",o,!1),i.removeEventListener("error",o,!1),s.body.removeChild(i),i=null;var a=-1,c="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),c=e.type,a="error"===e.type?404:200),n&&n(a,c)},i.addEventListener("load",o,!1),i.addEventListener("error",o,!1),s.body.appendChild(i),o}return function(s,c,l,u,d,p,f,h){function g(){b&&b(),S&&S.abort()}function y(t,r,o,s,a){C!==n&&i.cancel(C),b=S=null,t(r,o,s,a),e.$$completeOutstandingRequest(m)}if(e.$$incOutstandingRequestCount(),c=c||e.url(),"jsonp"==Vn(s)){var v="_"+(r.counter++).toString(36);r[v]=function(e){r[v].data=e,r[v].called=!0};var b=a(c.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(e,t){y(u,e,r[v].data,"",t),r[v]=m})}else{var S=t();if(S.open(s,c,!0),o(d,function(e,t){w(e)&&S.setRequestHeader(t,e)}),S.onload=function(){var e=S.statusText||"",t="response"in S?S.response:S.responseText,n=1223===S.status?204:S.status;0===n&&(n=t?200:"file"==tn(c).protocol?404:0),y(u,n,t,S.getAllResponseHeaders(),e)},s=function(){y(u,-1,null,null,"")},S.onerror=s,S.onabort=s,f&&(S.withCredentials=!0),h)try{S.responseType=h}catch(x){if("json"!==h)throw x}S.send(l)}if(p>0)var C=i(g,p);else p&&$(p.then)&&p.then(g)}}function dt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(e){return"\\\\\\"+e}function s(n){return n.replace(u,e).replace(p,t)}function a(o,a,u,p){function f(e){try{var t=e;e=u?r.getTrusted(u,t):r.valueOf(t);var n;if(p&&!w(e))n=e;else if(null==e)n="";else{switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=V(e)}n=e}return n}catch(s){i(Ki.interr(o,s))}}p=!!p;for(var h,m,g=0,y=[],v=[],S=o.length,x=[],C=[];S>g;){if(-1==(h=o.indexOf(e,g))||-1==(m=o.indexOf(t,h+c))){g!==S&&x.push(s(o.substring(g)));break}g!==h&&x.push(s(o.substring(g,h))),g=o.substring(h+c,m),y.push(g),v.push(n(g,f)),g=m+l,C.push(x.length),x.push("")}if(u&&1<x.length&&Ki.throwNoconcat(o),!a||y.length){var O=function(e){for(var t=0,n=y.length;n>t;t++){if(p&&b(e[t]))return;x[C[t]]=e[t]}return x.join("")};return d(function(e){var t=0,n=y.length,r=Array(n);try{for(;n>t;t++)r[t]=v[t](e);return O(r)}catch(s){i(Ki.interr(o,s))}},{exp:o,expressions:y,$$watchDelegate:function(e,t){var n;return e.$watchGroup(v,function(i,r){var o=O(i);$(t)&&t.call(this,o,i!==r?n:o,e),n=o})}})}}var c=e.length,l=t.length,u=new RegExp(e.replace(/./g,o),"g"),p=new RegExp(t.replace(/./g,o),"g");return a.startSymbol=function(){return e},a.endSymbol=function(){return t},a}]}function pt(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,i){function r(r,s,a,c){var l=4<arguments.length,u=l?Yn.call(arguments,4):[],d=t.setInterval,p=t.clearInterval,f=0,h=w(c)&&!c,m=(h?i:n).defer(),g=m.promise;return a=w(a)?a:0,g.then(null,null,l?function(){r.apply(null,u)}:r),g.$$intervalId=d(function(){m.notify(f++),a>0&&f>=a&&(m.resolve(f),p(g.$$intervalId),delete o[g.$$intervalId]),h||e.$apply()},s),o[g.$$intervalId]=m,g}var o={};return r.cancel=function(e){return e&&e.$$intervalId in o?(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0):!1},r}]}function ft(e){e=e.split("/");for(var t=e.length;t--;)e[t]=K(e[t]);return e.join("/")}function ht(e,t){var n=tn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=f(n.port)||Xi[n.protocol]||null}function mt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var i=tn(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=z(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function gt(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function yt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function vt(e){return e.replace(/(#.+)|#$/,"$1")}function bt(e,t,i){this.$$html5=!0,i=i||"",ht(e,this),this.$$parse=function(e){var n=gt(t,e);if(!C(n))throw Ji("ipthprfx",e,t);mt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=G(this.$$search),n=this.$$hash?"#"+K(this.$$hash):"";this.$$url=ft(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var s,a;return(s=gt(e,r))!==n?(a=s,a=(s=gt(i,s))!==n?t+(gt("/",s)||s):e+a):(s=gt(t,r))!==n?a=t+s:t==r+"/"&&(a=t),a&&this.$$parse(a),!!a}}function wt(e,t,n){ht(e,this),this.$$parse=function(i){var r,o=gt(e,i)||gt(t,i);b(o)||"#"!==o.charAt(0)?this.$$html5?r=o:(r="",b(o)&&(e=i,this.replace())):(r=gt(n,o),b(r)&&(r=o)),mt(r,this),i=this.$$path;var o=e,s=/^\/[A-Z]:(\/.*)/;0===r.indexOf(o)&&(r=r.replace(o,"")),s.exec(r)||(i=(r=s.exec(i))?r[1]:i),this.$$path=i,this.$$compose()},this.$$compose=function(){var t=G(this.$$search),i=this.$$hash?"#"+K(this.$$hash):"";this.$$url=ft(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return yt(e)==yt(t)?(this.$$parse(t),!0):!1}}function St(e,t,n){this.$$html5=!0,wt.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,s;return e==yt(i)?o=i:(s=gt(t,i))?o=e+n+s:t===i+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=G(this.$$search),i=this.$$hash?"#"+K(this.$$hash):"";this.$$url=ft(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+n+this.$$url}}function xt(e){return function(){return this[e]}}function Ct(e,t){return function(n){return b(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Ot(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return w(t)?(e=t,this):e},this.html5Mode=function(e){return I(e)?(t.enabled=e,this):S(e)?(I(e.enabled)&&(t.enabled=e.enabled),I(e.requireBase)&&(t.requireBase=e.requireBase),I(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,s){function a(e,t,n){var r=l.url(),o=l.$$state;try{i.url(e,t,n),l.$$state=i.state()}catch(s){throw l.url(r),l.$$state=o,s}}function c(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}var l,u;u=i.baseHref();var d,p=i.url();if(t.enabled){if(!u&&t.requireBase)throw Ji("nobase");d=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(u||"/"),u=r.history?bt:St}else d=yt(p),u=wt;var f=d.substr(0,yt(d).lastIndexOf("/")+1);l=new u(d,f,"#"+e),l.$$parseLinkUrl(p,p),l.$$state=i.state();var h=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var r=_n(e.target);"a"!==N(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var a=r.prop("href"),c=r.attr("href")||r.attr("xlink:href");S(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=tn(a.animVal).href),h.test(a)||!a||r.attr("target")||e.isDefaultPrevented()||!l.$$parseLinkUrl(a,c)||(e.preventDefault(),l.absUrl()!=i.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),vt(l.absUrl())!=vt(p)&&i.url(l.absUrl(),!0);var m=!0;return i.onUrlChange(function(e,t){b(gt(f,e))?s.location.href=e:(n.$evalAsync(function(){var i,r=l.absUrl(),o=l.$$state;l.$$parse(e),l.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,l.absUrl()===e&&(i?(l.$$parse(r),l.$$state=o,a(r,!1,o)):(m=!1,c(r,o)))}),n.$$phase||n.$digest())}),n.$watch(function(){var e=vt(i.url()),t=vt(l.absUrl()),o=i.state(),s=l.$$replace,u=e!==t||l.$$html5&&r.history&&o!==l.$$state;(m||u)&&(m=!1,n.$evalAsync(function(){var t=l.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,l.$$state,o).defaultPrevented;l.absUrl()===t&&(i?(l.$$parse(e),l.$$state=o):(u&&a(t,s,o===l.$$state?null:l.$$state),c(e,o)))})),l.$$replace=!1}),l}]}function kt(){var e=!0,t=this;this.debugEnabled=function(t){return w(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function r(e){var t=n.console||{},r=t[e]||t.log||m;e=!1;try{e=!!r.apply}catch(s){}return e?function(){var e=[];return o(arguments,function(t){e.push(i(t))}),r.apply(t,e)}:function(e,t){r(e,null==t?"":t)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function $t(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw er("isecfld",t);return e}function Tt(e,t){if(e){if(e.constructor===e)throw er("isecfn",t);if(e.window===e)throw er("isecwindow",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw er("isecdom",t);if(e===Object)throw er("isecobj",t)}return e}function At(e,t){if(e){if(e.constructor===e)throw er("isecfn",t);if(e===tr||e===nr||e===ir)throw er("isecff",t)}}function Mt(e,t){return"undefined"!=typeof e?e:t}function It(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function Et(e,t){var n,i;switch(e.type){case ar.Program:n=!0,o(e.body,function(e){Et(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case ar.Literal:e.constant=!0,e.toWatch=[];break;case ar.UnaryExpression:Et(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case ar.BinaryExpression:Et(e.left,t),Et(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case ar.LogicalExpression:Et(e.left,t),Et(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case ar.ConditionalExpression:Et(e.test,t),Et(e.alternate,t),Et(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case ar.Identifier:e.constant=!1,e.toWatch=[e];break;case ar.MemberExpression:Et(e.object,t),e.computed&&Et(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case ar.CallExpression:n=e.filter?!t(e.callee.name).$stateful:!1,i=[],o(e.arguments,function(e){Et(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&!t(e.callee.name).$stateful?i:[e];break;case ar.AssignmentExpression:Et(e.left,t),Et(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case ar.ArrayExpression:n=!0,i=[],o(e.elements,function(e){Et(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=i;break;case ar.ObjectExpression:n=!0,i=[],o(e.properties,function(e){Et(e.value,t),n=n&&e.value.constant,e.value.constant||i.push.apply(i,e.value.toWatch)}),e.constant=n,e.toWatch=i;break;case ar.ThisExpression:e.constant=!1,e.toWatch=[]}}function Lt(e){if(1==e.length){e=e[0].expression;var t=e.toWatch;return 1!==t.length?t:t[0]!==e?t:n}}function Nt(e){return e.type===ar.Identifier||e.type===ar.MemberExpression}function jt(e){return 1===e.body.length&&Nt(e.body[0].expression)?{type:ar.AssignmentExpression,left:e.body[0].expression,right:{type:ar.NGValueParameter},operator:"="}:void 0}function Pt(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===ar.Literal||e.body[0].expression.type===ar.ArrayExpression||e.body[0].expression.type===ar.ObjectExpression)}function Dt(e,t){this.astBuilder=e,this.$filter=t}function _t(e,t){this.astBuilder=e,this.$filter=t}function Rt(e){return"constructor"==e}function Ut(e){return $(e.valueOf)?e.valueOf():lr.call(e)}function Ft(){var e=le(),t=le();this.$get=["$filter",function(i){function r(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=Ut(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function s(e,t,i,o,s){var a,c=o.inputs;if(1===c.length){var l=r,c=c[0];return e.$watch(function(e){var t=c(e);return r(t,l)||(a=o(e,n,n,[t]),l=t&&Ut(t)),a},t,i,s)}for(var u=[],d=[],p=0,f=c.length;f>p;p++)u[p]=r,d[p]=null;return e.$watch(function(e){for(var t=!1,i=0,s=c.length;s>i;i++){var l=c[i](e);(t||(t=!r(l,u[i])))&&(d[i]=l,u[i]=l&&Ut(l))}return t&&(a=o(e,n,n,d)),a},t,i,s)}function a(e,t,n,i){var r,o;return r=e.$watch(function(e){return i(e)},function(e,n,i){o=e,$(t)&&t.apply(this,arguments),w(e)&&i.$$postDigest(function(){w(o)&&r()})},n)}function c(e,t,n,i){function r(e){var t=!0;return o(e,function(e){w(e)||(t=!1)}),t}var s,a;return s=e.$watch(function(e){return i(e)},function(e,n,i){a=e,$(t)&&t.call(this,e,n,i),r(e)&&i.$$postDigest(function(){r(a)&&s()})},n)}function l(e,t,n,i){var r;return r=e.$watch(function(e){return i(e)},function(e,n,i){$(t)&&t.apply(this,arguments),r()},n)}function u(e,t){if(!t)return e;var n=e.$$watchDelegate,n=n!==c&&n!==a?function(n,i,r,o){return r=e(n,i,r,o),t(r,n,i)}:function(n,i,r,o){return r=e(n,i,r,o),n=t(r,n,i),w(r)?n:r};return e.$$watchDelegate&&e.$$watchDelegate!==s?n.$$watchDelegate=e.$$watchDelegate:t.$stateful||(n.$$watchDelegate=s,n.inputs=e.inputs?e.inputs:[e]),n}var d=ii().noUnsafeEval,p={csp:d,expensiveChecks:!1},f={csp:d,expensiveChecks:!0};return function(n,r,o){var d,h,g;switch(typeof n){case"string":g=n=n.trim();var y=o?t:e;return d=y[g],d||(":"===n.charAt(0)&&":"===n.charAt(1)&&(h=!0,n=n.substring(2)),o=o?f:p,d=new sr(o),d=new cr(d,i,o).parse(n),d.constant?d.$$watchDelegate=l:h?d.$$watchDelegate=d.literal?c:a:d.inputs&&(d.$$watchDelegate=s),y[g]=d),u(d,r);case"function":return u(n,r);default:return m}}}]}function Vt(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return qt(function(t){e.$evalAsync(t)},t)}]}function Bt(){this.$get=["$browser","$exceptionHandler",function(e,t){return qt(function(t){e.defer(t)},t)}]}function qt(e,t){function r(e,t,n){function i(t){return function(n){r||(r=!0,t.call(e,n))}}var r=!1;return[i(t),i(n)]}function s(){this.$$state={status:0}}function a(e,t){return function(n){t.call(e,n)}}function c(i){!i.processScheduled&&i.pending&&(i.processScheduled=!0,e(function(){var e,r,o;o=i.pending,i.processScheduled=!1,i.pending=n;for(var s=0,a=o.length;a>s;++s){r=o[s][0],e=o[s][i.status];try{$(e)?r.resolve(e(i.value)):1===i.status?r.resolve(i.value):r.reject(i.value)}catch(c){r.reject(c),t(c)}}}))}function l(){this.promise=new s,this.resolve=a(this,this.resolve),this.reject=a(this,this.reject),this.notify=a(this,this.notify)}var u=i("$q",TypeError);d(s.prototype,{then:function(e,t,n){if(b(e)&&b(t)&&b(n))return this;var i=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),0<this.$$state.status&&c(this.$$state),i.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return f(t,!0,e)},function(t){return f(t,!1,e)},t)}}),d(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(u("qcycle",e)):this.$$resolve(e))},$$resolve:function(e){var n,i;i=r(this,this.$$resolve,this.$$reject);try{(S(e)||$(e))&&(n=e&&e.then),$(n)?(this.promise.$$state.status=-1,n.call(e,i[0],i[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,c(this.promise.$$state))}catch(o){i[1](o),t(o)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,c(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;0>=this.promise.$$state.status&&i&&i.length&&e(function(){for(var e,r,o=0,s=i.length;s>o;o++){r=i[o][0],e=i[o][3];try{r.notify($(e)?e(n):n)}catch(a){t(a)}}})}});var p=function(e,t){var n=new l;return t?n.resolve(e):n.reject(e),n.promise},f=function(e,t,n){var i=null;try{$(n)&&(i=n())}catch(r){return p(r,!1)}return i&&$(i.then)?i.then(function(){return p(e,t)},function(e){return p(e,!1)}):p(e,t)},h=function(e,t,n,i){var r=new l;return r.resolve(e),r.promise.then(t,n,i)},m=function g(e){if(!$(e))throw u("norslvr",e);if(!(this instanceof g))return new g(e);var t=new l;return e(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise};return m.defer=function(){return new l},m.reject=function(e){var t=new l;return t.reject(e),t.promise},m.when=h,m.resolve=h,m.all=function(e){var t=new l,n=0,i=Qn(e)?[]:{};return o(e,function(e,r){n++,h(e).then(function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(i),t.promise},m}function Yt(){this.$get=["$window","$timeout",function(e,t){function n(){for(var e=0;e<u.length;e++){var t=u[e];t&&(u[e]=null,t())}l=u.length=0}function i(e){var t=u.length;return l++,u.push(e),0===t&&(c=a(n)),function(){t>=0&&(t=u[t]=null,0===--l&&c&&(c(),c=null,u.length=0))}}var r=e.requestAnimationFrame||e.webkitRequestAnimationFrame,o=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,s=!!r,a=s?function(e){var t=r(e);return function(){o(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};i.supported=s;var c,l=0,u=[];return i}]}function Ht(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++Xn,this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=i("$rootScope"),s=null,a=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,c,l,u){function d(e){e.currentScope.$$destroyed=!0}function p(){this.$id=++Xn,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function f(e){if(x.$$phase)throw n("inprog",x.$$phase);x.$$phase=e}function h(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function g(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function y(){}function v(){for(;k.length;)try{k.shift()()}catch(e){c(e)}a=null}function w(){null===a&&(a=u.defer(function(){x.$apply(v)}))}p.prototype={constructor:p,$new:function(t,n){var i;return n=n||this,t?(i=new p,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(t||n!=this)&&i.$on("$destroy",d),i},$watch:function(e,t,n,i){var r=l(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r,e);var o=this,a=o.$$watchers,c={fn:t,last:y,get:r,exp:i||e,eq:!!n};return s=null,$(t)||(c.fn=m),a||(a=o.$$watchers=[]),a.unshift(c),h(this,1),function(){0<=j(a,c)&&h(o,-1),s=null}},$watchGroup:function(e,t){function n(){c=!1,l?(l=!1,t(r,r,a)):t(r,i,a)}var i=Array(e.length),r=Array(e.length),s=[],a=this,c=!1,l=!0;if(!e.length){var u=!0;return a.$evalAsync(function(){u&&t(r,r,a)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){r[0]=e,i[0]=n,t(r,e===n?r:i,o)}):(o(e,function(e,t){var o=a.$watch(e,function(e,o){r[t]=e,i[t]=o,c||(c=!0,a.$evalAsync(n))});s.push(o)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(e,t){function n(e){i=e;var t,n,s,a;if(!b(i)){if(S(i))if(r(i))for(o!==p&&(o=p,m=o.length=0,u++),e=i.length,m!==e&&(u++,o.length=m=e),t=0;e>t;t++)a=o[t],s=i[t],n=a!==a&&s!==s,n||a===s||(u++,o[t]=s);else{o!==f&&(o=f={},m=0,u++),e=0;for(t in i)i.hasOwnProperty(t)&&(e++,s=i[t],a=o[t],t in o?(n=a!==a&&s!==s,n||a===s||(u++,o[t]=s)):(m++,o[t]=s,u++));if(m>e)for(t in u++,o)i.hasOwnProperty(t)||(m--,delete o[t])}else o!==i&&(o=i,u++);return u}}n.$stateful=!0;var i,o,s,a=this,c=1<t.length,u=0,d=l(e,n),p=[],f={},h=!0,m=0;return this.$watch(d,function(){if(h?(h=!1,t(i,i,a)):t(i,s,a),c)if(S(i))if(r(i)){s=Array(i.length);for(var e=0;e<i.length;e++)s[e]=i[e]}else for(e in s={},i)Bn.call(i,e)&&(s[e]=i[e]);else s=i})},$digest:function(){var e,i,r,o,l,d,p,h,m,g=t,b=[];f("$digest"),u.$$checkUrlChange(),this===x&&null!==a&&(u.defer.cancel(a),v()),s=null;do{for(d=!1,p=this;C.length;){try{m=C.shift(),m.scope.$eval(m.expression,m.locals)}catch(w){c(w)}s=null}e:do{if(o=p.$$watchers)for(l=o.length;l--;)try{if(e=o[l])if((i=e.get(p))===(r=e.last)||(e.eq?_(i,r):"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))){if(e===s){d=!1;break e}}else d=!0,s=e,e.last=e.eq?P(i,null):i,e.fn(i,r===y?i:r,p),5>g&&(h=4-g,b[h]||(b[h]=[]),b[h].push({msg:$(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:i,oldVal:r}))}catch(S){c(S)}if(!(o=p.$$watchersCount&&p.$$childHead||p!==this&&p.$$nextSibling))for(;p!==this&&!(o=p.$$nextSibling);)p=p.$parent}while(p=o);if((d||C.length)&&!g--)throw x.$$phase=null,n("infdig",t,b)}while(d||C.length);for(x.$$phase=null;O.length;)try{O.shift()()}catch(k){c(k)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===x&&u.$$applicationDestroyed(),h(this,-this.$$watchersCount);for(var t in this.$$listenerCount)g(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=m,this.$on=this.$watch=this.$watchGroup=function(){return m},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(e,t){return l(e)(this,t)},$evalAsync:function(e,t){x.$$phase||C.length||u.defer(function(){C.length&&x.$digest()}),C.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){O.push(e)},$apply:function(e){try{f("$apply");try{return this.$eval(e)}finally{x.$$phase=null}}catch(t){c(t)}finally{try{x.$digest()}catch(n){throw c(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&k.push(t),w()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(n[i]=null,g(r,1,e))}},$emit:function(e,t){var n,i,r,o=[],s=this,a=!1,l={name:e,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=R([l],arguments,1);do{for(n=s.$$listeners[e]||o,l.currentScope=s,i=0,r=n.length;r>i;i++)if(n[i])try{n[i].apply(null,u)}catch(d){c(d)}else n.splice(i,1),i--,r--;if(a)return l.currentScope=null,l;s=s.$parent}while(s);return l.currentScope=null,l},$broadcast:function(e,t){var n=this,i=this,r={name:e,targetScope:this,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return r;for(var o,s,a=R([r],arguments,1);n=i;){for(r.currentScope=n,i=n.$$listeners[e]||[],o=0,s=i.length;s>o;o++)if(i[o])try{i[o].apply(null,a)}catch(l){c(l)}else i.splice(o,1),o--,s--;if(!(i=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}return r.currentScope=null,r}};var x=new p,C=x.$$asyncQueue=[],O=x.$$postDigestQueue=[],k=x.$$applyAsyncQueue=[];return x}]}function Wt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return w(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,o=i?t:e;return r=tn(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function zt(e){if("self"===e)return e;if(C(e)){if(-1<e.indexOf("***"))throw ur("iwcard",e);return e=ni(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(T(e))return new RegExp("^"+e.source+"$");throw ur("imatcher")}function Gt(e){var t=[];return w(e)&&o(e,function(e){t.push(zt(e))}),t}function Kt(){this.SCE_CONTEXTS=dr;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Gt(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Gt(e)),t},this.$get=["$injector",function(i){function r(e,t){return"self"===e?nn(t):!!e.exec(t.href)}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var s=function(e){throw ur("unsafe")};i.has("$sanitize")&&(s=i.get("$sanitize"));var a=o(),c={};return c[dr.HTML]=o(a),c[dr.CSS]=o(a),c[dr.URL]=o(a),c[dr.JS]=o(a),c[dr.RESOURCE_URL]=o(c[dr.URL]),{trustAs:function(e,t){var i=c.hasOwnProperty(e)?c[e]:null;if(!i)throw ur("icontext",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw ur("itype",e);return new i(t)},getTrusted:function(i,o){if(null===o||o===n||""===o)return o;var a=c.hasOwnProperty(i)?c[i]:null;if(a&&o instanceof a)return o.$$unwrapTrustedValue();if(i===dr.RESOURCE_URL){var l,u,a=tn(o.toString()),d=!1;for(l=0,u=e.length;u>l;l++)if(r(e[l],a)){d=!0;break}if(d)for(l=0,u=t.length;u>l;l++)if(r(t[l],a)){d=!1;break}if(d)return o;throw ur("insecurl",o.toString())}if(i===dr.HTML)return s(o);throw ur("unsafe")},valueOf:function(e){return e instanceof a?e.$$unwrapTrustedValue():e}}}]}function Zt(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Dn)throw ur("iequirks");var i=D(dr);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=g),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var r=i.parseAs,s=i.getTrusted,a=i.trustAs;return o(dr,function(e,t){var n=Vn(t);i[pe("parse_as_"+n)]=function(t){return r(e,t)},i[pe("get_trusted_"+n)]=function(t){return s(e,t)},i[pe("trust_as_"+n)]=function(t){return a(e,t)}}),i}]}function Xt(){this.$get=["$window","$document",function(e,t){var n,i={},r=f((/android (\d+)/.exec(Vn((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},a=/^(Moz|webkit|ms)(?=[A-Z])/,c=s.body&&s.body.style,l=!1,u=!1;if(c){for(var d in c)if(l=a.exec(d)){n=l[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),l=!!("transition"in c||n+"Transition"in c),u=!!("animation"in c||n+"Animation"in c),!r||l&&u||(l=C(c.webkitTransition),u=C(c.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>r||o),hasEvent:function(e){if("input"===e&&11>=Dn)return!1;if(b(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:ii(),vendorPrefix:n,transitions:l,animations:u,android:r}}]}function Jt(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,n,i){function r(o,s){r.totalPendingRequests++,C(o)&&e.get(o)||(o=i.getTrustedResourceUrl(o));var a=t.defaults&&t.defaults.transformResponse;return Qn(a)?a=a.filter(function(e){return e!==it}):a===it&&(a=null),t.get(o,{cache:e,transformResponse:a})["finally"](function(){r.totalPendingRequests--}).then(function(t){return e.put(o,t.data),t.data},function(e){if(!s)throw _i("tpload",o,e.status,e.statusText);return n.reject(e)})}return r.totalPendingRequests=0,r}]}function Qt(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var i=[];return o(e,function(e){var r=Zn.element(e).data("$binding");r&&o(r,function(r){n?new RegExp("(^|\\s)"+ni(t)+"(\\s|\\||$)").test(r)&&i.push(e):-1!=r.indexOf(t)&&i.push(e)})}),i},findModels:function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=e.querySelectorAll("["+i[r]+"model"+(n?"=":"*=")+'"'+t+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function en(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){function o(o,a,c){$(o)||(c=a,a=o,o=m);var l,u=Yn.call(arguments,3),d=w(c)&&!c,p=(d?i:n).defer(),f=p.promise;return l=t.defer(function(){try{p.resolve(o.apply(null,u))}catch(t){p.reject(t),r(t)}finally{delete s[f.$$timeoutId]}d||e.$apply()},a),f.$$timeoutId=l,s[l]=p,f}var s={};return o.cancel=function(e){return e&&e.$$timeoutId in s?(s[e.$$timeoutId].reject("canceled"),delete s[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function tn(e){return Dn&&(pr.setAttribute("href",e),e=pr.href),pr.setAttribute("href",e),{href:pr.href,protocol:pr.protocol?pr.protocol.replace(/:$/,""):"",host:pr.host,search:pr.search?pr.search.replace(/^\?/,""):"",hash:pr.hash?pr.hash.replace(/^#/,""):"",hostname:pr.hostname,port:pr.port,pathname:"/"===pr.pathname.charAt(0)?pr.pathname:"/"+pr.pathname}}function nn(e){return e=C(e)?tn(e):e,e.protocol===fr.protocol&&e.host===fr.host}function rn(){this.$get=y(e)}function on(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var i=e[0]||{},r={},o="";
return function(){var e,s,a,c,l;if(e=i.cookie||"",e!==o)for(o=e,e=o.split("; "),r={},a=0;a<e.length;a++)s=e[a],c=s.indexOf("="),c>0&&(l=t(s.substring(0,c)),r[l]===n&&(r[l]=t(s.substring(c+1))));return r}}function sn(){this.$get=on}function an(e){function t(n,i){if(S(n)){var r={};return o(n,function(e,n){r[n]=t(n,e)}),r}return e.factory(n+"Filter",i)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",pn),t("date",Sn),t("filter",cn),t("json",xn),t("limitTo",Cn),t("lowercase",vr),t("number",fn),t("orderBy",On),t("uppercase",br)}function cn(){return function(e,t,n){if(!r(e)){if(null==e)return e;throw i("filter")("notarray",e)}var o;switch(dn(t)){case"function":break;case"boolean":case"null":case"number":case"string":o=!0;case"object":t=ln(t,n,o);break;default:return e}return Array.prototype.filter.call(e,t)}}function ln(e,t,n){var i=S(e)&&"$"in e;return!0===t?t=_:$(t)||(t=function(e,t){return b(e)?!1:null===e||null===t?e===t:S(t)||S(e)&&!v(e)?!1:(e=Vn(""+e),t=Vn(""+t),-1!==e.indexOf(t))}),function(r){return i&&!S(r)?un(r,e.$,t,!1):un(r,e,t,n)}}function un(e,t,n,i,r){var o=dn(e),s=dn(t);if("string"===s&&"!"===t.charAt(0))return!un(e,t.substring(1),n,i);if(Qn(e))return e.some(function(e){return un(e,t,n,i)});switch(o){case"object":var a;if(i){for(a in e)if("$"!==a.charAt(0)&&un(e[a],t,n,!0))return!0;return r?!1:un(e,t,n,!1)}if("object"===s){for(a in t)if(r=t[a],!$(r)&&!b(r)&&(o="$"===a,!un(o?e:e[a],r,n,o,o)))return!1;return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function dn(e){return null===e?"null":typeof e}function pn(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return b(n)&&(n=t.CURRENCY_SYM),b(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:hn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function fn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:hn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function hn(e,t,n,i,r){if(S(e))return"";var o=0>e;e=Math.abs(e);var s=1/0===e;if(!s&&!isFinite(e))return"";var a=e+"",c="",l=!1,u=[];if(s&&(c="∞"),!s&&-1!==a.indexOf("e")){var d=a.match(/([\d\.]+)e(-?)(\d+)/);d&&"-"==d[2]&&d[3]>r+1?e=0:(c=a,l=!0)}if(s||l)r>0&&1>e&&(c=e.toFixed(r),e=parseFloat(c));else{s=(a.split(hr)[1]||"").length,b(r)&&(r=Math.min(Math.max(t.minFrac,s),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+r)).toString()+"e"+-r);var s=(""+e).split(hr),a=s[0],s=s[1]||"",d=0,p=t.lgSize,f=t.gSize;if(a.length>=p+f)for(d=a.length-p,l=0;d>l;l++)0===(d-l)%f&&0!==l&&(c+=n),c+=a.charAt(l);for(l=d;l<a.length;l++)0===(a.length-l)%p&&0!==l&&(c+=n),c+=a.charAt(l);for(;s.length<r;)s+="0";r&&"0"!==r&&(c+=i+s.substr(0,r))}return 0===e&&(o=!1),u.push(o?t.negPre:t.posPre,c,o?t.negSuf:t.posSuf),u.join("")}function mn(e,t,n){var i="";for(0>e&&(i="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function gn(e,t,n,i){return n=n||0,function(r){return r=r["get"+e](),(n>0||r>-n)&&(r+=n),0===r&&-12==n&&(r=12),mn(r,t,i)}}function yn(e,t){return function(n,i){var r=n["get"+e](),o=qn(t?"SHORT"+e:e);return i[o][r]}}function vn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function bn(e){return function(t){var n=vn(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n,t=1+Math.round(t/6048e5),mn(t,e)}}function wn(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function Sn(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var i=0,r=0,o=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(i=f(t[9]+t[10]),r=f(t[9]+t[11])),o.call(e,f(t[1]),f(t[2])-1,f(t[3])),i=f(t[4]||0)-i,r=f(t[5]||0)-r,o=f(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),s.call(e,i,r,o,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var s,a,c="",l=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,C(n)&&(n=yr.test(n)?f(n):t(n)),O(n)&&(n=new Date(n)),!k(n)||!isFinite(n.getTime()))return n;for(;i;)(a=gr.exec(i))?(l=R(l,a,1),i=l.pop()):(l.push(i),i=null);var u=n.getTimezoneOffset();return r&&(u=q(r,n.getTimezoneOffset()),n=Y(n,r,!0)),o(l,function(t){s=mr[t],c+=s?s(n,e.DATETIME_FORMATS,u):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function xn(){return function(e,t){return b(t)&&(t=2),V(e,t)}}function Cn(){return function(e,t,n){return t=1/0===Math.abs(Number(t))?Number(t):f(t),isNaN(t)?e:(O(e)&&(e=e.toString()),Qn(e)||C(e)?(n=!n||isNaN(n)?0:f(n),n=0>n&&n>=-e.length?e.length+n:n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function On(e){function t(t,n){return n=n?-1:1,t.map(function(t){var i=1,r=g;if($(t))r=t;else if(C(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(i="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant)))var o=r(),r=function(e){return e[o]};return{get:r,descending:i*n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}return function(e,i,o){if(!r(e))return e;Qn(i)||(i=[i]),0===i.length&&(i=["+"]);var s=t(i,o);return s.push({get:function(){return{}},descending:o?-1:1}),e=Array.prototype.map.call(e,function(e,t){return{value:e,predicateValues:s.map(function(i){var r=i.get(e);return i=typeof r,null===r?(i="string",r="null"):"string"===i?r=r.toLowerCase():"object"===i&&("function"==typeof r.valueOf&&(r=r.valueOf(),n(r))||v(r)&&(r=r.toString(),n(r))||(r=t)),{value:r,type:i}})}}),e.sort(function(e,t){for(var n=0,i=0,r=s.length;r>i;++i){var n=e.predicateValues[i],o=t.predicateValues[i],a=0;if(n.type===o.type?n.value!==o.value&&(a=n.value<o.value?-1:1):a=n.type<o.type?-1:1,n=a*s[i].descending)break}return n}),e=e.map(function(e){return e.value})}}function kn(e){return $(e)&&(e={link:e}),e.restrict=e.restrict||"AC",y(e)}function $n(e,t,i,r,s){var a=this,c=[],l=a.$$parentForm=e.parent().controller("form")||xr;a.$error={},a.$$success={},a.$pending=n,a.$name=s(t.name||t.ngForm||"")(i),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,l.$addControl(a),a.$rollbackViewValue=function(){o(c,function(e){e.$rollbackViewValue()})},a.$commitViewValue=function(){o(c,function(e){e.$commitViewValue()})},a.$addControl=function(e){se(e.$name,"input"),c.push(e),e.$name&&(a[e.$name]=e)},a.$$renameControl=function(e,t){var n=e.$name;a[n]===e&&delete a[n],a[t]=e,e.$name=t},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],o(a.$pending,function(t,n){a.$setValidity(n,null,e)}),o(a.$error,function(t,n){a.$setValidity(n,null,e)}),o(a.$$success,function(t,n){a.$setValidity(n,null,e)}),j(c,e)},jn({ctrl:this,$element:e,set:function(e,t,n){var i=e[t];i?-1===i.indexOf(n)&&i.push(n):e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(j(i,n),0===i.length&&delete e[t])},parentForm:l,$animate:r}),a.$setDirty=function(){r.removeClass(e,io),r.addClass(e,ro),a.$dirty=!0,a.$pristine=!1,l.$setDirty()},a.$setPristine=function(){r.setClass(e,io,ro+" ng-submitted"),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,o(c,function(e){e.$setPristine()})},a.$setUntouched=function(){o(c,function(e){e.$setUntouched()})},a.$setSubmitted=function(){r.addClass(e,"ng-submitted"),a.$submitted=!0,l.$setSubmitted()}}function Tn(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function An(e,t,n,i,r,o){var s=Vn(t[0].type);if(!r.android){var a=!1;t.on("compositionstart",function(e){a=!0}),t.on("compositionend",function(){a=!1,c()})}var c=function(e){if(l&&(o.defer.cancel(l),l=null),!a){var r=t.val();e=e&&e.type,"password"===s||n.ngTrim&&"false"===n.ngTrim||(r=ti(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,e)}};if(r.hasEvent("input"))t.on("input",c);else{var l,u=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||u(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",c),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function Mn(e,t){return function(n,i){var r,s;if(k(n))return n;if(C(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),$r.test(n))return new Date(n);if(e.lastIndex=0,r=e.exec(n))return r.shift(),s=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(e,n){n<t.length&&(s[t[n]]=+e)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return NaN}}function In(e,t,i,r){return function(o,s,a,c,l,u,d){function p(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function f(e){return w(e)?k(e)?e:i(e):n}En(o,s,a,c),An(o,s,a,c,l,u);var h,m=c&&c.$options&&c.$options.timezone;if(c.$$parserName=e,c.$parsers.push(function(e){return c.$isEmpty(e)?null:t.test(e)?(e=i(e,h),m&&(e=Y(e,m)),e):n}),c.$formatters.push(function(e){if(e&&!k(e))throw so("datefmt",e);return p(e)?((h=e)&&m&&(h=Y(h,m,!0)),d("date")(e,r,m)):(h=null,"")}),w(a.min)||a.ngMin){var g;c.$validators.min=function(e){return!p(e)||b(g)||i(e)>=g},a.$observe("min",function(e){g=f(e),c.$validate()})}if(w(a.max)||a.ngMax){var y;c.$validators.max=function(e){return!p(e)||b(y)||i(e)<=y},a.$observe("max",function(e){y=f(e),c.$validate()})}}}function En(e,t,i,r){(r.$$hasNativeValidators=S(t[0].validity))&&r.$parsers.push(function(e){var i=t.prop("validity")||{};return i.badInput&&!i.typeMismatch?n:e})}function Ln(e,t,n,i,r){if(w(i)){if(e=e(i),!e.constant)throw so("constexpr",n,i);return e(t)}return r}function Nn(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[],i=0;e:for(;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r==t[o])continue e;n.push(r)}return n}function r(e){var t=[];return Qn(e)?(o(e,function(e){t=t.concat(r(e))}),t):C(e)?e.split(" "):S(e)?(o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(s,a,c){function l(e,t){var n=a.data("$classCounts")||le(),i=[];return o(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&i.push(e))}),a.data("$classCounts",n),i.join(" ")}function u(e){if(!0===t||s.$index%2===t){var o=r(e||[]);if(d){if(!_(e,d)){var u=r(d),p=i(o,u),o=i(u,o),p=l(p,1),o=l(o,-1);p&&p.length&&n.addClass(a,p),o&&o.length&&n.removeClass(a,o)}}else{var p=l(o,1);c.$addClass(p)}}d=D(e)}var d;s.$watch(c[e],u,!0),c.$observe("class",function(t){u(s.$eval(c[e]))}),"ngClass"!==e&&s.$watch("$index",function(n,i){var o=1&n;if(o!==(1&i)){var a=r(s.$eval(c[e]));o===t?(o=l(a,1),c.$addClass(o)):(o=l(a,-1),c.$removeClass(o))}})}}}]}function jn(e){function t(e,t){t&&!s[e]?(u.addClass(o,e),s[e]=!0):!t&&s[e]&&(u.removeClass(o,e),s[e]=!1)}function i(e,n){e=e?"-"+ne(e,"-"):"",t(to+e,!0===n),t(no+e,!1===n)}var r=e.ctrl,o=e.$element,s={},a=e.set,c=e.unset,l=e.parentForm,u=e.$animate;s[no]=!(s[to]=o.hasClass(to)),r.$setValidity=function(e,o,s){o===n?(r.$pending||(r.$pending={}),a(r.$pending,e,s)):(r.$pending&&c(r.$pending,e,s),Pn(r.$pending)&&(r.$pending=n)),I(o)?o?(c(r.$error,e,s),a(r.$$success,e,s)):(a(r.$error,e,s),c(r.$$success,e,s)):(c(r.$error,e,s),c(r.$$success,e,s)),r.$pending?(t(oo,!0),r.$valid=r.$invalid=n,i("",null)):(t(oo,!1),r.$valid=Pn(r.$error),r.$invalid=!r.$valid,i("",r.$valid)),o=r.$pending&&r.$pending[e]?n:r.$error[e]?!1:r.$$success[e]?!0:null,i(e,o),l.$setValidity(e,o,r)}}function Pn(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Dn,_n,Rn,Un,Fn=/^\/(.+)\/([a-z]*)$/,Vn=function(e){return C(e)?e.toLowerCase():e},Bn=Object.prototype.hasOwnProperty,qn=function(e){return C(e)?e.toUpperCase():e},Yn=[].slice,Hn=[].splice,Wn=[].push,zn=Object.prototype.toString,Gn=Object.getPrototypeOf,Kn=i("ng"),Zn=e.angular||(e.angular={}),Xn=0;Dn=t.documentMode,m.$inject=[],g.$inject=[];var Jn,Qn=Array.isArray,ei=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,ti=function(e){return C(e)?e.trim():e},ni=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},ii=function(){if(!w(ii.rules)){var e=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");ii.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{e=ii;try{new Function(""),n=!1}catch(i){n=!0}e.rules={noUnsafeEval:n,noInlineStyle:!1}}}return ii.rules},ri=function(){if(w(ri.name_))return ri.name_;var e,n,i,r,o=oi.length;for(n=0;o>n;++n)if(i=oi[n],e=t.querySelector("["+i.replace(":","\\:")+"jq]")){r=e.getAttribute(i+"jq");break}return ri.name_=r},oi=["ng-","data-ng-","ng:","x-ng-"],si=/[A-Z]/g,ai=!1,ci=1,li=3,ui={full:"1.4.4",major:1,minor:4,dot:4,codeName:"pylon-requirement"};me.expando="ng339";var di=me.cache={},pi=1;me._data=function(e){return this.cache[e[this.expando]]||{}};var fi=/([\:\-\_]+(.))/g,hi=/^moz([A-Z])/,mi={mouseleave:"mouseout",mouseenter:"mouseover"},gi=i("jqLite"),yi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,vi=/<|&#?\w+;/,bi=/<([\w:]+)/,wi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Si={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Si.optgroup=Si.option,Si.tbody=Si.tfoot=Si.colgroup=Si.caption=Si.thead,Si.th=Si.td;var xi=me.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===t.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),me(e).on("load",i))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return _n(e>=0?this[e]:this[this.length+e])},length:0,push:Wn,sort:[].sort,splice:[].splice},Ci={};o("multiple selected checked disabled readOnly required open".split(" "),function(e){Ci[Vn(e)]=e});var Oi={};o("input select option textarea button form details".split(" "),function(e){Oi[e]=!0});var ki={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Se,removeData:be,hasData:function(e){for(var t in di[e.ng339])return!0;return!1}},function(e,t){me[t]=e}),o({data:Se,inheritedData:Te,scope:function(e){return _n.data(e,"$scope")||Te(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return _n.data(e,"$isolateScope")||_n.data(e,"$isolateScopeNoTemplate")},controller:$e,injector:function(e){return Te(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:xe,css:function(e,t,n){return t=pe(t),w(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,i){var r=e.nodeType;if(r!==li&&2!==r&&8!==r)if(r=Vn(t),Ci[r]){if(!w(i))return e[t]||(e.attributes.getNamedItem(t)||m).specified?r:n;i?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(w(i))e.setAttribute(t,i);else if(e.getAttribute)return e=e.getAttribute(t,2),null===e?n:e},prop:function(e,t,n){return w(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(b(t)){var n=e.nodeType;return n===ci||n===li?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(b(t)){if(e.multiple&&"select"===N(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return b(t)?e.innerHTML:(ye(e,!0),void(e.innerHTML=t))},empty:Ae},function(e,t){me.prototype[t]=function(t,i){var r,o,s=this.length;if(e!==Ae&&(2==e.length&&e!==xe&&e!==$e?t:i)===n){if(S(t)){for(r=0;s>r;r++)if(e===Se)e(this[r],t);else for(o in t)e(this[r],o,t[o]);return this}for(r=e.$dv,s=r===n?Math.min(s,1):s,o=0;s>o;o++){var a=e(this[o],t,i);r=r?r+a:a}return r}for(r=0;s>r;r++)e(this[r],t,i);return this}}),o({removeData:be,on:function Po(e,t,n,i){if(w(i))throw gi("onargs");if(fe(e)){var r=we(e,!0);i=r.events;var o=r.handle;o||(o=r.handle=Ne(e,i));for(var r=0<=t.indexOf(" ")?t.split(" "):[t],s=r.length;s--;){t=r[s];var a=i[t];a||(i[t]=[],"mouseenter"===t||"mouseleave"===t?Po(e,mi[t],function(e){var n=e.relatedTarget;n&&(n===this||this.contains(n))||o(e,t)}):"$destroy"!==t&&e.addEventListener(t,o,!1),a=i[t]),a.push(n)}}},off:ve,one:function(e,t,n){e=_n(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;ye(e),o(new me(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===ci&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===ci||11===n){t=new me(t);for(var n=0,i=t.length;i>n;n++)e.appendChild(t[n])}},prepend:function(e,t){if(e.nodeType===ci){var n=e.firstChild;o(new me(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=_n(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:Me,detach:function(e){Me(e,!0)},after:function(e,t){var n=e,i=e.parentNode;t=new me(t);for(var r=0,o=t.length;o>r;r++){var s=t[r];i.insertBefore(s,n.nextSibling),n=s}},addClass:Oe,removeClass:Ce,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var i=n;b(i)&&(i=!xe(e,t)),(i?Oe:Ce)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ge,triggerHandler:function(e,t,n){var i,r,s=t.type||t,a=we(e);(a=(a=a&&a.events)&&a[s])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:m,type:s,target:e},t.type&&(i=d(i,t)),t=D(a),r=n?[i].concat(n):[i],o(t,function(t){i.isImmediatePropagationStopped()||t.apply(e,r)}))}},function(e,t){me.prototype[t]=function(t,n,i){for(var r,o=0,s=this.length;s>o;o++)b(r)?(r=e(this[o],t,n,i),w(r)&&(r=_n(r))):ke(r,e(this[o],t,n,i));return w(r)?r:this},me.prototype.bind=me.prototype.on,me.prototype.unbind=me.prototype.off}),De.prototype={put:function(e,t){this[Pe(e,this.nextUid)]=t},get:function(e){return this[Pe(e,this.nextUid)]},remove:function(e){var t=this[e=Pe(e,this.nextUid)];return delete this[e],t}};var $i=[function(){this.$get=[function(){return De}]}],Ti=/^[^\(]*\(\s*([^\)]*)\)/m,Ai=/,/,Mi=/^\s*(_?)(\S+?)\1\s*$/,Ii=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ei=i("$injector");Re.$$annotate=function(e,t,n){var i;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw C(n)&&n||(n=e.name||_e(e)),Ei("strictdi",n);t=e.toString().replace(Ii,""),t=t.match(Ti),o(t[1].split(Ai),function(e){e.replace(Mi,function(e,t,n){i.push(n)})})}e.$inject=i}}else Qn(e)?(t=e.length-1,oe(e[t],"fn"),i=e.slice(0,t)):oe(e,"fn",!0);return i};var Li=i("$animate"),Ni=function(){this.$get=["$q","$$rAF",function(e,t){function n(){}return n.all=m,n.chain=m,n.prototype={end:m,cancel:m,resume:m,pause:m,complete:m,then:function(n,i){return e(function(e){t(function(){e()})}).then(n,i)}},n}]},ji=function(){var e=new De,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(n,r,s){var a=e.get(n);a||(e.put(n,a={}),t.push(n)),n=function(e,t){var n=!1;return e&&(e=C(e)?e.split(" "):Qn(e)?e:[],o(e,function(e){e&&(n=!0,a[e]=t)})),n},r=n(r,!0),s=n(s,!1),!r&&!s||1<t.length||i.$$postDigest(function(){o(t,function(t){var n=e.get(t);if(n){var i=Ve(t.attr("class")),r="",s="";o(n,function(e,t){e!==!!i[t]&&(e?r+=(r.length?" ":"")+t:s+=(s.length?" ":"")+t)}),o(t,function(e){r&&Oe(e,r),s&&Ce(e,s)}),e.remove(t)}}),t.length=0})}return{enabled:m,on:m,off:m,pin:m,push:function(e,t,i,o){return o&&o(),i=i||{},i.from&&e.css(i.from),i.to&&e.css(i.to),(i.addClass||i.removeClass)&&r(e,i.addClass,i.removeClass),new n}}}]},Pi=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Li("notcsel",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,i)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Li("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i;e:{for(i=0;i<n.length;i++){var r=n[i];if(1===r.nodeType){i=r;break e}}i=void 0}!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,i,r,o){return i=i&&_n(i),r=r&&_n(r),i=i||r.parent(),t(n,i,r),e.push(n,"enter",Be(o))},move:function(n,i,r,o){return i=i&&_n(i),r=r&&_n(r),i=i||r.parent(),t(n,i,r),e.push(n,"move",Be(o))},leave:function(t,n){return e.push(t,"leave",Be(n),function(){t.remove()})},addClass:function(t,n,i){return i=Be(i),i.addClass=Fe(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return i=Be(i),i.removeClass=Fe(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,r){return r=Be(r),r.addClass=Fe(r.addClass,n),r.removeClass=Fe(r.removeClass,i),e.push(t,"setClass",r)},animate:function(t,n,i,r,o){return o=Be(o),o.from=o.from?d(o.from,n):n,o.to=o.to?d(o.to,i):i,o.tempClasses=Fe(o.tempClasses,r||"ng-inline-animate"),e.push(t,"animate",o)}}}]}],Di=function(){this.$get=["$$rAF","$q",function(e,t){var n=function(){};return n.prototype={done:function(e){this.defer&&this.defer[!0===e?"reject":"resolve"]()},end:function(){this.done()},cancel:function(){this.done(!0)},getPromise:function(){return this.defer||(this.defer=t.defer()),this.defer.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)}},function(t,i){function r(){return e(function(){i.addClass&&(t.addClass(i.addClass),i.addClass=null),i.removeClass&&(t.removeClass(i.removeClass),i.removeClass=null),i.to&&(t.css(i.to),i.to=null),o||s.done(),o=!0}),s}i.from&&(t.css(i.from),i.from=null);var o,s=new n;return{start:r,end:r}}}]},_i=i("$compile");ze.$inject=["$provide","$$sanitizeUriProvider"];var Ri=/^((?:x|data)[\:\-_])/i,Ui=i("$controller"),Fi=/^(\S+)(\s+as\s+(\w+))?$/,Vi=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof _n&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Bi="application/json",qi={"Content-Type":Bi+";charset=utf-8"},Yi=/^\[|^\{(?!\{)/,Hi={"[":/]$/,"{":/}$/},Wi=/^\)\]\}',?\n/,zi=i("$http"),Gi=function(e){return function(){throw zi("legacy",e)}},Ki=Zn.$interpolateMinErr=i("$interpolate");Ki.throwNoconcat=function(e){throw Ki("noconcat",e)},Ki.interr=function(e,t){return Ki("interr",e,t.toString())};var Zi=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Xi={http:80,https:443,ftp:21},Ji=i("$location"),Qi={$$html5:!1,$$replace:!1,absUrl:xt("$$absUrl"),url:function(e){if(b(e))return this.$$url;var t=Zi.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:xt("$$protocol"),host:xt("$$host"),port:xt("$$port"),path:Ct("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(C(e)||O(e))e=e.toString(),this.$$search=z(e);else{if(!S(e))throw Ji("isrcharg");e=P(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:b(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Ct("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([St,wt,bt],function(e){e.prototype=Object.create(Qi),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==bt||!this.$$html5)throw Ji("nostate");return this.$$state=b(t)?null:t,this}});var er=i("$parse"),tr=Function.prototype.call,nr=Function.prototype.apply,ir=Function.prototype.bind,rr=le();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){rr[e]=!0});var or={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},sr=function(e){this.options=e};sr.prototype={constructor:sr,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if(e=this.text.charAt(this.index),'"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),n=t+this.peek(2),i=rr[t],r=rr[n];rr[e]||i||r?(e=r?n:i?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||"\x0B"===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=w(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,er("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Vn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),i=i+o;if(r)"u"===o?(r=this.text.substring(this.index+1,this.index+5),r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n+=or[o]||o,r=!1;else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var ar=function(e,t){this.lexer=e,this.options=t};ar.Program="Program",ar.ExpressionStatement="ExpressionStatement",ar.AssignmentExpression="AssignmentExpression",ar.ConditionalExpression="ConditionalExpression",ar.LogicalExpression="LogicalExpression",ar.BinaryExpression="BinaryExpression",ar.UnaryExpression="UnaryExpression",ar.CallExpression="CallExpression",ar.MemberExpression="MemberExpression",ar.Identifier="Identifier",ar.Literal="Literal",ar.ArrayExpression="ArrayExpression",ar.Property="Property",ar.ObjectExpression="ObjectExpression",ar.ThisExpression="ThisExpression",ar.NGValueParameter="NGValueParameter",ar.prototype={ast:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:ar.Program,body:e}},expressionStatement:function(){return{type:ar.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:ar.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:ar.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:ar.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:ar.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:ar.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:ar.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:ar.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:ar.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:ar.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=P(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:ar.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:ar.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:ar.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){e=[e];for(var t={type:ar.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return t},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:ar.Identifier,name:e.text}},constant:function(){return{type:ar.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:ar.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:ar.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:ar.ObjectExpression,properties:t}},throwError:function(e,t){throw er("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw er("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw er("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){e=this.tokens[e];var o=e.text;if(o===t||o===n||o===i||o===r||!(t||n||i||r))return e}return!1},expect:function(e,t,n,i){return(e=this.peek(e,t,n,i))?(this.tokens.shift(),
e):!1},constants:{"true":{type:ar.Literal,value:!0},"false":{type:ar.Literal,value:!1},"null":{type:ar.Literal,value:null},undefined:{type:ar.Literal,value:n},"this":{type:ar.ThisExpression}}},Dt.prototype={compile:function(e,t){var i=this,r=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Et(r,i.$filter);var s,a="";return this.stage="assign",(s=jt(r))&&(this.state.computing="assign",a=this.nextId(),this.recurse(s,a),a="fn.assign="+this.generateFunction("assign","s,v,l")),s=Lt(r.body),i.stage="inputs",o(s,function(e,t){var n="fn"+t;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var r=i.nextId();i.recurse(e,r),i.return_(r),i.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(r),a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",a=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",a)(this.$filter,$t,Tt,At,Mt,It,e),this.state=this.stage=n,a.literal=Pt(r),a.constant=r.constant,a},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return o(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return o(this.state.filters,function(n,i){e.push(n+"=$filter("+t.escape(i)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,i,r,s,a){var c,l,u,d,p=this;if(r=r||m,!a&&w(e.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,i,r,s,!0));else switch(e.type){case ar.Program:o(e.body,function(t,i){p.recurse(t.expression,n,n,function(e){l=e}),i!==e.body.length-1?p.current().body.push(l,";"):p.return_(l)});break;case ar.Literal:d=this.escape(e.value),this.assign(t,d),r(d);break;case ar.UnaryExpression:this.recurse(e.argument,n,n,function(e){l=e}),d=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,d),r(d);break;case ar.BinaryExpression:this.recurse(e.left,n,n,function(e){c=e}),this.recurse(e.right,n,n,function(e){l=e}),d="+"===e.operator?this.plus(c,l):"-"===e.operator?this.ifDefined(c,0)+e.operator+this.ifDefined(l,0):"("+c+")"+e.operator+"("+l+")",this.assign(t,d),r(d);break;case ar.LogicalExpression:t=t||this.nextId(),p.recurse(e.left,t),p.if_("&&"===e.operator?t:p.not(t),p.lazyRecurse(e.right,t)),r(t);break;case ar.ConditionalExpression:t=t||this.nextId(),p.recurse(e.test,t),p.if_(t,p.lazyRecurse(e.alternate,t),p.lazyRecurse(e.consequent,t)),r(t);break;case ar.Identifier:t=t||this.nextId(),i&&(i.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),i.computed=!1,i.name=e.name),$t(e.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",e.name)),function(){p.if_("inputs"===p.stage||"s",function(){s&&1!==s&&p.if_(p.not(p.nonComputedMember("s",e.name)),p.lazyAssign(p.nonComputedMember("s",e.name),"{}")),p.assign(t,p.nonComputedMember("s",e.name))})},t&&p.lazyAssign(t,p.nonComputedMember("l",e.name))),(p.state.expensiveChecks||Rt(e.name))&&p.addEnsureSafeObject(t),r(t);break;case ar.MemberExpression:c=i&&(i.context=this.nextId())||this.nextId(),t=t||this.nextId(),p.recurse(e.object,c,n,function(){p.if_(p.notNull(c),function(){e.computed?(l=p.nextId(),p.recurse(e.property,l),p.addEnsureSafeMemberName(l),s&&1!==s&&p.if_(p.not(p.computedMember(c,l)),p.lazyAssign(p.computedMember(c,l),"{}")),d=p.ensureSafeObject(p.computedMember(c,l)),p.assign(t,d),i&&(i.computed=!0,i.name=l)):($t(e.property.name),s&&1!==s&&p.if_(p.not(p.nonComputedMember(c,e.property.name)),p.lazyAssign(p.nonComputedMember(c,e.property.name),"{}")),d=p.nonComputedMember(c,e.property.name),(p.state.expensiveChecks||Rt(e.property.name))&&(d=p.ensureSafeObject(d)),p.assign(t,d),i&&(i.computed=!1,i.name=e.property.name))},function(){p.assign(t,"undefined")}),r(t)},!!s);break;case ar.CallExpression:t=t||this.nextId(),e.filter?(l=p.filter(e.callee.name),u=[],o(e.arguments,function(e){var t=p.nextId();p.recurse(e,t),u.push(t)}),d=l+"("+u.join(",")+")",p.assign(t,d),r(t)):(l=p.nextId(),c={},u=[],p.recurse(e.callee,l,c,function(){p.if_(p.notNull(l),function(){p.addEnsureSafeFunction(l),o(e.arguments,function(e){p.recurse(e,p.nextId(),n,function(e){u.push(p.ensureSafeObject(e))})}),c.name?(p.state.expensiveChecks||p.addEnsureSafeObject(c.context),d=p.member(c.context,c.name,c.computed)+"("+u.join(",")+")"):d=l+"("+u.join(",")+")",d=p.ensureSafeObject(d),p.assign(t,d)},function(){p.assign(t,"undefined")}),r(t)}));break;case ar.AssignmentExpression:if(l=this.nextId(),c={},!Nt(e.left))throw er("lval");this.recurse(e.left,n,c,function(){p.if_(p.notNull(c.context),function(){p.recurse(e.right,l),p.addEnsureSafeObject(p.member(c.context,c.name,c.computed)),d=p.member(c.context,c.name,c.computed)+e.operator+l,p.assign(t,d),r(t||d)})},1);break;case ar.ArrayExpression:u=[],o(e.elements,function(e){p.recurse(e,p.nextId(),n,function(e){u.push(e)})}),d="["+u.join(",")+"]",this.assign(t,d),r(d);break;case ar.ObjectExpression:u=[],o(e.properties,function(e){p.recurse(e.value,p.nextId(),n,function(t){u.push(p.escape(e.key.type===ar.Identifier?e.key.name:""+e.key.value)+":"+t)})}),d="{"+u.join(",")+"}",this.assign(t,d),r(d);break;case ar.ThisExpression:this.assign(t,"s"),r("s");break;case ar.NGValueParameter:this.assign(t,"v"),r("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},lazyRecurse:function(e,t,n,i,r,o){var s=this;return function(){s.recurse(e,t,n,i,r,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(C(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(O(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw er("esc")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},_t.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,Et(i,n.$filter);var r,s;(r=jt(i))&&(s=this.recurse(r)),r=Lt(i.body);var a;r&&(a=[],o(r,function(e,t){var i=n.recurse(e);e.input=i,a.push(i),e.watchId=t}));var c=[];return o(i.body,function(e){c.push(n.recurse(e.expression))}),r=0===i.body.length?function(){}:1===i.body.length?c[0]:function(e,t){var n;return o(c,function(i){n=i(e,t)}),n},s&&(r.assign=function(e,t,n){return s(e,n,t)}),a&&(r.inputs=a),r.literal=Pt(i),r.constant=i.constant,r},recurse:function(e,t,i){var r,s,a,c=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case ar.Literal:return this.value(e.value,t);case ar.UnaryExpression:return s=this.recurse(e.argument),this["unary"+e.operator](s,t);case ar.BinaryExpression:return r=this.recurse(e.left),s=this.recurse(e.right),this["binary"+e.operator](r,s,t);case ar.LogicalExpression:return r=this.recurse(e.left),s=this.recurse(e.right),this["binary"+e.operator](r,s,t);case ar.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case ar.Identifier:return $t(e.name,c.expression),c.identifier(e.name,c.expensiveChecks||Rt(e.name),t,i,c.expression);case ar.MemberExpression:return r=this.recurse(e.object,!1,!!i),e.computed||($t(e.property.name,c.expression),s=e.property.name),e.computed&&(s=this.recurse(e.property)),e.computed?this.computedMember(r,s,t,i,c.expression):this.nonComputedMember(r,s,c.expensiveChecks,t,i,c.expression);case ar.CallExpression:return a=[],o(e.arguments,function(e){a.push(c.recurse(e))}),e.filter&&(s=this.$filter(e.callee.name)),e.filter||(s=this.recurse(e.callee,!0)),e.filter?function(e,i,r,o){for(var c=[],l=0;l<a.length;++l)c.push(a[l](e,i,r,o));return e=s.apply(n,c,o),t?{context:n,name:n,value:e}:e}:function(e,n,i,r){var o,l=s(e,n,i,r);if(null!=l.value){Tt(l.context,c.expression),At(l.value,c.expression),o=[];for(var u=0;u<a.length;++u)o.push(Tt(a[u](e,n,i,r),c.expression));o=Tt(l.value.apply(l.context,o),c.expression)}return t?{value:o}:o};case ar.AssignmentExpression:return r=this.recurse(e.left,!0,1),s=this.recurse(e.right),function(e,n,i,o){var a=r(e,n,i,o);return e=s(e,n,i,o),Tt(a.value,c.expression),a.context[a.name]=e,t?{value:e}:e};case ar.ArrayExpression:return a=[],o(e.elements,function(e){a.push(c.recurse(e))}),function(e,n,i,r){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,i,r));return t?{value:o}:o};case ar.ObjectExpression:return a=[],o(e.properties,function(e){a.push({key:e.key.type===ar.Identifier?e.key.name:""+e.key.value,value:c.recurse(e.value)})}),function(e,n,i,r){for(var o={},s=0;s<a.length;++s)o[a[s].key]=a[s].value(e,n,i,r);return t?{value:o}:o};case ar.ThisExpression:return function(e){return t?{value:e}:e};case ar.NGValueParameter:return function(e,n,i,r){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,r,o){return n=e(n,i,r,o),n=w(n)?+n:0,t?{value:n}:n}},"unary-":function(e,t){return function(n,i,r,o){return n=e(n,i,r,o),n=w(n)?-n:0,t?{value:n}:n}},"unary!":function(e,t){return function(n,i,r,o){return n=!e(n,i,r,o),t?{value:n}:n}},"binary+":function(e,t,n){return function(i,r,o,s){var a=e(i,r,o,s);return i=t(i,r,o,s),a=It(a,i),n?{value:a}:a}},"binary-":function(e,t,n){return function(i,r,o,s){var a=e(i,r,o,s);return i=t(i,r,o,s),a=(w(a)?a:0)-(w(i)?i:0),n?{value:a}:a}},"binary*":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)*t(i,r,o,s),n?{value:i}:i}},"binary/":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)/t(i,r,o,s),n?{value:i}:i}},"binary%":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)%t(i,r,o,s),n?{value:i}:i}},"binary===":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)===t(i,r,o,s),n?{value:i}:i}},"binary!==":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)!==t(i,r,o,s),n?{value:i}:i}},"binary==":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)==t(i,r,o,s),n?{value:i}:i}},"binary!=":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)!=t(i,r,o,s),n?{value:i}:i}},"binary<":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)<t(i,r,o,s),n?{value:i}:i}},"binary>":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)>t(i,r,o,s),n?{value:i}:i}},"binary<=":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)<=t(i,r,o,s),n?{value:i}:i}},"binary>=":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)>=t(i,r,o,s),n?{value:i}:i}},"binary&&":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)&&t(i,r,o,s),n?{value:i}:i}},"binary||":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)||t(i,r,o,s),n?{value:i}:i}},"ternary?:":function(e,t,n,i){return function(r,o,s,a){return r=e(r,o,s,a)?t(r,o,s,a):n(r,o,s,a),i?{value:r}:r}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,i,r,o){return function(s,a,c,l){return s=a&&e in a?a:s,r&&1!==r&&s&&!s[e]&&(s[e]={}),a=s?s[e]:n,t&&Tt(a,o),i?{context:s,name:e,value:a}:a}},computedMember:function(e,t,n,i,r){return function(o,s,a,c){var l,u,d=e(o,s,a,c);return null!=d&&(l=t(o,s,a,c),$t(l,r),i&&1!==i&&d&&!d[l]&&(d[l]={}),u=d[l],Tt(u,r)),n?{context:d,name:l,value:u}:u}},nonComputedMember:function(e,t,i,r,o,s){return function(a,c,l,u){return a=e(a,c,l,u),o&&1!==o&&a&&!a[t]&&(a[t]={}),c=null!=a?a[t]:n,(i||Rt(t))&&Tt(c,s),r?{context:a,name:t,value:c}:c}},inputs:function(e,t){return function(n,i,r,o){return o?o[t]:e(n,i,r)}}};var cr=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new ar(this.lexer),this.astCompiler=n.csp?new _t(this.ast,t):new Dt(this.ast,t)};cr.prototype={constructor:cr,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}},le(),le();var lr=Object.prototype.valueOf,ur=i("$sce"),dr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},_i=i("$compile"),pr=t.createElement("a"),fr=tn(e.location.href);on.$inject=["$document"],an.$inject=["$provide"],pn.$inject=["$locale"],fn.$inject=["$locale"];var hr=".",mr={yyyy:gn("FullYear",4),yy:gn("FullYear",2,0,!0),y:gn("FullYear",1),MMMM:yn("Month"),MMM:yn("Month",!0),MM:gn("Month",2,1),M:gn("Month",1,1),dd:gn("Date",2),d:gn("Date",1),HH:gn("Hours",2),H:gn("Hours",1),hh:gn("Hours",2,-12),h:gn("Hours",1,-12),mm:gn("Minutes",2),m:gn("Minutes",1),ss:gn("Seconds",2),s:gn("Seconds",1),sss:gn("Milliseconds",3),EEEE:yn("Day"),EEE:yn("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){return e=-1*n,e=(e>=0?"+":"")+(mn(Math[e>0?"floor":"ceil"](e/60),2)+mn(Math.abs(e%60),2))},ww:bn(2),w:bn(1),G:wn,GG:wn,GGG:wn,GGGG:function(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},gr=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,yr=/^\-?\d+$/;Sn.$inject=["$locale"];var vr=y(Vn),br=y(qn);On.$inject=["$parse"];var wr=y({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===zn.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Sr={};o(Ci,function(e,t){function n(e,n,r){e.$watch(r[i],function(e){r.$set(t,!!e)})}if("multiple"!=e){var i=Ge("ng-"+t),r=n;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[i]&&n(e,t,r)}),Sr[i]=function(){return{restrict:"A",priority:100,link:r}}}}),o(ki,function(e,t){Sr[t]=function(){return{priority:100,link:function(e,n,i){return"ngPattern"===t&&"/"==i.ngPattern.charAt(0)&&(n=i.ngPattern.match(Fn))?void i.$set("ngPattern",new RegExp(n[1],n[2])):void e.$watch(i[t],function(e){i.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=Ge("ng-"+e);Sr[t]=function(){return{priority:99,link:function(n,i,r){var o=e,s=e;"href"===e&&"[object SVGAnimatedString]"===zn.call(i.prop("href"))&&(s="xlinkHref",r.$attr[s]="xlink:href",o=null),r.$observe(t,function(t){t?(r.$set(s,t),Dn&&o&&i.prop(o,r[s])):"href"===e&&r.$set(s,null)})}}}});var xr={$addControl:m,$$renameControl:function(e,t){e.$name=t},$removeControl:m,$setValidity:m,$setDirty:m,$setPristine:m,$setSubmitted:m};$n.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Cr=function(e){return["$timeout","$parse",function(t,i){function r(e){return""===e?i('this[""]').assign:i(e).assign||m}return{name:"form",restrict:e?"EAC":"E",controller:$n,compile:function(i,o){i.addClass(io).addClass(to);var s=o.name?"name":e&&o.ngForm?"ngForm":!1;return{pre:function(e,i,o,a){if(!("action"in o)){var c=function(t){e.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),t.preventDefault()};i[0].addEventListener("submit",c,!1),i.on("$destroy",function(){t(function(){i[0].removeEventListener("submit",c,!1)},0,!1)})}var l=a.$$parentForm,u=s?r(a.$name):m;s&&(u(e,a),o.$observe(s,function(t){a.$name!==t&&(u(e,n),l.$$renameControl(a,t),(u=r(a.$name))(e,a))})),i.on("$destroy",function(){l.$removeControl(a),u(e,n),d(a,xr)})}}}}}]},Or=Cr(),kr=Cr(!0),$r=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Tr=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Ar=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Mr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ir=/^(\d{4})-(\d{2})-(\d{2})$/,Er=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Lr=/^(\d{4})-W(\d\d)$/,Nr=/^(\d{4})-(\d\d)$/,jr=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Pr={text:function(e,t,n,i,r,o){An(e,t,n,i,r,o),Tn(i)},date:In("date",Ir,Mn(Ir,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":In("datetimelocal",Er,Mn(Er,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:In("time",jr,Mn(jr,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:In("week",Lr,function(e,t){if(k(e))return e;if(C(e)){Lr.lastIndex=0;var n=Lr.exec(e);if(n){var i=+n[1],r=+n[2],o=n=0,s=0,a=0,c=vn(i),r=7*(r-1);return t&&(n=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),a=t.getMilliseconds()),new Date(i,0,c.getDate()+r,n,o,s,a)}}return NaN},"yyyy-Www"),month:In("month",Nr,Mn(Nr,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,i,r,o,s){if(En(e,t,i,r),An(e,t,i,r,o,s),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:Mr.test(e)?parseFloat(e):n}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!O(e))throw so("numfmt",e);e=e.toString()}return e}),w(i.min)||i.ngMin){var a;r.$validators.min=function(e){return r.$isEmpty(e)||b(a)||e>=a},i.$observe("min",function(e){w(e)&&!O(e)&&(e=parseFloat(e,10)),a=O(e)&&!isNaN(e)?e:n,r.$validate()})}if(w(i.max)||i.ngMax){var c;r.$validators.max=function(e){return r.$isEmpty(e)||b(c)||c>=e},i.$observe("max",function(e){w(e)&&!O(e)&&(e=parseFloat(e,10)),c=O(e)&&!isNaN(e)?e:n,r.$validate()})}},url:function(e,t,n,i,r,o){An(e,t,n,i,r,o),Tn(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||Tr.test(n)}},email:function(e,t,n,i,r,o){An(e,t,n,i,r,o),Tn(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||Ar.test(n)}},radio:function(e,t,n,i){b(n.name)&&t.attr("name",++Xn),t.on("click",function(e){t[0].checked&&i.$setViewValue(n.value,e&&e.type)}),i.$render=function(){t[0].checked=n.value==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(e,t,n,i,r,o,s,a){var c=Ln(a,e,"ngTrueValue",n.ngTrueValue,!0),l=Ln(a,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){i.$setViewValue(t[0].checked,e&&e.type)}),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push(function(e){return _(e,c)}),i.$parsers.push(function(e){return e?c:l})},hidden:m,button:m,submit:m,reset:m,file:m},Dr=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,s,a){a[0]&&(Pr[Vn(s.type)]||Pr.text)(r,o,s,a[0],t,e,n,i)}}}}],_r=/^(true|false|\d+)$/,Rr=function(){return{restrict:"A",priority:100,compile:function(e,t){return _r.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Ur=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,i,r){e.$$addBindingInfo(i,r.ngBind),i=i[0],t.$watch(r.ngBind,function(e){i.textContent=e===n?"":e})}}}}],Fr=["$interpolate","$compile",function(e,t){return{compile:function(i){return t.$$addBindingClass(i),function(i,r,o){i=e(r.attr(o.$attr.ngBindTemplate)),t.$$addBindingInfo(r,i.expressions),r=r[0],o.$observe("ngBindTemplate",function(e){r.textContent=e===n?"":e})}}}}],Vr=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var o=t(r.ngBindHtml),s=t(r.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(s,function(){i.html(e.getTrustedHtml(o(t))||"")})}}}}],Br=y({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),qr=Nn("",!0),Yr=Nn("Odd",0),Hr=Nn("Even",1),Wr=kn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),zr=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Gr={},Kr={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Ge("ng-"+e);Gr[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var s=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var r=function(){s(t,{$event:n})};Kr[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var Zr=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,s){var a,c,l;n.$watch(r.ngIf,function(n){n?c||s(function(n,o){c=o,n[n.length++]=t.createComment(" end ngIf: "+r.ngIf+" "),a={clone:n},e.enter(n,i.parent(),i)}):(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),a&&(l=ce(a.clone),e.leave(l).then(function(){l=null}),a=null))})}}}],Xr=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Zn.noop,compile:function(i,r){var o=r.ngInclude||r.src,s=r.onload||"",a=r.autoscroll;return function(i,r,c,l,u){var d,p,f,h=0,m=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),f&&(n.leave(f).then(function(){p=null}),p=f,f=null)};i.$watch(o,function(o){var c=function(){!w(a)||a&&!i.$eval(a)||t()},p=++h;o?(e(o,!0).then(function(e){if(p===h){var t=i.$new();l.template=e,e=u(t,function(e){m(),n.enter(e,null,r).then(c)}),d=t,f=e,d.$emit("$includeContentLoaded",o),i.$eval(s)}},function(){p===h&&(m(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(m(),l.template=null)})}}}}],Jr=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){/SVG/.test(i[0].toString())?(i.empty(),e(he(o.template,t).childNodes)(n,function(e){i.append(e)},{futureParentElement:i})):(i.html(o.template),e(i.contents())(n))}}}],Qr=kn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),eo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,i,r){var s=t.attr(i.$attr.ngList)||", ",a="false"!==i.ngTrim,c=a?ti(s):s;r.$parsers.push(function(e){if(!b(e)){var t=[];return e&&o(e.split(c),function(e){e&&t.push(a?ti(e):e)}),t}}),r.$formatters.push(function(e){return Qn(e)?e.join(s):n}),r.$isEmpty=function(e){return!e||!e.length}}}},to="ng-valid",no="ng-invalid",io="ng-pristine",ro="ng-dirty",oo="ng-pending",so=i("ngModel"),ao=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,i,r,s,a,c,l,u,d){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(i.name||"",!1)(e);var p,f=s(i.ngModel),h=f.assign,g=f,y=h,v=null,S=this;this.$$setOptions=function(e){if((S.$options=e)&&e.getterSetter){var t=s(i.ngModel+"()"),n=s(i.ngModel+"($$$p)");g=function(e){var n=f(e);return $(n)&&(n=t(e)),n},y=function(e,t){$(f(e))?n(e,{$$$p:S.$modelValue}):h(e,S.$modelValue)}}else if(!f.assign)throw so("nonassign",i.ngModel,H(r))},this.$render=m,this.$isEmpty=function(e){return b(e)||""===e||null===e||e!==e};var x=r.inheritedData("$formController")||xr,C=0;jn({ctrl:this,$element:r,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:x,$animate:a}),this.$setPristine=function(){S.$dirty=!1,S.$pristine=!0,a.removeClass(r,ro),a.addClass(r,io)},this.$setDirty=function(){S.$dirty=!0,S.$pristine=!1,a.removeClass(r,io),a.addClass(r,ro),x.$setDirty()},this.$setUntouched=function(){S.$touched=!1,S.$untouched=!0,a.setClass(r,"ng-untouched","ng-touched")},this.$setTouched=function(){S.$touched=!0,S.$untouched=!1,a.setClass(r,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){c.cancel(v),S.$viewValue=S.$$lastCommittedViewValue,S.$render()},this.$validate=function(){if(!O(S.$modelValue)||!isNaN(S.$modelValue)){var e=S.$$rawModelValue,t=S.$valid,i=S.$modelValue,r=S.$options&&S.$options.allowInvalid;S.$$runValidators(e,S.$$lastCommittedViewValue,function(o){r||t===o||(S.$modelValue=o?e:n,S.$modelValue!==i&&S.$$writeModelToScope())})}},this.$$runValidators=function(e,t,i){function r(){var n=!0;return o(S.$validators,function(i,r){var o=i(e,t);n=n&&o,a(r,o)}),n?!0:(o(S.$asyncValidators,function(e,t){a(t,null)}),!1)}function s(){var i=[],r=!0;o(S.$asyncValidators,function(o,s){var c=o(e,t);if(!c||!$(c.then))throw so("$asyncValidators",c);a(s,n),i.push(c.then(function(){a(s,!0)},function(e){r=!1,a(s,!1)}))}),i.length?u.all(i).then(function(){c(r)},m):c(!0)}function a(e,t){l===C&&S.$setValidity(e,t)}function c(e){l===C&&i(e)}C++;var l=C;(function(){var e=S.$$parserName||"parse";return p!==n?(p||(o(S.$validators,function(e,t){a(t,null)}),o(S.$asyncValidators,function(e,t){a(t,null)})),a(e,p),p):(a(e,null),!0)})()&&r()?s():c(!1)},this.$commitViewValue=function(){var e=S.$viewValue;c.cancel(v),(S.$$lastCommittedViewValue!==e||""===e&&S.$$hasNativeValidators)&&(S.$$lastCommittedViewValue=e,S.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=S.$$lastCommittedViewValue;if(p=b(t)?n:!0)for(var i=0;i<S.$parsers.length;i++)if(t=S.$parsers[i](t),b(t)){p=!1;break}O(S.$modelValue)&&isNaN(S.$modelValue)&&(S.$modelValue=g(e));var r=S.$modelValue,o=S.$options&&S.$options.allowInvalid;S.$$rawModelValue=t,o&&(S.$modelValue=t,S.$modelValue!==r&&S.$$writeModelToScope()),S.$$runValidators(t,S.$$lastCommittedViewValue,function(e){o||(S.$modelValue=e?t:n,S.$modelValue!==r&&S.$$writeModelToScope())})},this.$$writeModelToScope=function(){y(e,S.$modelValue),o(S.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){S.$viewValue=e,S.$options&&!S.$options.updateOnDefault||S.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n=0,i=S.$options;i&&w(i.debounce)&&(i=i.debounce,O(i)?n=i:O(i[t])?n=i[t]:O(i["default"])&&(n=i["default"])),c.cancel(v),n?v=c(function(){S.$commitViewValue()},n):l.$$phase?S.$commitViewValue():e.$apply(function(){S.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==S.$modelValue&&(S.$modelValue===S.$modelValue||t===t)){S.$modelValue=S.$$rawModelValue=t,p=n;for(var i=S.$formatters,r=i.length,o=t;r--;)o=i[r](o);S.$viewValue!==o&&(S.$viewValue=S.$$lastCommittedViewValue=o,S.$render(),S.$$runValidators(t,o,m))}return t})}],co=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ao,priority:1,compile:function(t){return t.addClass(io).addClass("ng-untouched").addClass(to),{pre:function(e,t,n,i){var r=i[0],o=i[1]||xr;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(e){r.$name!==e&&o.$$renameControl(r,e)}),e.$on("$destroy",function(){o.$removeControl(r)})},post:function(t,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],lo=/(\s+|^)default(\s+|$)/,uo=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var i=this;this.$options=P(e.$eval(t.ngModelOptions)),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=ti(this.$options.updateOn.replace(lo,function(){return i.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},po=kn({terminal:!0,priority:1e3}),fo=i("ngOptions"),ho=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,mo=["$compile","$parse",function(e,n){function i(e,t,i){function o(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function s(e){var t;if(!l&&r(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var a=e.match(ho);if(!a)throw fo("iexp",e,H(t));var c=a[5]||a[7],l=a[6];e=/ as /.test(a[0])&&a[1];var u=a[9];t=n(a[2]?a[1]:c);var d=e&&n(e)||t,p=u&&n(u),f=u?function(e,t){return p(i,t)}:function(e){return Pe(e)},h=function(e,t){return f(e,w(e,t))},m=n(a[2]||a[1]),g=n(a[3]||""),y=n(a[4]||""),v=n(a[8]),b={},w=l?function(e,t){return b[l]=t,b[c]=e,b}:function(e){return b[c]=e,b};return{trackBy:u,getTrackByValue:h,getWatchables:n(v,function(e){var t=[];e=e||[];for(var n=s(e),r=n.length,o=0;r>o;o++){var c=e===n?o:n[o],l=w(e[c],c),c=f(e[c],l);t.push(c),(a[2]||a[1])&&(c=m(i,l),t.push(c)),a[4]&&(l=y(i,l),t.push(l))}return t}),getOptions:function(){for(var e=[],t={},n=v(i)||[],r=s(n),a=r.length,c=0;a>c;c++){var l=n===r?c:r[c],p=w(n[l],l),b=d(i,p),l=f(b,p),S=m(i,p),x=g(i,p),p=y(i,p),b=new o(l,b,S,x,p);e.push(b),t[l]=b}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[h(e)]},getViewValueFromOption:function(e){return u?Zn.copy(e.viewValue):e.viewValue}}}}}var s=t.createElement("option"),a=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(t,n,r,c){function l(e,t){e.element=t,t.disabled=e.disabled,e.value!==t.value&&(t.value=e.selectValue),e.label!==t.label&&(t.label=e.label,t.textContent=e.label)}function u(e,t,n,i){return t&&Vn(t.nodeName)===n?n=t:(n=i.cloneNode(!1),t?e.insertBefore(n,t):e.appendChild(n)),n}function d(e){for(var t;e;)t=e.nextSibling,Me(e),e=t}function p(e){var t=g&&g[0],n=S&&S[0];if(t||n)for(;e&&(e===t||e===n);)e=e.nextSibling;return e}function f(){var e=x&&m.readValue();x=C.getOptions();var t={},i=n[0].firstChild;if(w&&n.prepend(g),i=p(i),x.items.forEach(function(e){var r,o;e.group?(r=t[e.group],r||(r=u(n[0],i,"optgroup",a),i=r.nextSibling,r.label=e.group,r=t[e.group]={groupElement:r,currentOptionElement:r.firstChild}),o=u(r.groupElement,r.currentOptionElement,"option",s),l(e,o),r.currentOptionElement=o.nextSibling):(o=u(n[0],i,"option",s),l(e,o),i=o.nextSibling)}),Object.keys(t).forEach(function(e){d(t[e].currentOptionElement)}),d(i),h.$render(),!h.$isEmpty(e)){var r=m.readValue();(C.trackBy?_(e,r):e===r)||(h.$setViewValue(r),h.$render())}}var h=c[1];if(h){var m=c[0];c=r.multiple;for(var g,y=0,v=n.children(),b=v.length;b>y;y++)if(""===v[y].value){g=v.eq(y);break}var w=!!g,S=_n(s.cloneNode(!1));S.val("?");var x,C=i(r.ngOptions,n,t);c?(h.$isEmpty=function(e){return!e||0===e.length},m.writeValue=function(e){x.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){(e=x.getOptionFromViewValue(e))&&!e.disabled&&(e.element.selected=!0)})},m.readValue=function(){var e=n.val()||[],t=[];return o(e,function(e){
(e=x.selectValueMap[e])&&!e.disabled&&t.push(x.getViewValueFromOption(e))}),t},C.trackBy&&t.$watchCollection(function(){return Qn(h.$viewValue)?h.$viewValue.map(function(e){return C.getTrackByValue(e)}):void 0},function(){h.$render()})):(m.writeValue=function(e){var t=x.getOptionFromViewValue(e);t&&!t.disabled?n[0].value!==t.selectValue&&(S.remove(),w||g.remove(),n[0].value=t.selectValue,t.element.selected=!0,t.element.setAttribute("selected","selected")):null===e||w?(S.remove(),w||n.prepend(g),n.val(""),g.prop("selected",!0),g.attr("selected",!0)):(w||g.remove(),n.prepend(S),n.val("?"),S.prop("selected",!0),S.attr("selected",!0))},m.readValue=function(){var e=x.selectValueMap[n.val()];return e&&!e.disabled?(w||g.remove(),S.remove(),x.getViewValueFromOption(e)):null},C.trackBy&&t.$watch(function(){return C.getTrackByValue(h.$viewValue)},function(){h.$render()})),w?(g.remove(),e(g)(t),g.removeClass("ng-scope")):g=_n(s.cloneNode(!1)),f(),t.$watchCollection(C.getWatchables,f)}}}}],go=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(s,a,c){function l(e){a.text(e||"")}var u,d=c.count,p=c.$attr.when&&a.attr(c.$attr.when),f=c.offset||0,h=s.$eval(p)||{},g={},y=t.startSymbol(),v=t.endSymbol(),w=y+d+"-"+f+v,S=Zn.noop;o(c,function(e,t){var n=r.exec(t);n&&(n=(n[1]?"-":"")+Vn(n[2]),h[n]=a.attr(c.$attr[t]))}),o(h,function(e,n){g[n]=t(e.replace(i,w))}),s.$watch(d,function(t){var i=parseFloat(t),r=isNaN(i);r||i in h||(i=e.pluralCat(i-f)),i===u||r&&O(u)&&isNaN(u)||(S(),r=g[i],b(r)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+p),S=m,l()):S=s.$watch(r,l),u=i)})}}}],yo=["$parse","$animate",function(e,s){var a=i("ngRepeat"),c=function(e,t,n,i,r,o,s){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===s-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,l){var u=l.ngRepeat,d=t.createComment(" end ngRepeat: "+u+" "),p=u.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw a("iexp",u);var f=p[1],h=p[2],m=p[3],g=p[4],p=f.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!p)throw a("iidexp",f);var y=p[3]||p[1],v=p[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw a("badident",m);var b,w,S,x,C={$id:Pe};return g?b=e(g):(S=function(e,t){return Pe(t)},x=function(e){return e}),function(e,t,i,l,p){b&&(w=function(t,n,i){return v&&(C[v]=t),C[y]=n,C.$index=i,b(e,C)});var f=le();e.$watchCollection(h,function(i){var l,h,g,b,C,O,k,$,T,A,M=t[0],I=le();if(m&&(e[m]=i),r(i))$=i,h=w||S;else for(A in h=w||x,$=[],i)i.hasOwnProperty(A)&&"$"!==A.charAt(0)&&$.push(A);for(b=$.length,A=Array(b),l=0;b>l;l++)if(C=i===$?l:$[l],O=i[C],k=h(C,O,l),f[k])T=f[k],delete f[k],I[k]=T,A[l]=T;else{if(I[k])throw o(A,function(e){e&&e.scope&&(f[e.id]=e)}),a("dupes",u,k,O);A[l]={id:k,scope:n,clone:n},I[k]=!0}for(g in f){if(T=f[g],k=ce(T.clone),s.leave(k),k[0].parentNode)for(l=0,h=k.length;h>l;l++)k[l].$$NG_REMOVED=!0;T.scope.$destroy()}for(l=0;b>l;l++)if(C=i===$?l:$[l],O=i[C],T=A[l],T.scope){g=M;do g=g.nextSibling;while(g&&g.$$NG_REMOVED);T.clone[0]!=g&&s.move(ce(T.clone),null,_n(M)),M=T.clone[T.clone.length-1],c(T.scope,l,y,O,v,C,b)}else p(function(e,t){T.scope=t;var n=d.cloneNode(!1);e[e.length++]=n,s.enter(e,null,_n(M)),M=n,T.clone=e,I[T.id]=T,c(T.scope,l,y,O,v,C,b)});f=I})}}}}],vo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],bo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],wo=kn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),So=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,s){var a=[],c=[],l=[],u=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(r.ngSwitch||r.on,function(n){var i,r;for(i=0,r=l.length;r>i;++i)e.cancel(l[i]);for(i=l.length=0,r=u.length;r>i;++i){var p=ce(c[i].clone);u[i].$destroy(),(l[i]=e.leave(p)).then(d(l,i))}c.length=0,u.length=0,(a=s.cases["!"+n]||s.cases["?"])&&o(a,function(n){n.transclude(function(i,r){u.push(r);var o=n.element;i[i.length++]=t.createComment(" end ngSwitchWhen: "),c.push({clone:i}),e.enter(i,o.parent(),o)})})})}}}],xo=kn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:t})}}),Co=kn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),Oo=kn({restrict:"EAC",link:function(e,t,n,r,o){if(!o)throw i("ngTransclude")("orphan",H(t));o(function(e){t.empty(),t.append(e)})}}),ko=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"==n.type&&e.put(n.id,t[0].text)}}}],$o={$setViewValue:m,$render:m},To=["$element","$scope","$attrs",function(e,i,r){var o=this,s=new De;o.ngModelCtrl=$o,o.unknownOption=_n(t.createElement("option")),o.renderUnknownOption=function(t){t="? "+Pe(t)+" ?",o.unknownOption.val(t),e.prepend(o.unknownOption),e.val(t)},i.$on("$destroy",function(){o.renderUnknownOption=m}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),e.val()},o.writeValue=function(t){o.hasOption(t)?(o.removeUnknownOption(),e.val(t),""===t&&o.emptyOption.prop("selected",!0)):null==t&&o.emptyOption?(o.removeUnknownOption(),e.val("")):o.renderUnknownOption(t)},o.addOption=function(e,t){se(e,'"option value"'),""===e&&(o.emptyOption=t);var n=s.get(e)||0;s.put(e,n+1)},o.removeOption=function(e){var t=s.get(e);t&&(1===t?(s.remove(e),""===e&&(o.emptyOption=n)):s.put(e,t-1))},o.hasOption=function(e){return!!s.get(e)}}],Ao=function(){return{restrict:"E",require:["select","?ngModel"],controller:To,link:function(e,t,n,i){var r=i[1];if(r){var s=i[0];if(s.ngModelCtrl=r,r.$render=function(){s.writeValue(r.$viewValue)},t.on("change",function(){e.$apply(function(){r.$setViewValue(s.readValue())})}),n.multiple){s.readValue=function(){var e=[];return o(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},s.writeValue=function(e){var n=new De(e);o(t.find("option"),function(e){e.selected=w(n.get(e.value))})};var a,c=NaN;e.$watch(function(){c!==r.$viewValue||_(a,r.$viewValue)||(a=D(r.$viewValue),r.$render()),c=r.$viewValue}),r.$isEmpty=function(e){return!e||0===e.length}}}}}},Mo=["$interpolate",function(e){function t(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}return{restrict:"E",priority:100,compile:function(n,i){if(b(i.value)){var r=e(n.text(),!0);r||i.$set("value",n.text())}return function(e,n,i){var o=n.parent(),s=o.data("$selectController")||o.parent().data("$selectController");s&&s.ngModelCtrl&&(r?e.$watch(r,function(e,r){i.$set("value",e),r!==e&&s.removeOption(r),s.addOption(e,n),s.ngModelCtrl.$render(),t(n)}):(s.addOption(i.value,n),s.ngModelCtrl.$render(),t(n)),n.on("$destroy",function(){s.removeOption(i.value),s.ngModelCtrl.$render()}))}}}}],Io=y({restrict:"E",terminal:!1}),Eo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},Lo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,o){if(o){var s,a=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(C(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw i("ngPattern")("noregexp",a,e,H(t));s=e||n,o.$validate()}),o.$validators.pattern=function(e){return o.$isEmpty(e)||b(s)||s.test(e)}}}}},No=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",function(e){e=f(e),r=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(e,t){return 0>r||i.$isEmpty(t)||t.length<=r}}}}},jo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",function(e){r=f(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}};e.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(ie(),de(Zn),Zn.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",pluralCat:function(e,i){var r=0|e,o=i;return n===o&&(o=Math.min(t(e),3)),Math.pow(10,o),1==r&&0==o?"one":"other"}})}]),_n(t).ready(function(){J(t,Q)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),e.angular=angular}.apply(e,arguments)})}(this),function(e){n("angular-route",["angular"],function(){return function(){!function(e,t,n){"use strict";function i(e,n,i){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(r,o,s,a,c){function l(){f&&(i.cancel(f),f=null),d&&(d.$destroy(),d=null),p&&(f=i.leave(p),f.then(function(){f=null}),p=null)}function u(){var s=e.current&&e.current.locals;if(t.isDefined(s&&s.$template)){var s=r.$new(),a=e.current;p=c(s,function(e){i.enter(e,null,p||o).then(function(){!t.isDefined(h)||h&&!r.$eval(h)||n()}),l()}),d=a.scope=s,d.$emit("$viewContentLoaded"),d.$eval(m)}else l()}var d,p,f,h=s.autoscroll,m=s.onload||"";r.$on("$routeChangeSuccess",u),u()}}}function r(e,t,n){return{restrict:"ECA",priority:-400,link:function(i,r){var o=n.current,s=o.locals;r.html(s.$template);var a=e(r.contents());o.controller&&(s.$scope=i,s=t(o.controller,s),o.controllerAs&&(i[o.controllerAs]=s),r.data("$ngControllerController",s),r.children().data("$ngControllerController",s)),a(i)}}}e=t.module("ngRoute",["ng"]).provider("$route",function(){function e(e,n){return t.extend(Object.create(e),n)}function n(e,t){var n=t.caseInsensitiveMatch,i={originalPath:e,regexp:e},r=i.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,i){return e="?"===i?i:null,i="*"===i?i:null,r.push({name:n,optional:!!e}),t=t||"",""+(e?"":t)+"(?:"+(e?t:"")+(i&&"(.+?)"||"([^/]+)")+(e||"")+")"+(e||"")}).replace(/([\/$\*])/g,"\\$1"),i.regexp=new RegExp("^"+e+"$",n?"i":""),i}var i={};this.when=function(e,r){var o=t.copy(r);if(t.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),t.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),i[e]=t.extend(o,e&&n(e,o)),e){var s="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";i[s]=t.extend({redirectTo:e},n(s,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,r,s,a,c,l,u){function d(e){var i=v.current;(g=(m=f())&&i&&m.$$route===i.$$route&&t.equals(m.pathParams,i.pathParams)&&!m.reloadOnSearch&&!y)||!i&&!m||n.$broadcast("$routeChangeStart",m,i).defaultPrevented&&e&&e.preventDefault()}function p(){var e=v.current,i=m;g?(e.params=i.params,t.copy(e.params,s),n.$broadcast("$routeUpdate",e)):(i||e)&&(y=!1,(v.current=i)&&i.redirectTo&&(t.isString(i.redirectTo)?r.path(h(i.redirectTo,i.params)).search(i.params).replace():r.url(i.redirectTo(i.pathParams,r.path(),r.search())).replace()),a.when(i).then(function(){if(i){var e,n,r=t.extend({},i.resolve);return t.forEach(r,function(e,n){r[n]=t.isString(e)?c.get(e):c.invoke(e,null,null,n)}),t.isDefined(e=i.template)?t.isFunction(e)&&(e=e(i.params)):t.isDefined(n=i.templateUrl)&&(t.isFunction(n)&&(n=n(i.params)),t.isDefined(n)&&(i.loadedTemplateUrl=u.valueOf(n),e=l(n))),t.isDefined(e)&&(r.$template=e),a.all(r)}}).then(function(r){i==v.current&&(i&&(i.locals=r,t.copy(i.params,s)),n.$broadcast("$routeChangeSuccess",i,e))},function(t){i==v.current&&n.$broadcast("$routeChangeError",i,e,t)}))}function f(){var n,o;return t.forEach(i,function(i,s){var a;if(a=!o){var c=r.path();a=i.keys;var l={};if(i.regexp)if(c=i.regexp.exec(c)){for(var u=1,d=c.length;d>u;++u){var p=a[u-1],f=c[u];p&&f&&(l[p.name]=f)}a=l}else a=null;else a=null;a=n=a}a&&(o=e(i,{params:t.extend({},r.search(),n),pathParams:n}),o.$$route=i)}),o||i[null]&&e(i[null],{params:{},pathParams:{}})}function h(e,n){var i=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)i.push(e);else{var r=e.match(/(\w+)(?:[?*])?(.*)/),o=r[1];i.push(n[o]),i.push(r[2]||""),delete n[o]}}),i.join("")}var m,g,y=!1,v={routes:i,reload:function(){y=!0,n.$evalAsync(function(){d(),p()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw o("norout");e=t.extend({},this.current.params,e),r.path(h(this.current.$$route.originalPath,e)),r.search(e)}};return n.$on("$locationChangeStart",d),n.$on("$locationChangeSuccess",p),v}]});var o=t.$$minErr("ngRoute");e.provider("$routeParams",function(){this.$get=function(){return{}}}),e.directive("ngView",i),e.directive("ngView",r),i.$inject=["$route","$anchorScroll","$animate"],r.$inject=["$compile","$controller","$route"]}(window,window.angular)}.apply(e,arguments)})}(this),n("platform/framework/src/Main",["require","es6-promise","./FrameworkLayer","angular","angular-route"],function(t,n,i,r){function o(){}return o.prototype.run=function(t){function o(){var e=/[?&]log=([a-z]+)/.exec(window.location.search);return e?e[1]:""}var s=r.injector(["ng"]);window.Promise=window.Promise||n.Promise,e.config({baseUrl:""}),s.instantiate(["$http","$log",i]).initializeApplication(r,t,o())},o}),n("src/BundleRegistry",[],function(){function e(){this.bundles={},this.knownBundles={}}return e.prototype.register=function(e,t){if(this.knownBundles.hasOwnProperty(e))throw new Error("Cannot register bundle with duplicate path",e);this.knownBundles[e]=t},e.prototype.enable=function(e){if(!this.knownBundles[e])throw new Error("Unknown bundle "+e);this.bundles[e]=this.knownBundles[e]},e.prototype.disable=function(e){if(!this.bundles[e])throw new Error("Tried to disable inactive bundle "+e);delete this.bundles[e]},e.prototype.contains=function(e){return!!this.bundles[e]},e.prototype.get=function(e){return this.bundles[e]},e.prototype.list=function(){return Object.keys(this.bundles)},e.prototype.remove=e.prototype.disable,e.prototype["delete"]=function(e){if(!this.knownBundles[e])throw new Error("Cannot remove Unknown Bundle "+e);delete this.bundles[e],delete this.knownBundles[e]},e}),n("legacyRegistry",["src/BundleRegistry"],function(e){return new e}),n("src/api/objects/object-utils",[],function(){function e(e){return"object"==typeof e&&e.hasOwnProperty("key")&&e.hasOwnProperty("namespace")}function t(e){return"string"==typeof e}function n(t){if(e(t))return t;for(var n="",i=t,r=0;r<i.length;r++){if("\\"===i[r]&&":"===i[r+1])r++;else if(":"===i[r]){i=i.slice(r+1);break}n+=i[r]}return t===n&&(n=""),{namespace:n,key:i}}function i(e){return t(e)?e:e.namespace?[e.namespace.replace(/\:/g,"\\:"),e.key].join(":"):e.key}function r(e){return e=JSON.parse(JSON.stringify(e)),delete e.identifier,e.composition&&(e.composition=e.composition.map(i)),e}function o(e,t){return e=JSON.parse(JSON.stringify(e)),e.identifier=n(t),e.composition&&(e.composition=e.composition.map(n)),e}function s(e,t){return e.key===t.key&&e.namespace===t.namespace}function a(e,t){return s(e.identifier,t.identifier)}return{toOldFormat:r,toNewFormat:o,makeKeyString:i,parseKeyString:n,equals:a,identifierEquals:s}}),n("src/adapter/actions/ActionDialogDecorator",["../../api/objects/object-utils"],function(e){function t(e,t){this.mct=e,this.actionService=t}return t.prototype.getActions=function(t){var n=this.mct;return this.actionService.getActions(t).map(function(i){if(i.dialogService){var r=e.toNewFormat(t.domainObject.getModel(),e.parseKeyString(t.domainObject.getId())),o=n.propertyEditors.get(r);o.length>0&&(i.dialogService=Object.create(i.dialogService),i.dialogService.getUserInput=function(e){return new n.Dialog(o[0].view(t.domainObject),e.title).show()})}return i})},t}),n("src/adapter/capabilities/AdapterCapability",["../../api/objects/object-utils"],function(e){function t(e){this.domainObject=e}return t.prototype.invoke=function(){return e.toNewFormat(this.domainObject.getModel(),this.domainObject.getId())},t}),n("src/adapter/controllers/AdaptedViewController",[],function(){function e(e,t){function n(n){if(!n)return void(e.view=void 0);var i=n.useCapability("adapter"),r=t.mainViews.get(i);e.view=r[0]&&r[0].view(i)}e.$watch("domainObject",n)}return e}),n("src/adapter/directives/Region",[],function(){function e(e){this.activeView=void 0,this.element=e}return e.prototype.clear=function(){this.activeView&&(this.activeView.destroy(),this.activeView=void 0)},e.prototype.show=function(e){this.clear(),this.activeView=e,this.activeView&&this.activeView.show(this.element)},e}),n("src/adapter/directives/MCTView",["angular","./Region"],function(e,t){function n(){return{restrict:"A",link:function(e,n,i){var r=new t(n[0]);e.$watch(i.mctView,r.show.bind(r))}}}return n}),n("platform/core/src/objects/DomainObjectImpl",[],function(){function e(e,t,n){this.id=e,this.model=t,this.capabilities=n}return e.prototype.getId=function(){return this.id},e.prototype.getModel=function(){return this.model},e.prototype.getCapability=function(e){var t=this.capabilities[e];return"function"==typeof t?t(this):t},e.prototype.hasCapability=function(e){return void 0!==this.getCapability(e)},e.prototype.useCapability=function(e){var t=Array.prototype.slice.apply(arguments,[1]),n=this.getCapability(e);return n&&n.invoke?n.invoke.apply(n,t):n},e}),n("src/adapter/services/Instantiate",["../../../platform/core/src/objects/DomainObjectImpl"],function(e){function t(t,n,i){return function(r,o){o=o||n.generate();var s=r.id;r.id=o;var a=t.getCapabilities(r,o);return r.id=s,i.put(o,r),new e(o,r,a)}}return t}),n("src/adapter/services/MissingModelCompatibilityDecorator",["../../api/objects/object-utils"],function(e){function t(e,t){this.api=e,this.modelService=t,this.apiFetching={}}return t.prototype.apiFetch=function(t){var n={},i=t.map(function(t){return this.apiFetching[t]?Promise.resolve():(this.apiFetching[t]=!0,this.api.objects.get(e.parseKeyString(t)).then(function(i){n[t]=e.toOldFormat(i)}))},this);return Promise.all(i).then(function(){return n})},t.prototype.getModels=function(e){return this.modelService.getModels(e).then(function(t){var n=e.filter(function(e){return!t[e]});return n.length?this.apiFetch(n).then(function(e){return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}):t}.bind(this))},t}),n("src/adapter/capabilities/synchronizeMutationCapability",[],function(){function e(e){return function(t){var n=e(t),i=n.listen.bind(n);return n.listen=function(e){return i(function(t){n.domainObject.model=JSON.parse(JSON.stringify(t)),e(t)})},n}}return e}),n("platform/core/src/capabilities/ContextCapability",[],function(){function e(e,t){this.parentObject=e,this.domainObject=t}return e.prototype.getParent=function(){return this.parentObject},e.prototype.getPath=function(){var e=this.parentObject,t=e&&e.getCapability("context"),n=t?t.getPath():[this.parentObject];return n.concat([this.domainObject])},e.prototype.getRoot=function(){var e=this.parentObject&&this.parentObject.getCapability("context");return e?e.getRoot():this.parentObject||this.domainObject},e}),n("platform/core/src/capabilities/ContextualDomainObject",["./ContextCapability"],function(e){function t(t,n){var i=Object.create(t),r=new e(n,t);return i.getCapability=function(e){return"context"===e?r:t.getCapability.apply(this,arguments)},i}return t}),n("src/adapter/capabilities/AlternateCompositionCapability",["../../api/objects/object-utils","../../../platform/core/src/capabilities/ContextualDomainObject"],function(e,t){function n(e,t){this.domainObject=t,this.getDependencies=function(){this.instantiate=e.get("instantiate"),this.getDependencies=void 0,this.openmct=e.get("openmct")}.bind(this)}return n.prototype.add=function(e,t){function n(t){var n=t.composition.indexOf(e.getId());-1===n&&t.composition.push(e.getId())}if("undefined"!=typeof t)throw new Error("Composition Capability does not support adding at index");return this.domainObject.useCapability("mutation",n).then(this.invoke.bind(this)).then(function(t){return t.filter(function(t){return t.getId()===e.getId()})[0]})},n.prototype.contextualizeChild=function(n){this.getDependencies&&this.getDependencies();var i=e.makeKeyString(n.identifier),r=e.toOldFormat(n),o=this.instantiate(r,i);return new t(o,this.domainObject)},n.prototype.invoke=function(){var t=e.toNewFormat(this.domainObject.getModel(),this.domainObject.getId());this.getDependencies&&this.getDependencies();var n=this.openmct.composition.get(t);return n.load().then(function(e){return e.map(this.contextualizeChild,this)}.bind(this))},n.appliesTo=function(){return!1},n}),n("src/adapter/capabilities/APICapabilityDecorator",["./synchronizeMutationCapability","./AlternateCompositionCapability"],function(e,t){function n(e,t){this.$injector=e,this.capabilityService=t}return n.prototype.getCapabilities=function(n,i){var r=this.capabilityService.getCapabilities(n,i);return r.mutation&&(r.mutation=e(r.mutation)),t.appliesTo(n,i)&&(r.composition=function(e){return new t(this.$injector,e)}.bind(this)),r},n}),n("src/adapter/policies/AdapterCompositionPolicy",[],function(){function e(e){this.openmct=e}return e.prototype.allow=function(e,t){return this.openmct.composition.checkPolicy(e,t)},e}),n("src/adapter/policies/AdaptedViewPolicy",[],function(){function e(e){this.openmct=e}return e.prototype.allow=function(e,t){if("adapted-view"===e.key){var n=t.useCapability("adapter");return this.openmct.mainViews.get(n).length>0}return!0},e}),n("src/adapter/runs/AlternateCompositionInitializer",["../capabilities/AlternateCompositionCapability","../../api/objects/object-utils"],function(e,t){function n(n){e.appliesTo=function(e,i){return e=t.toNewFormat(e,i||""),!!n.composition.get(e)}}return n}),n("text",["module"],function(e){"use strict";function n(e,t){return void 0===e||""===e?t:e}function i(e,t,i,r){if(t===r)return!0;if(e===i){if("http"===e)return n(t,"80")===n(r,"80");if("https"===e)return n(t,"443")===n(r,"443")}return!1}var r,o,s,a,c,l=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,d=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,p="undefined"!=typeof location&&location.href,f=p&&location.protocol&&location.protocol.replace(/\:/,""),h=p&&location.hostname,m=p&&(location.port||void 0),g={},y=e.config&&e.config()||{};return r={version:"2.0.15",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(d);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:y.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=l[t];try{e=new ActiveXObject(n)}catch(i){}if(e){l=[n];break}}return e},parseName:function(e){var t,n,i,r=!1,o=e.lastIndexOf("."),s=0===e.indexOf("./")||0===e.indexOf("../");return-1!==o&&(!s||o>1)?(t=e.substring(0,o),n=e.substring(o+1)):t=e,i=n||t,o=i.indexOf("!"),-1!==o&&(r="strip"===i.substring(o+1),i=i.substring(0,o),n?n=i:t=i),{moduleName:t,ext:n,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,o){var s,a,c,l=r.xdRegExp.exec(e);return l?(s=l[2],a=l[3],a=a.split(":"),c=a[1],a=a[0],(!s||s===t)&&(!a||a.toLowerCase()===n.toLowerCase())&&(!c&&!a||i(s,c,t,o))):!0},finishLoad:function(e,t,n,i){n=t?r.strip(n):n,y.isBuild&&(g[e]=n),i(n)},load:function(e,t,n,i){if(i&&i.isBuild&&!i.inlineText)return void n();y.isBuild=i&&i.isBuild;var o=r.parseName(e),s=o.moduleName+(o.ext?"."+o.ext:""),a=t.toUrl(s),c=y.useXhr||r.useXhr;return 0===a.indexOf("empty:")?void n():void(!p||c(a,f,h,m)?r.get(a,function(t){r.finishLoad(e,o.strip,t,n)},function(e){n.error&&n.error(e)}):t([s],function(e){r.finishLoad(o.moduleName+"."+o.ext,o.strip,e,n)}))},write:function(e,t,n,i){if(g.hasOwnProperty(t)){var o=r.jsEscape(g[t]);n.asModule(e+"!"+t,"define(function () { return '"+o+"';});\n")}},writeFile:function(e,t,n,i,o){var s=r.parseName(t),a=s.ext?"."+s.ext:"",c=s.moduleName+a,l=n.toUrl(s.moduleName+a)+".js";r.load(c,n,function(t){var n=function(e){return i(l,e)};n.asModule=function(e,t){return i.asModule(e,l,t)},r.write(e,c,n,o)},o)}},"node"===y.env||!y.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(o=t.nodeRequire("fs"),r.get=function(e,t,n){try{var i=o.readFileSync(e,"utf8");"\ufeff"===i[0]&&(i=i.substring(1)),t(i)}catch(r){n&&n(r)}}):"xhr"===y.env||!y.env&&r.createXhr()?r.get=function(e,t,n,i){var o,s=r.createXhr();if(s.open("GET",e,!0),i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);y.onXhr&&y.onXhr(s,e),s.onreadystatechange=function(i){var r,o;4===s.readyState&&(r=s.status||0,r>399&&600>r?(o=new Error(e+" HTTP status: "+r),o.xhr=s,n&&n(o)):t(s.responseText),y.onXhrComplete&&y.onXhrComplete(s,e))},s.send(null)}:"rhino"===y.env||!y.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?r.get=function(e,t){var n,i,r="utf-8",o=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),r)),c="";try{for(n=new java.lang.StringBuffer,i=a.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=a.readLine());)n.append(s),n.append(i);c=String(n.toString())}finally{a.close()}t(c)}:("xpconnect"===y.env||!y.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(s=Components.classes,a=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),c="@mozilla.org/windows-registry-key;1"in s,r.get=function(e,t){var n,i,r,o={};c&&(e=e.replace(/\//g,"\\")),r=new FileUtils.File(e);try{n=s["@mozilla.org/network/file-input-stream;1"].createInstance(a.nsIFileInputStream),n.init(r,1,0,!1),i=s["@mozilla.org/intl/converter-input-stream;1"].createInstance(a.nsIConverterInputStream),i.init(n,"utf-8",n.available(),a.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),i.readString(n.available(),o),i.close(),n.close(),t(o.value)}catch(l){throw new Error((r&&r.path||"")+": "+l)}}),r}),n("text!src/adapter/templates/adapted-view-template.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="AdaptedViewController" mct-view="view"></div>\n'}),n("src/adapter/bundle",["legacyRegistry","./actions/ActionDialogDecorator","./capabilities/AdapterCapability","./controllers/AdaptedViewController","./directives/MCTView","./services/Instantiate","./services/MissingModelCompatibilityDecorator","./capabilities/APICapabilityDecorator","./policies/AdapterCompositionPolicy","./policies/AdaptedViewPolicy","./runs/AlternateCompositionInitializer","text!./templates/adapted-view-template.html"],function(e,t,n,i,r,o,s,a,c,l,u,d){e.register("src/adapter",{extensions:{directives:[{key:"mctView",implementation:r}],capabilities:[{key:"adapter",implementation:n}],controllers:[{key:"AdaptedViewController",implementation:i,depends:["$scope","openmct"]}],services:[{key:"instantiate",priority:"mandatory",implementation:o,depends:["capabilityService","identifierService","cacheService"]}],components:[{type:"decorator",provides:"capabilityService",implementation:a,depends:["$injector"]},{type:"decorator",provides:"actionService",implementation:t,depends:["openmct"]},{type:"decorator",provides:"modelService",implementation:s,depends:["openmct"]}],policies:[{category:"composition",implementation:c,depends:["openmct"]},{category:"view",implementation:l,depends:["openmct"]}],runs:[{implementation:u,depends:["openmct"]}],views:[{key:"adapted-view",template:d}],licenses:[{name:"almond",version:"0.3.3",description:"Lightweight RequireJS replacement for builds",author:"jQuery Foundation",website:"https://github.com/requirejs/almond",copyright:"Copyright jQuery Foundation and other contributors, https://jquery.org/",license:"license-mit",link:"https://github.com/requirejs/almond/blob/master/LICENSE"},{name:"lodash",version:"3.10.1",description:"Utility functions",author:"Dojo Foundation",website:"https://lodash.com",copyright:"Copyright 2012-2015 The Dojo Foundation",license:"license-mit",link:"https://raw.githubusercontent.com/lodash/lodash/3.10.1/LICENSE"},{name:"EventEmitter3",version:"1.2.0",description:"Event-driven programming support",author:"Arnout Kazemier",website:"https://github.com/primus/eventemitter3",copyright:"Copyright (c) 2014 Arnout Kazemier",license:"license-mit",link:"https://github.com/primus/eventemitter3/blob/1.2.0/LICENSE"}]}})}),n("src/api/objects/LegacyObjectAPIInterceptor",["./object-utils"],function(e){function t(e,t,n,i){this.eventEmitter=e,this.objectService=t,this.instantiate=n,this.generalTopic=i("mutation"),this.bridgeEventBuses()}function n(n,i,r,o,s){var a=n.objects.eventEmitter;return this.getObjects=function(t){var i={},o=t.map(function(t){var o=e.parseKeyString(t);return n.objects.get(o).then(function(n){n=e.toOldFormat(n),i[t]=r(n,t)})});return Promise.all(o).then(function(){return i})},n.objects.supersecretSetFallbackProvider(new t(a,s,r,o)),i.forEach(function(t){n.objects.addRoot(e.parseKeyString(t.id));
}),this}return t.prototype.bridgeEventBuses=function(){var t,n,i=function(i){var r=e.makeKeyString(i.identifier),o=this.instantiate(e.toOldFormat(i),r);t(),o.getCapability("mutation").mutate(function(){return e.toOldFormat(i)}),t=this.generalTopic.listen(n)}.bind(this);n=function(t){var n=e.toNewFormat(t.getModel(),t.getId());this.eventEmitter.off("mutation",i),this.eventEmitter.emit(n.identifier.key+":*",n),this.eventEmitter.on("mutation",i)}.bind(this),this.eventEmitter.on("mutation",i),t=this.generalTopic.listen(n)},t.prototype.save=function(t){var n=t.key;return t.getCapability("persistence").persist().then(function(){return e.toNewFormat(t,n)})},t.prototype["delete"]=function(e){},t.prototype.get=function(t){var n=e.makeKeyString(t);return this.objectService.getObjects([n]).then(function(i){var r=i[n].getModel();return e.toNewFormat(r,t)})},n}),n("src/api/objects/bundle",["./LegacyObjectAPIInterceptor","legacyRegistry"],function(e,t){t.register("src/api/objects",{name:"Object API",description:"The public Objects API",extensions:{components:[{provides:"objectService",type:"decorator",priority:"mandatory",implementation:e,depends:["openmct","roots[]","instantiate","topic"]}]}})}),function(){function e(e,t){if(e!==t){var n=null===e,i=e===C,r=e===e,o=null===t,s=t===C,a=t===t;if(e>t&&!o||!r||n&&!s&&a||i&&a)return 1;if(t>e&&!n||!a||o&&!i&&r||s&&r)return-1}return 0}function t(e,t,n){for(var i=e.length,r=n?i:-1;n?r--:++r<i;)if(t(e[r],r,e))return r;return-1}function i(e,t,n){if(t!==t)return h(e,n);for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}function r(e){return"function"==typeof e||!1}function o(e){return null==e?"":e+""}function s(e,t){for(var n=-1,i=e.length;++n<i&&t.indexOf(e.charAt(n))>-1;);return n}function a(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function c(t,n){return e(t.criteria,n.criteria)||t.index-n.index}function l(t,n,i){for(var r=-1,o=t.criteria,s=n.criteria,a=o.length,c=i.length;++r<a;){var l=e(o[r],s[r]);if(l){if(r>=c)return l;var u=i[r];return l*("asc"===u||u===!0?1:-1)}}return t.index-n.index}function u(e){return Be[e]}function d(e){return qe[e]}function p(e,t,n){return t?e=We[e]:n&&(e=ze[e]),"\\"+e}function f(e){return"\\"+ze[e]}function h(e,t,n){for(var i=e.length,r=t+(n?0:-1);n?r--:++r<i;){var o=e[r];if(o!==o)return r}return-1}function m(e){return!!e&&"object"==typeof e}function g(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function y(e,t){for(var n=-1,i=e.length,r=-1,o=[];++n<i;)e[n]===t&&(e[n]=B,o[++r]=n);return o}function v(e,t){for(var n,i=-1,r=e.length,o=-1,s=[];++i<r;){var a=e[i],c=t?t(a,i,e):a;i&&n===c||(n=c,s[++o]=a)}return s}function b(e){for(var t=-1,n=e.length;++t<n&&g(e.charCodeAt(t)););return t}function w(e){for(var t=e.length;t--&&g(e.charCodeAt(t)););return t}function S(e){return Ye[e]}function x(n){function g(e){if(m(e)&&!Ma(e)&&!(e instanceof te)){if(e instanceof Q)return e;if(ts.call(e,"__chain__")&&ts.call(e,"__wrapped__"))return fi(e)}return new Q(e)}function K(){}function Q(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function te(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=As,this.__views__=[]}function Be(){var e=new te(this.__wrapped__);return e.__actions__=nt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=nt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=nt(this.__views__),e}function qe(){if(this.__filtered__){var e=new te(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ye(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ma(e),i=0>t,r=n?e.length:0,o=Wn(0,r,this.__views__),s=o.start,a=o.end,c=a-s,l=i?a:s-1,u=this.__iteratees__,d=u.length,p=0,f=Cs(c,this.__takeCount__);if(!n||R>r||r==c&&f==c)return nn(e,this.__actions__);var h=[];e:for(;c--&&f>p;){l+=t;for(var m=-1,g=e[l];++m<d;){var y=u[m],v=y.iteratee,b=y.type,w=v(g);if(b==F)g=w;else if(!w){if(b==U)continue e;break e}}h[p++]=g}return h}function He(){this.__data__={}}function We(e){return this.has(e)&&delete this.__data__[e]}function ze(e){return"__proto__"==e?C:this.__data__[e]}function Ge(e){return"__proto__"!=e&&ts.call(this.__data__,e)}function Ke(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Ze(e){var t=e?e.length:0;for(this.data={hash:ys(null),set:new ds};t--;)this.push(e[t])}function Xe(e,t){var n=e.data,i="string"==typeof t||jr(t)?n.set.has(t):n.hash[t];return i?0:-1}function Je(e){var t=this.data;"string"==typeof e||jr(e)?t.set.add(e):t.hash[e]=!0}function Qe(e,t){for(var n=-1,i=e.length,r=-1,o=t.length,s=Vo(i+o);++n<i;)s[n]=e[n];for(;++r<o;)s[n++]=t[r];return s}function nt(e,t){var n=-1,i=e.length;for(t||(t=Vo(i));++n<i;)t[n]=e[n];return t}function it(e,t){for(var n=-1,i=e.length;++n<i&&t(e[n],n,e)!==!1;);return e}function rt(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function ot(e,t){for(var n=-1,i=e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function st(e,t,n,i){for(var r=-1,o=e.length,s=i,a=s;++r<o;){var c=e[r],l=+t(c);n(l,s)&&(s=l,a=c)}return a}function at(e,t){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[++r]=s)}return o}function ct(e,t){for(var n=-1,i=e.length,r=Vo(i);++n<i;)r[n]=t(e[n],n,e);return r}function lt(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function ut(e,t,n,i){var r=-1,o=e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function dt(e,t,n,i){var r=e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function pt(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function ft(e,t){for(var n=e.length,i=0;n--;)i+=+t(e[n])||0;return i}function ht(e,t){return e===C?t:e}function mt(e,t,n,i){return e!==C&&ts.call(i,n)?e:t}function gt(e,t,n){for(var i=-1,r=Fa(t),o=r.length;++i<o;){var s=r[i],a=e[s],c=n(a,t[s],s,e,t);(c===c?c===a:a!==a)&&(a!==C||s in e)||(e[s]=c)}return e}function yt(e,t){return null==t?e:bt(t,Fa(t),e)}function vt(e,t){for(var n=-1,i=null==e,r=!i&&Xn(e),o=r?e.length:0,s=t.length,a=Vo(s);++n<s;){var c=t[n];r?a[n]=Jn(c,o)?e[c]:C:a[n]=i?C:e[c]}return a}function bt(e,t,n){n||(n={});for(var i=-1,r=t.length;++i<r;){var o=t[i];n[o]=e[o]}return n}function wt(e,t,n){var i=typeof e;return"function"==i?t===C?e:sn(e,t,n):null==e?Ao:"object"==i?Ut(e):t===C?jo(e):Ft(e,t)}function St(e,t,n,i,r,o,s){var a;if(n&&(a=r?n(e,i,r):n(e)),a!==C)return a;if(!jr(e))return e;var c=Ma(e);if(c){if(a=zn(e),!t)return nt(e,a)}else{var l=is.call(e),u=l==G;if(l!=X&&l!=q&&(!u||r))return Ve[l]?Kn(e,l,t):r?e:{};if(a=Gn(u?{}:e),!t)return yt(a,e)}o||(o=[]),s||(s=[]);for(var d=o.length;d--;)if(o[d]==e)return s[d];return o.push(e),s.push(a),(c?it:Et)(e,function(i,r){a[r]=St(i,t,n,r,e,o,s)}),a}function xt(e,t,n){if("function"!=typeof e)throw new Zo(V);return ps(function(){e.apply(C,n)},t)}function Ct(e,t){var n=e?e.length:0,r=[];if(!n)return r;var o=-1,s=qn(),a=s===i,c=a&&t.length>=R?mn(t):null,l=t.length;c&&(s=Xe,a=!1,t=c);e:for(;++o<n;){var u=e[o];if(a&&u===u){for(var d=l;d--;)if(t[d]===u)continue e;r.push(u)}else s(t,u,0)<0&&r.push(u)}return r}function Ot(e,t){var n=!0;return Ds(e,function(e,i,r){return n=!!t(e,i,r)}),n}function kt(e,t,n,i){var r=i,o=r;return Ds(e,function(e,s,a){var c=+t(e,s,a);(n(c,r)||c===i&&c===o)&&(r=c,o=e)}),o}function $t(e,t,n,i){var r=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>r?0:r+n),i=i===C||i>r?r:+i||0,0>i&&(i+=r),r=n>i?0:i>>>0,n>>>=0;r>n;)e[n++]=t;return e}function Tt(e,t){var n=[];return Ds(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function At(e,t,n,i){var r;return n(e,function(e,n,o){return t(e,n,o)?(r=i?n:e,!1):void 0}),r}function Mt(e,t,n,i){i||(i=[]);for(var r=-1,o=e.length;++r<o;){var s=e[r];m(s)&&Xn(s)&&(n||Ma(s)||kr(s))?t?Mt(s,t,n,i):lt(i,s):n||(i[i.length]=s)}return i}function It(e,t){return Rs(e,t,eo)}function Et(e,t){return Rs(e,t,Fa)}function Lt(e,t){return Us(e,t,Fa)}function Nt(e,t){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var s=t[n];Nr(e[s])&&(o[++r]=s)}return o}function jt(e,t,n){if(null!=e){n!==C&&n in di(e)&&(t=[n]);for(var i=0,r=t.length;null!=e&&r>i;)e=e[t[i++]];return i&&i==r?e:C}}function Pt(e,t,n,i,r,o){return e===t?!0:null==e||null==t||!jr(e)&&!m(t)?e!==e&&t!==t:Dt(e,t,Pt,n,i,r,o)}function Dt(e,t,n,i,r,o,s){var a=Ma(e),c=Ma(t),l=Y,u=Y;a||(l=is.call(e),l==q?l=X:l!=X&&(a=qr(e))),c||(u=is.call(t),u==q?u=X:u!=X&&(c=qr(t)));var d=l==X,p=u==X,f=l==u;if(f&&!a&&!d)return Un(e,t,l);if(!r){var h=d&&ts.call(e,"__wrapped__"),m=p&&ts.call(t,"__wrapped__");if(h||m)return n(h?e.value():e,m?t.value():t,i,r,o,s)}if(!f)return!1;o||(o=[]),s||(s=[]);for(var g=o.length;g--;)if(o[g]==e)return s[g]==t;o.push(e),s.push(t);var y=(a?Rn:Fn)(e,t,n,i,r,o,s);return o.pop(),s.pop(),y}function _t(e,t,n){var i=t.length,r=i,o=!n;if(null==e)return!r;for(e=di(e);i--;){var s=t[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<r;){s=t[i];var a=s[0],c=e[a],l=s[1];if(o&&s[2]){if(c===C&&!(a in e))return!1}else{var u=n?n(c,l,a):C;if(!(u===C?Pt(l,c,n,!0):u))return!1}}return!0}function Rt(e,t){var n=-1,i=Xn(e)?Vo(e.length):[];return Ds(e,function(e,r,o){i[++n]=t(e,r,o)}),i}function Ut(e){var t=Yn(e);if(1==t.length&&t[0][2]){var n=t[0][0],i=t[0][1];return function(e){return null==e?!1:e[n]===i&&(i!==C||n in di(e))}}return function(e){return _t(e,t)}}function Ft(e,t){var n=Ma(e),i=ei(e)&&ii(t),r=e+"";return e=pi(e),function(o){if(null==o)return!1;var s=r;if(o=di(o),(n||!i)&&!(s in o)){if(o=1==e.length?o:jt(o,Gt(e,0,-1)),null==o)return!1;s=$i(e),o=di(o)}return o[s]===t?t!==C||s in o:Pt(t,o[s],C,!0)}}function Vt(e,t,n,i,r){if(!jr(e))return e;var o=Xn(t)&&(Ma(t)||qr(t)),s=o?C:Fa(t);return it(s||t,function(a,c){if(s&&(c=a,a=t[c]),m(a))i||(i=[]),r||(r=[]),Bt(e,t,c,Vt,n,i,r);else{var l=e[c],u=n?n(l,a,c,e,t):C,d=u===C;d&&(u=a),u===C&&(!o||c in e)||!d&&(u===u?u===l:l!==l)||(e[c]=u)}}),e}function Bt(e,t,n,i,r,o,s){for(var a=o.length,c=t[n];a--;)if(o[a]==c)return void(e[n]=s[a]);var l=e[n],u=r?r(l,c,n,e,t):C,d=u===C;d&&(u=c,Xn(c)&&(Ma(c)||qr(c))?u=Ma(l)?l:Xn(l)?nt(l):[]:Fr(c)||kr(c)?u=kr(l)?Gr(l):Fr(l)?l:{}:d=!1),o.push(c),s.push(u),d?e[n]=i(u,c,r,o,s):(u===u?u!==l:l===l)&&(e[n]=u)}function qt(e){return function(t){return null==t?C:t[e]}}function Yt(e){var t=e+"";return e=pi(e),function(n){return jt(n,e,t)}}function Ht(e,t){for(var n=e?t.length:0;n--;){var i=t[n];if(i!=r&&Jn(i)){var r=i;fs.call(e,i,1)}}return e}function Wt(e,t){return e+vs($s()*(t-e+1))}function zt(e,t,n,i,r){return r(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function Gt(e,t,n){var i=-1,r=e.length;t=null==t?0:+t||0,0>t&&(t=-t>r?0:r+t),n=n===C||n>r?r:+n||0,0>n&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Vo(r);++i<r;)o[i]=e[i+t];return o}function Kt(e,t){var n;return Ds(e,function(e,i,r){return n=t(e,i,r),!n}),!!n}function Zt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Xt(e,t,n){var i=Vn(),r=-1;t=ct(t,function(e){return i(e)});var o=Rt(e,function(e){var n=ct(t,function(t){return t(e)});return{criteria:n,index:++r,value:e}});return Zt(o,function(e,t){return l(e,t,n)})}function Jt(e,t){var n=0;return Ds(e,function(e,i,r){n+=+t(e,i,r)||0}),n}function Qt(e,t){var n=-1,r=qn(),o=e.length,s=r===i,a=s&&o>=R,c=a?mn():null,l=[];c?(r=Xe,s=!1):(a=!1,c=t?[]:l);e:for(;++n<o;){var u=e[n],d=t?t(u,n,e):u;if(s&&u===u){for(var p=c.length;p--;)if(c[p]===d)continue e;t&&c.push(d),l.push(u)}else r(c,d,0)<0&&((t||a)&&c.push(d),l.push(u))}return l}function en(e,t){for(var n=-1,i=t.length,r=Vo(i);++n<i;)r[n]=e[t[n]];return r}function tn(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?Gt(e,i?0:o,i?o+1:r):Gt(e,i?o+1:0,i?r:o)}function nn(e,t){var n=e;n instanceof te&&(n=n.value());for(var i=-1,r=t.length;++i<r;){var o=t[i];n=o.func.apply(o.thisArg,lt([n],o.args))}return n}function rn(e,t,n){var i=0,r=e?e.length:i;if("number"==typeof t&&t===t&&Es>=r){for(;r>i;){var o=i+r>>>1,s=e[o];(n?t>=s:t>s)&&null!==s?i=o+1:r=o}return r}return on(e,t,Ao,n)}function on(e,t,n,i){t=n(t);for(var r=0,o=e?e.length:0,s=t!==t,a=null===t,c=t===C;o>r;){var l=vs((r+o)/2),u=n(e[l]),d=u!==C,p=u===u;if(s)var f=p||i;else f=a?p&&d&&(i||null!=u):c?p&&(i||d):null==u?!1:i?t>=u:t>u;f?r=l+1:o=l}return Cs(o,Is)}function sn(e,t,n){if("function"!=typeof e)return Ao;if(t===C)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)};case 5:return function(n,i,r,o,s){return e.call(t,n,i,r,o,s)}}return function(){return e.apply(t,arguments)}}function an(e){var t=new ss(e.byteLength),n=new hs(t);return n.set(new hs(e)),t}function cn(e,t,n){for(var i=n.length,r=-1,o=xs(e.length-i,0),s=-1,a=t.length,c=Vo(a+o);++s<a;)c[s]=t[s];for(;++r<i;)c[n[r]]=e[r];for(;o--;)c[s++]=e[r++];return c}function ln(e,t,n){for(var i=-1,r=n.length,o=-1,s=xs(e.length-r,0),a=-1,c=t.length,l=Vo(s+c);++o<s;)l[o]=e[o];for(var u=o;++a<c;)l[u+a]=t[a];for(;++i<r;)l[u+n[i]]=e[o++];return l}function un(e,t){return function(n,i,r){var o=t?t():{};if(i=Vn(i,r,3),Ma(n))for(var s=-1,a=n.length;++s<a;){var c=n[s];e(o,c,i(c,s,n),n)}else Ds(n,function(t,n,r){e(o,t,i(t,n,r),r)});return o}}function dn(e){return yr(function(t,n){var i=-1,r=null==t?0:n.length,o=r>2?n[r-2]:C,s=r>2?n[2]:C,a=r>1?n[r-1]:C;for("function"==typeof o?(o=sn(o,a,5),r-=2):(o="function"==typeof a?a:C,r-=o?1:0),s&&Qn(n[0],n[1],s)&&(o=3>r?C:o,r=1);++i<r;){var c=n[i];c&&e(t,c,o)}return t})}function pn(e,t){return function(n,i){var r=n?Bs(n):0;if(!ni(r))return e(n,i);for(var o=t?r:-1,s=di(n);(t?o--:++o<r)&&i(s[o],o,s)!==!1;);return n}}function fn(e){return function(t,n,i){for(var r=di(t),o=i(t),s=o.length,a=e?s:-1;e?a--:++a<s;){var c=o[a];if(n(r[c],c,r)===!1)break}return t}}function hn(e,t){function n(){var r=this&&this!==et&&this instanceof n?i:e;return r.apply(t,arguments)}var i=yn(e);return n}function mn(e){return ys&&ds?new Ze(e):null}function gn(e){return function(t){for(var n=-1,i=ko(uo(t)),r=i.length,o="";++n<r;)o=e(o,i[n],n);return o}}function yn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ps(e.prototype),i=e.apply(n,t);return jr(i)?i:n}}function vn(e){function t(n,i,r){r&&Qn(n,i,r)&&(i=C);var o=_n(n,e,C,C,C,C,C,i);return o.placeholder=t.placeholder,o}return t}function bn(e,t){return yr(function(n){var i=n[0];return null==i?i:(n.push(t),e.apply(C,n))})}function wn(e,t){return function(n,i,r){if(r&&Qn(n,i,r)&&(i=C),i=Vn(i,r,3),1==i.length){n=Ma(n)?n:ui(n);var o=st(n,i,e,t);if(!n.length||o!==t)return o}return kt(n,i,e,t)}}function Sn(e,n){return function(i,r,o){if(r=Vn(r,o,3),Ma(i)){var s=t(i,r,n);return s>-1?i[s]:C}return At(i,r,e)}}function xn(e){return function(n,i,r){return n&&n.length?(i=Vn(i,r,3),t(n,i,e)):-1}}function Cn(e){return function(t,n,i){return n=Vn(n,i,3),At(t,n,e,!0)}}function On(e){return function(){for(var t,n=arguments.length,i=e?n:-1,r=0,o=Vo(n);e?i--:++i<n;){var s=o[r++]=arguments[i];if("function"!=typeof s)throw new Zo(V);!t&&Q.prototype.thru&&"wrapper"==Bn(s)&&(t=new Q([],!0))}for(i=t?-1:n;++i<n;){s=o[i];var a=Bn(s),c="wrapper"==a?Vs(s):C;t=c&&ti(c[0])&&c[1]==(L|A|I|N)&&!c[4].length&&1==c[9]?t[Bn(c[0])].apply(t,c[3]):1==s.length&&ti(s)?t[a]():t.thru(s)}return function(){var e=arguments,i=e[0];if(t&&1==e.length&&Ma(i)&&i.length>=R)return t.plant(i).value();for(var r=0,s=n?o[r].apply(this,e):i;++r<n;)s=o[r].call(this,s);return s}}}function kn(e,t){return function(n,i,r){return"function"==typeof i&&r===C&&Ma(n)?e(n,i):t(n,sn(i,r,3))}}function $n(e){return function(t,n,i){return("function"!=typeof n||i!==C)&&(n=sn(n,i,3)),e(t,n,eo)}}function Tn(e){return function(t,n,i){return("function"!=typeof n||i!==C)&&(n=sn(n,i,3)),e(t,n)}}function An(e){return function(t,n,i){var r={};return n=Vn(n,i,3),Et(t,function(t,i,o){var s=n(t,i,o);i=e?s:i,t=e?t:s,r[i]=t}),r}}function Mn(e){return function(t,n,i){return t=o(t),(e?t:"")+Nn(t,n,i)+(e?"":t)}}function In(e){var t=yr(function(n,i){var r=y(i,t.placeholder);return _n(n,e,C,i,r)});return t}function En(e,t){return function(n,i,r,o){var s=arguments.length<3;return"function"==typeof i&&o===C&&Ma(n)?e(n,i,r,s):zt(n,Vn(i,o,4),r,s,t)}}function Ln(e,t,n,i,r,o,s,a,c,l){function u(){for(var b=arguments.length,w=b,S=Vo(b);w--;)S[w]=arguments[w];if(i&&(S=cn(S,i,r)),o&&(S=ln(S,o,s)),h||g){var x=u.placeholder,O=y(S,x);if(b-=O.length,l>b){var T=a?nt(a):C,A=xs(l-b,0),M=h?O:C,L=h?C:O,N=h?S:C,j=h?C:S;t|=h?I:E,t&=~(h?E:I),m||(t&=~(k|$));var P=[e,t,n,N,M,j,L,T,c,A],D=Ln.apply(C,P);return ti(e)&&qs(D,P),D.placeholder=x,D}}var _=p?n:this,R=f?_[e]:e;return a&&(S=ci(S,a)),d&&c<S.length&&(S.length=c),this&&this!==et&&this instanceof u&&(R=v||yn(e)),R.apply(_,S)}var d=t&L,p=t&k,f=t&$,h=t&A,m=t&T,g=t&M,v=f?C:yn(e);return u}function Nn(e,t,n){var i=e.length;if(t=+t,i>=t||!ws(t))return"";var r=t-i;return n=null==n?" ":n+"",yo(n,gs(r/n.length)).slice(0,r)}function jn(e,t,n,i){function r(){for(var t=-1,a=arguments.length,c=-1,l=i.length,u=Vo(l+a);++c<l;)u[c]=i[c];for(;a--;)u[c++]=arguments[++t];var d=this&&this!==et&&this instanceof r?s:e;return d.apply(o?n:this,u)}var o=t&k,s=yn(e);return r}function Pn(e){var t=Ho[e];return function(e,n){return n=n===C?0:+n||0,n?(n=ls(10,n),t(e*n)/n):t(e)}}function Dn(e){return function(t,n,i,r){var o=Vn(i);return null==i&&o===wt?rn(t,n,e):on(t,n,o(i,r,1),e)}}function _n(e,t,n,i,r,o,s,a){var c=t&$;if(!c&&"function"!=typeof e)throw new Zo(V);var l=i?i.length:0;if(l||(t&=~(I|E),i=r=C),l-=r?r.length:0,t&E){var u=i,d=r;i=r=C}var p=c?C:Vs(e),f=[e,t,n,i,r,u,d,o,s,a];if(p&&(ri(f,p),t=f[1],a=f[9]),f[9]=null==a?c?0:e.length:xs(a-l,0)||0,t==k)var h=hn(f[0],f[2]);else h=t!=I&&t!=(k|I)||f[4].length?Ln.apply(C,f):jn.apply(C,f);var m=p?Fs:qs;return m(h,f)}function Rn(e,t,n,i,r,o,s){var a=-1,c=e.length,l=t.length;if(c!=l&&!(r&&l>c))return!1;for(;++a<c;){var u=e[a],d=t[a],p=i?i(r?d:u,r?u:d,a):C;if(p!==C){if(p)continue;return!1}if(r){if(!pt(t,function(e){return u===e||n(u,e,i,r,o,s)}))return!1}else if(u!==d&&!n(u,d,i,r,o,s))return!1}return!0}function Un(e,t,n){switch(n){case H:case W:return+e==+t;case z:return e.name==t.name&&e.message==t.message;case Z:return e!=+e?t!=+t:e==+t;case J:case ee:return e==t+""}return!1}function Fn(e,t,n,i,r,o,s){var a=Fa(e),c=a.length,l=Fa(t),u=l.length;if(c!=u&&!r)return!1;for(var d=c;d--;){var p=a[d];if(!(r?p in t:ts.call(t,p)))return!1}for(var f=r;++d<c;){p=a[d];var h=e[p],m=t[p],g=i?i(r?m:h,r?h:m,p):C;if(!(g===C?n(h,m,i,r,o,s):g))return!1;f||(f="constructor"==p)}if(!f){var y=e.constructor,v=t.constructor;if(y!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v))return!1}return!0}function Vn(e,t,n){var i=g.callback||$o;return i=i===$o?wt:i,n?i(e,t,n):i}function Bn(e){for(var t=e.name+"",n=js[t],i=n?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function qn(e,t,n){var r=g.indexOf||Oi;return r=r===Oi?i:r,e?r(e,t,n):r}function Yn(e){for(var t=to(e),n=t.length;n--;)t[n][2]=ii(t[n][1]);return t}function Hn(e,t){var n=null==e?C:e[t];return _r(n)?n:C}function Wn(e,t,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=Cs(t,e+s);break;case"takeRight":e=xs(e,t-s)}}return{start:e,end:t}}function zn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ts.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Gn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=zo),new t}function Kn(e,t,n){var i=e.constructor;switch(t){case ne:return an(e);case H:case W:return new i(+e);case ie:case re:case oe:case se:case ae:case ce:case le:case ue:case de:var r=e.buffer;return new i(n?an(r):r,e.byteOffset,e.length);case Z:case ee:return new i(e);case J:var o=new i(e.source,Ie.exec(e));o.lastIndex=e.lastIndex}return o}function Zn(e,t,n){null==e||ei(t,e)||(t=pi(t),e=1==t.length?e:jt(e,Gt(t,0,-1)),t=$i(t));var i=null==e?e:e[t];return null==i?C:i.apply(e,n)}function Xn(e){return null!=e&&ni(Bs(e))}function Jn(e,t){return e="number"==typeof e||Ne.test(e)?+e:-1,t=null==t?Ls:t,e>-1&&e%1==0&&t>e}function Qn(e,t,n){if(!jr(n))return!1;var i=typeof t;if("number"==i?Xn(n)&&Jn(t,n.length):"string"==i&&t in n){var r=n[t];return e===e?e===r:r!==r}return!1}function ei(e,t){var n=typeof e;if("string"==n&&Ce.test(e)||"number"==n)return!0;if(Ma(e))return!1;var i=!xe.test(e);return i||null!=t&&e in di(t)}function ti(e){var t=Bn(e),n=g[t];if("function"!=typeof n||!(t in te.prototype))return!1;if(e===n)return!0;var i=Vs(n);return!!i&&e===i[0]}function ni(e){return"number"==typeof e&&e>-1&&e%1==0&&Ls>=e}function ii(e){return e===e&&!jr(e)}function ri(e,t){var n=e[1],i=t[1],r=n|i,o=L>r,s=i==L&&n==A||i==L&&n==N&&e[7].length<=t[8]||i==(L|N)&&n==A;if(!o&&!s)return e;i&k&&(e[2]=t[2],r|=n&k?0:T);var a=t[3];if(a){var c=e[3];e[3]=c?cn(c,a,t[4]):nt(a),e[4]=c?y(e[3],B):nt(t[4])}return a=t[5],a&&(c=e[5],e[5]=c?ln(c,a,t[6]):nt(a),e[6]=c?y(e[5],B):nt(t[6])),a=t[7],a&&(e[7]=nt(a)),i&L&&(e[8]=null==e[8]?t[8]:Cs(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r,e}function oi(e,t){return e===C?t:Ia(e,t,oi)}function si(e,t){e=di(e);for(var n=-1,i=t.length,r={};++n<i;){var o=t[n];o in e&&(r[o]=e[o])}return r}function ai(e,t){var n={};return It(e,function(e,i,r){t(e,i,r)&&(n[i]=e)}),n}function ci(e,t){for(var n=e.length,i=Cs(t.length,n),r=nt(e);i--;){var o=t[i];e[i]=Jn(o,n)?r[o]:C}return e}function li(e){for(var t=eo(e),n=t.length,i=n&&e.length,r=!!i&&ni(i)&&(Ma(e)||kr(e)),o=-1,s=[];++o<n;){var a=t[o];(r&&Jn(a,i)||ts.call(e,a))&&s.push(a)}return s}function ui(e){return null==e?[]:Xn(e)?jr(e)?e:zo(e):oo(e)}function di(e){return jr(e)?e:zo(e)}function pi(e){if(Ma(e))return e;var t=[];return o(e).replace(Oe,function(e,n,i,r){t.push(i?r.replace(Ae,"$1"):n||e)}),t}function fi(e){return e instanceof te?e.clone():new Q(e.__wrapped__,e.__chain__,nt(e.__actions__))}function hi(e,t,n){t=(n?Qn(e,t,n):null==t)?1:xs(vs(t)||1,1);for(var i=0,r=e?e.length:0,o=-1,s=Vo(gs(r/t));r>i;)s[++o]=Gt(e,i,i+=t);return s}function mi(e){for(var t=-1,n=e?e.length:0,i=-1,r=[];++t<n;){var o=e[t];o&&(r[++i]=o)}return r}function gi(e,t,n){var i=e?e.length:0;return i?((n?Qn(e,t,n):null==t)&&(t=1),Gt(e,0>t?0:t)):[]}function yi(e,t,n){var i=e?e.length:0;return i?((n?Qn(e,t,n):null==t)&&(t=1),t=i-(+t||0),Gt(e,0,0>t?0:t)):[]}function vi(e,t,n){return e&&e.length?tn(e,Vn(t,n,3),!0,!0):[]}function bi(e,t,n){return e&&e.length?tn(e,Vn(t,n,3),!0):[]}function wi(e,t,n,i){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Qn(e,t,n)&&(n=0,i=r),$t(e,t,n,i)):[]}function Si(e){return e?e[0]:C}function xi(e,t,n){var i=e?e.length:0;return n&&Qn(e,t,n)&&(t=!1),i?Mt(e,t):[]}function Ci(e){var t=e?e.length:0;return t?Mt(e,!0):[]}function Oi(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?xs(r+n,0):n;else if(n){var o=rn(e,t);return r>o&&(t===t?t===e[o]:e[o]!==e[o])?o:-1}return i(e,t,n||0)}function ki(e){return yi(e,1)}function $i(e){var t=e?e.length:0;return t?e[t-1]:C}function Ti(e,t,n){var i=e?e.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(0>n?xs(i+n,0):Cs(n||0,i-1))+1;else if(n){r=rn(e,t,!0)-1;var o=e[r];return(t===t?t===o:o!==o)?r:-1}if(t!==t)return h(e,r,!0);for(;r--;)if(e[r]===t)return r;return-1}function Ai(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,i=qn(),r=e.length;++n<r;)for(var o=0,s=e[n];(o=i(t,s,o))>-1;)fs.call(t,o,1);return t}function Mi(e,t,n){var i=[];if(!e||!e.length)return i;var r=-1,o=[],s=e.length;for(t=Vn(t,n,3);++r<s;){var a=e[r];t(a,r,e)&&(i.push(a),o.push(r))}return Ht(e,o),i}function Ii(e){return gi(e,1)}function Ei(e,t,n){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Qn(e,t,n)&&(t=0,n=i),Gt(e,t,n)):[]}function Li(e,t,n){var i=e?e.length:0;return i?((n?Qn(e,t,n):null==t)&&(t=1),Gt(e,0,0>t?0:t)):[]}function Ni(e,t,n){var i=e?e.length:0;return i?((n?Qn(e,t,n):null==t)&&(t=1),t=i-(+t||0),Gt(e,0>t?0:t)):[]}function ji(e,t,n){return e&&e.length?tn(e,Vn(t,n,3),!1,!0):[]}function Pi(e,t,n){return e&&e.length?tn(e,Vn(t,n,3)):[]}function Di(e,t,n,r){var o=e?e.length:0;if(!o)return[];null!=t&&"boolean"!=typeof t&&(r=n,n=Qn(e,t,r)?C:t,t=!1);var s=Vn();return(null!=n||s!==wt)&&(n=s(n,r,3)),t&&qn()===i?v(e,n):Qt(e,n)}function _i(e){if(!e||!e.length)return[];var t=-1,n=0;e=at(e,function(e){return Xn(e)?(n=xs(e.length,n),!0):void 0});for(var i=Vo(n);++t<n;)i[t]=ct(e,qt(t));return i}function Ri(e,t,n){var i=e?e.length:0;if(!i)return[];var r=_i(e);return null==t?r:(t=sn(t,n,4),ct(r,function(e){return ut(e,t,C,!0)}))}function Ui(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Xn(n))var i=i?lt(Ct(i,n),Ct(n,i)):n}return i?Qt(i):[]}function Fi(e,t){var n=-1,i=e?e.length:0,r={};for(!i||t||Ma(e[0])||(t=[]);++n<i;){var o=e[n];t?r[o]=t[n]:o&&(r[o[0]]=o[1])}return r}function Vi(e){var t=g(e);return t.__chain__=!0,t}function Bi(e,t,n){return t.call(n,e),e}function qi(e,t,n){return t.call(n,e)}function Yi(){return Vi(this)}function Hi(){return new Q(this.value(),this.__chain__)}function Wi(e){for(var t,n=this;n instanceof K;){var i=fi(n);t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t}function zi(){var e=this.__wrapped__,t=function(e){return e.reverse()};if(e instanceof te){var n=e;return this.__actions__.length&&(n=new te(this)),n=n.reverse(),n.__actions__.push({func:qi,args:[t],thisArg:C}),new Q(n,this.__chain__)}return this.thru(t)}function Gi(){return this.value()+""}function Ki(){return nn(this.__wrapped__,this.__actions__)}function Zi(e,t,n){var i=Ma(e)?ot:Ot;return n&&Qn(e,t,n)&&(t=C),("function"!=typeof t||n!==C)&&(t=Vn(t,n,3)),i(e,t)}function Xi(e,t,n){var i=Ma(e)?at:Tt;return t=Vn(t,n,3),i(e,t)}function Ji(e,t){return ra(e,Ut(t))}function Qi(e,t,n,i){var r=e?Bs(e):0;return ni(r)||(e=oo(e),r=e.length),n="number"!=typeof n||i&&Qn(t,n,i)?0:0>n?xs(r+n,0):n||0,"string"==typeof e||!Ma(e)&&Br(e)?r>=n&&e.indexOf(t,n)>-1:!!r&&qn(e,t,n)>-1}function er(e,t,n){var i=Ma(e)?ct:Rt;return t=Vn(t,n,3),i(e,t)}function tr(e,t){return er(e,jo(t))}function nr(e,t,n){var i=Ma(e)?at:Tt;return t=Vn(t,n,3),i(e,function(e,n,i){return!t(e,n,i)})}function ir(e,t,n){if(n?Qn(e,t,n):null==t){e=ui(e);var i=e.length;return i>0?e[Wt(0,i-1)]:C}var r=-1,o=zr(e),i=o.length,s=i-1;for(t=Cs(0>t?0:+t||0,i);++r<t;){var a=Wt(r,s),c=o[a];o[a]=o[r],o[r]=c}return o.length=t,o}function rr(e){return ir(e,As)}function or(e){var t=e?Bs(e):0;return ni(t)?t:Fa(e).length}function sr(e,t,n){var i=Ma(e)?pt:Kt;return n&&Qn(e,t,n)&&(t=C),("function"!=typeof t||n!==C)&&(t=Vn(t,n,3)),i(e,t)}function ar(e,t,n){if(null==e)return[];n&&Qn(e,t,n)&&(t=C);var i=-1;t=Vn(t,n,3);var r=Rt(e,function(e,n,r){return{criteria:t(e,n,r),index:++i,value:e}});return Zt(r,c)}function cr(e,t,n,i){return null==e?[]:(i&&Qn(t,n,i)&&(n=C),Ma(t)||(t=null==t?[]:[t]),Ma(n)||(n=null==n?[]:[n]),Xt(e,t,n))}function lr(e,t){return Xi(e,Ut(t))}function ur(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Zo(V);var n=e;e=t,t=n}return e=ws(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function dr(e,t,n){return n&&Qn(e,t,n)&&(t=C),t=e&&null==t?e.length:xs(+t||0,0),_n(e,L,C,C,C,C,t)}function pr(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Zo(V);var i=e;e=t,t=i}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=C),n}}function fr(e,t,n){function i(){f&&as(f),l&&as(l),m=0,l=f=h=C}function r(t,n){n&&as(n),l=f=h=C,t&&(m=ma(),u=e.apply(p,c),f||l||(c=p=C))}function o(){var e=t-(ma()-d);0>=e||e>t?r(h,l):f=ps(o,e)}function s(){r(y,f)}function a(){if(c=arguments,d=ma(),p=this,h=y&&(f||!v),g===!1)var n=v&&!f;else{l||v||(m=d);var i=g-(d-m),r=0>=i||i>g;r?(l&&(l=as(l)),m=d,u=e.apply(p,c)):l||(l=ps(s,i))}return r&&f?f=as(f):f||t===g||(f=ps(o,t)),n&&(r=!0,u=e.apply(p,c)),!r||f||l||(c=p=C),u}var c,l,u,d,p,f,h,m=0,g=!1,y=!0;if("function"!=typeof e)throw new Zo(V);if(t=0>t?0:+t||0,n===!0){var v=!0;y=!1}else jr(n)&&(v=!!n.leading,g="maxWait"in n&&xs(+n.maxWait||0,t),y="trailing"in n?!!n.trailing:y);return a.cancel=i,a}function hr(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Zo(V);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new hr.Cache,n}function mr(e){if("function"!=typeof e)throw new Zo(V);return function(){return!e.apply(this,arguments)}}function gr(e){return pr(2,e)}function yr(e,t){if("function"!=typeof e)throw new Zo(V);return t=xs(t===C?e.length-1:+t||0,0),function(){for(var n=arguments,i=-1,r=xs(n.length-t,0),o=Vo(r);++i<r;)o[i]=n[t+i];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var s=Vo(t+1);for(i=-1;++i<t;)s[i]=n[i];return s[t]=o,e.apply(this,s)}}function vr(e){if("function"!=typeof e)throw new Zo(V);return function(t){return e.apply(this,t)}}function br(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new Zo(V);return n===!1?i=!1:jr(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),fr(e,t,{leading:i,maxWait:+t,trailing:r})}function wr(e,t){return t=null==t?Ao:t,_n(t,I,C,[e],[])}function Sr(e,t,n,i){return t&&"boolean"!=typeof t&&Qn(e,t,n)?t=!1:"function"==typeof t&&(i=n,n=t,t=!1),"function"==typeof n?St(e,t,sn(n,i,3)):St(e,t)}function xr(e,t,n){return"function"==typeof t?St(e,!0,sn(t,n,3)):St(e,!0)}function Cr(e,t){return e>t}function Or(e,t){return e>=t}function kr(e){return m(e)&&Xn(e)&&ts.call(e,"callee")&&!us.call(e,"callee")}function $r(e){return e===!0||e===!1||m(e)&&is.call(e)==H}function Tr(e){return m(e)&&is.call(e)==W}function Ar(e){return!!e&&1===e.nodeType&&m(e)&&!Fr(e)}function Mr(e){return null==e?!0:Xn(e)&&(Ma(e)||Br(e)||kr(e)||m(e)&&Nr(e.splice))?!e.length:!Fa(e).length}function Ir(e,t,n,i){n="function"==typeof n?sn(n,i,3):C;var r=n?n(e,t):C;return r===C?Pt(e,t,n):!!r}function Er(e){return m(e)&&"string"==typeof e.message&&is.call(e)==z}function Lr(e){return"number"==typeof e&&ws(e)}function Nr(e){return jr(e)&&is.call(e)==G}function jr(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Pr(e,t,n,i){return n="function"==typeof n?sn(n,i,3):C,_t(e,Yn(t),n)}function Dr(e){return Ur(e)&&e!=+e}function _r(e){return null==e?!1:Nr(e)?os.test(es.call(e)):m(e)&&Le.test(e)}function Rr(e){return null===e}function Ur(e){return"number"==typeof e||m(e)&&is.call(e)==Z}function Fr(e){var t;if(!m(e)||is.call(e)!=X||kr(e)||!ts.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return It(e,function(e,t){n=t}),n===C||ts.call(e,n)}function Vr(e){return jr(e)&&is.call(e)==J}function Br(e){return"string"==typeof e||m(e)&&is.call(e)==ee}function qr(e){return m(e)&&ni(e.length)&&!!Fe[is.call(e)]}function Yr(e){return e===C}function Hr(e,t){return t>e}function Wr(e,t){return t>=e}function zr(e){var t=e?Bs(e):0;return ni(t)?t?nt(e):[]:oo(e)}function Gr(e){return bt(e,eo(e))}function Kr(e,t,n){var i=Ps(e);return n&&Qn(e,t,n)&&(t=C),t?yt(i,t):i}function Zr(e){return Nt(e,eo(e))}function Xr(e,t,n){var i=null==e?C:jt(e,pi(t),t+"");return i===C?n:i}function Jr(e,t){if(null==e)return!1;var n=ts.call(e,t);if(!n&&!ei(t)){if(t=pi(t),e=1==t.length?e:jt(e,Gt(t,0,-1)),null==e)return!1;t=$i(t),n=ts.call(e,t)}return n||ni(e.length)&&Jn(t,e.length)&&(Ma(e)||kr(e))}function Qr(e,t,n){n&&Qn(e,t,n)&&(t=C);for(var i=-1,r=Fa(e),o=r.length,s={};++i<o;){var a=r[i],c=e[a];t?ts.call(s,c)?s[c].push(a):s[c]=[a]:s[c]=a}return s}function eo(e){if(null==e)return[];jr(e)||(e=zo(e));var t=e.length;t=t&&ni(t)&&(Ma(e)||kr(e))&&t||0;for(var n=e.constructor,i=-1,r="function"==typeof n&&n.prototype===e,o=Vo(t),s=t>0;++i<t;)o[i]=i+"";for(var a in e)s&&Jn(a,t)||"constructor"==a&&(r||!ts.call(e,a))||o.push(a);return o}function to(e){e=di(e);
for(var t=-1,n=Fa(e),i=n.length,r=Vo(i);++t<i;){var o=n[t];r[t]=[o,e[o]]}return r}function no(e,t,n){var i=null==e?C:e[t];return i===C&&(null==e||ei(t,e)||(t=pi(t),e=1==t.length?e:jt(e,Gt(t,0,-1)),i=null==e?C:e[$i(t)]),i=i===C?n:i),Nr(i)?i.call(e):i}function io(e,t,n){if(null==e)return e;var i=t+"";t=null!=e[i]||ei(t,e)?[i]:pi(t);for(var r=-1,o=t.length,s=o-1,a=e;null!=a&&++r<o;){var c=t[r];jr(a)&&(r==s?a[c]=n:null==a[c]&&(a[c]=Jn(t[r+1])?[]:{})),a=a[c]}return e}function ro(e,t,n,i){var r=Ma(e)||qr(e);if(t=Vn(t,i,4),null==n)if(r||jr(e)){var o=e.constructor;n=r?Ma(e)?new o:[]:Ps(Nr(o)?o.prototype:C)}else n={};return(r?it:Et)(e,function(e,i,r){return t(n,e,i,r)}),n}function oo(e){return en(e,Fa(e))}function so(e){return en(e,eo(e))}function ao(e,t,n){return t=+t||0,n===C?(n=t,t=0):n=+n||0,e>=Cs(t,n)&&e<xs(t,n)}function co(e,t,n){n&&Qn(e,t,n)&&(t=n=C);var i=null==e,r=null==t;if(null==n&&(r&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,r=!0)),i&&r&&(t=1,r=!1),e=+e||0,r?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=$s();return Cs(e+o*(t-e+cs("1e-"+((o+"").length-1))),t)}return Wt(e,t)}function lo(e){return e=o(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function uo(e){return e=o(e),e&&e.replace(je,u).replace(Te,"")}function po(e,t,n){e=o(e),t+="";var i=e.length;return n=n===C?i:Cs(0>n?0:+n||0,i),n-=t.length,n>=0&&e.indexOf(t,n)==n}function fo(e){return e=o(e),e&&ve.test(e)?e.replace(ge,d):e}function ho(e){return e=o(e),e&&$e.test(e)?e.replace(ke,p):e||"(?:)"}function mo(e,t,n){e=o(e),t=+t;var i=e.length;if(i>=t||!ws(t))return e;var r=(t-i)/2,s=vs(r),a=gs(r);return n=Nn("",a,n),n.slice(0,s)+e+n}function go(e,t,n){return(n?Qn(e,t,n):null==t)?t=0:t&&(t=+t),e=wo(e),ks(e,t||(Ee.test(e)?16:10))}function yo(e,t){var n="";if(e=o(e),t=+t,1>t||!e||!ws(t))return n;do t%2&&(n+=e),t=vs(t/2),e+=e;while(t);return n}function vo(e,t,n){return e=o(e),n=null==n?0:Cs(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function bo(e,t,n){var i=g.templateSettings;n&&Qn(e,t,n)&&(t=n=C),e=o(e),t=gt(yt({},n||t),i,mt);var r,s,a=gt(yt({},t.imports),i.imports,mt),c=Fa(a),l=en(a,c),u=0,d=t.interpolate||Pe,p="__p += '",h=Go((t.escape||Pe).source+"|"+d.source+"|"+(d===Se?Me:Pe).source+"|"+(t.evaluate||Pe).source+"|$","g"),m="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Ue+"]")+"\n";e.replace(h,function(t,n,i,o,a,c){return i||(i=o),p+=e.slice(u,c).replace(De,f),n&&(r=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=c+t.length,t}),p+="';\n";var y=t.variable;y||(p="with (obj) {\n"+p+"\n}\n"),p=(s?p.replace(pe,""):p).replace(fe,"$1").replace(he,"$1;"),p="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=Xa(function(){return Yo(c,m+"return "+p).apply(C,l)});if(v.source=p,Er(v))throw v;return v}function wo(e,t,n){var i=e;return(e=o(e))?(n?Qn(i,t,n):null==t)?e.slice(b(e),w(e)+1):(t+="",e.slice(s(e,t),a(e,t)+1)):e}function So(e,t,n){var i=e;return e=o(e),e?(n?Qn(i,t,n):null==t)?e.slice(b(e)):e.slice(s(e,t+"")):e}function xo(e,t,n){var i=e;return e=o(e),e?(n?Qn(i,t,n):null==t)?e.slice(0,w(e)+1):e.slice(0,a(e,t+"")+1):e}function Co(e,t,n){n&&Qn(e,t,n)&&(t=C);var i=j,r=P;if(null!=t)if(jr(t)){var s="separator"in t?t.separator:s;i="length"in t?+t.length||0:i,r="omission"in t?o(t.omission):r}else i=+t||0;if(e=o(e),i>=e.length)return e;var a=i-r.length;if(1>a)return r;var c=e.slice(0,a);if(null==s)return c+r;if(Vr(s)){if(e.slice(a).search(s)){var l,u,d=e.slice(0,a);for(s.global||(s=Go(s.source,(Ie.exec(s)||"")+"g")),s.lastIndex=0;l=s.exec(d);)u=l.index;c=c.slice(0,null==u?a:u)}}else if(e.indexOf(s,a)!=a){var p=c.lastIndexOf(s);p>-1&&(c=c.slice(0,p))}return c+r}function Oo(e){return e=o(e),e&&ye.test(e)?e.replace(me,S):e}function ko(e,t,n){return n&&Qn(e,t,n)&&(t=C),e=o(e),e.match(t||_e)||[]}function $o(e,t,n){return n&&Qn(e,t,n)&&(t=C),m(e)?Mo(e):wt(e,t)}function To(e){return function(){return e}}function Ao(e){return e}function Mo(e){return Ut(St(e,!0))}function Io(e,t){return Ft(e,St(t,!0))}function Eo(e,t,n){if(null==n){var i=jr(t),r=i?Fa(t):C,o=r&&r.length?Nt(t,r):C;(o?o.length:i)||(o=!1,n=t,t=e,e=this)}o||(o=Nt(t,Fa(t)));var s=!0,a=-1,c=Nr(e),l=o.length;n===!1?s=!1:jr(n)&&"chain"in n&&(s=n.chain);for(;++a<l;){var u=o[a],d=t[u];e[u]=d,c&&(e.prototype[u]=function(t){return function(){var n=this.__chain__;if(s||n){var i=e(this.__wrapped__),r=i.__actions__=nt(this.__actions__);return r.push({func:t,args:arguments,thisArg:e}),i.__chain__=n,i}return t.apply(e,lt([this.value()],arguments))}}(d))}return e}function Lo(){return et._=rs,this}function No(){}function jo(e){return ei(e)?qt(e):Yt(e)}function Po(e){return function(t){return jt(e,pi(t),t+"")}}function Do(e,t,n){n&&Qn(e,t,n)&&(t=n=C),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var i=-1,r=xs(gs((t-e)/(n||1)),0),o=Vo(r);++i<r;)o[i]=e,e+=n;return o}function _o(e,t,n){if(e=vs(e),1>e||!ws(e))return[];var i=-1,r=Vo(Cs(e,Ms));for(t=sn(t,n,1);++i<e;)Ms>i?r[i]=t(i):t(i);return r}function Ro(e){var t=++ns;return o(e)+t}function Uo(e,t){return(+e||0)+(+t||0)}function Fo(e,t,n){return n&&Qn(e,t,n)&&(t=C),t=Vn(t,n,3),1==t.length?ft(Ma(e)?e:ui(e),t):Jt(e,t)}n=n?tt.defaults(et.Object(),n,tt.pick(et,Re)):et;var Vo=n.Array,Bo=n.Date,qo=n.Error,Yo=n.Function,Ho=n.Math,Wo=n.Number,zo=n.Object,Go=n.RegExp,Ko=n.String,Zo=n.TypeError,Xo=Vo.prototype,Jo=zo.prototype,Qo=Ko.prototype,es=Yo.prototype.toString,ts=Jo.hasOwnProperty,ns=0,is=Jo.toString,rs=et._,os=Go("^"+es.call(ts).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ss=n.ArrayBuffer,as=n.clearTimeout,cs=n.parseFloat,ls=Ho.pow,us=Jo.propertyIsEnumerable,ds=Hn(n,"Set"),ps=n.setTimeout,fs=Xo.splice,hs=n.Uint8Array,ms=Hn(n,"WeakMap"),gs=Ho.ceil,ys=Hn(zo,"create"),vs=Ho.floor,bs=Hn(Vo,"isArray"),ws=n.isFinite,Ss=Hn(zo,"keys"),xs=Ho.max,Cs=Ho.min,Os=Hn(Bo,"now"),ks=n.parseInt,$s=Ho.random,Ts=Wo.NEGATIVE_INFINITY,As=Wo.POSITIVE_INFINITY,Ms=4294967295,Is=Ms-1,Es=Ms>>>1,Ls=9007199254740991,Ns=ms&&new ms,js={};g.support={};g.templateSettings={escape:be,evaluate:we,interpolate:Se,variable:"",imports:{_:g}};var Ps=function(){function e(){}return function(t){if(jr(t)){e.prototype=t;var n=new e;e.prototype=C}return n||{}}}(),Ds=pn(Et),_s=pn(Lt,!0),Rs=fn(),Us=fn(!0),Fs=Ns?function(e,t){return Ns.set(e,t),e}:Ao,Vs=Ns?function(e){return Ns.get(e)}:No,Bs=qt("length"),qs=function(){var e=0,t=0;return function(n,i){var r=ma(),o=_-(r-t);if(t=r,o>0){if(++e>=D)return n}else e=0;return Fs(n,i)}}(),Ys=yr(function(e,t){return m(e)&&Xn(e)?Ct(e,Mt(t,!1,!0)):[]}),Hs=xn(),Ws=xn(!0),zs=yr(function(e){for(var t=e.length,n=t,r=Vo(d),o=qn(),s=o===i,a=[];n--;){var c=e[n]=Xn(c=e[n])?c:[];r[n]=s&&c.length>=120?mn(n&&c):null}var l=e[0],u=-1,d=l?l.length:0,p=r[0];e:for(;++u<d;)if(c=l[u],(p?Xe(p,c):o(a,c,0))<0){for(var n=t;--n;){var f=r[n];if((f?Xe(f,c):o(e[n],c,0))<0)continue e}p&&p.push(c),a.push(c)}return a}),Gs=yr(function(t,n){n=Mt(n);var i=vt(t,n);return Ht(t,n.sort(e)),i}),Ks=Dn(),Zs=Dn(!0),Xs=yr(function(e){return Qt(Mt(e,!1,!0))}),Js=yr(function(e,t){return Xn(e)?Ct(e,t):[]}),Qs=yr(_i),ea=yr(function(e){var t=e.length,n=t>2?e[t-2]:C,i=t>1?e[t-1]:C;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof i?(--t,i):C,i=C),e.length=t,Ri(e,n,i)}),ta=yr(function(e){return e=Mt(e),this.thru(function(t){return Qe(Ma(t)?t:[di(t)],e)})}),na=yr(function(e,t){return vt(e,Mt(t))}),ia=un(function(e,t,n){ts.call(e,n)?++e[n]:e[n]=1}),ra=Sn(Ds),oa=Sn(_s,!0),sa=kn(it,Ds),aa=kn(rt,_s),ca=un(function(e,t,n){ts.call(e,n)?e[n].push(t):e[n]=[t]}),la=un(function(e,t,n){e[n]=t}),ua=yr(function(e,t,n){var i=-1,r="function"==typeof t,o=ei(t),s=Xn(e)?Vo(e.length):[];return Ds(e,function(e){var a=r?t:o&&null!=e?e[t]:C;s[++i]=a?a.apply(e,n):Zn(e,t,n)}),s}),da=un(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),pa=En(ut,Ds),fa=En(dt,_s),ha=yr(function(e,t){if(null==e)return[];var n=t[2];return n&&Qn(t[0],t[1],n)&&(t.length=1),Xt(e,Mt(t),[])}),ma=Os||function(){return(new Bo).getTime()},ga=yr(function(e,t,n){var i=k;if(n.length){var r=y(n,ga.placeholder);i|=I}return _n(e,i,t,n,r)}),ya=yr(function(e,t){t=t.length?Mt(t):Zr(e);for(var n=-1,i=t.length;++n<i;){var r=t[n];e[r]=_n(e[r],k,e)}return e}),va=yr(function(e,t,n){var i=k|$;if(n.length){var r=y(n,va.placeholder);i|=I}return _n(t,i,e,n,r)}),ba=vn(A),wa=vn(M),Sa=yr(function(e,t){return xt(e,1,t)}),xa=yr(function(e,t,n){return xt(e,t,n)}),Ca=On(),Oa=On(!0),ka=yr(function(e,t){if(t=Mt(t),"function"!=typeof e||!ot(t,r))throw new Zo(V);var n=t.length;return yr(function(i){for(var r=Cs(i.length,n);r--;)i[r]=t[r](i[r]);return e.apply(this,i)})}),$a=In(I),Ta=In(E),Aa=yr(function(e,t){return _n(e,N,C,C,C,Mt(t))}),Ma=bs||function(e){return m(e)&&ni(e.length)&&is.call(e)==Y},Ia=dn(Vt),Ea=dn(function(e,t,n){return n?gt(e,t,n):yt(e,t)}),La=bn(Ea,ht),Na=bn(Ia,oi),ja=Cn(Et),Pa=Cn(Lt),Da=$n(Rs),_a=$n(Us),Ra=Tn(Et),Ua=Tn(Lt),Fa=Ss?function(e){var t=null==e?C:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Xn(e)?li(e):jr(e)?Ss(e):[]}:li,Va=An(!0),Ba=An(),qa=yr(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=ct(Mt(t),Ko);return si(e,Ct(eo(e),t))}var n=sn(t[0],t[1],3);return ai(e,function(e,t,i){return!n(e,t,i)})}),Ya=yr(function(e,t){return null==e?{}:"function"==typeof t[0]?ai(e,sn(t[0],t[1],3)):si(e,Mt(t))}),Ha=gn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Wa=gn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),za=Mn(),Ga=Mn(!0),Ka=gn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Za=gn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Xa=yr(function(e,t){try{return e.apply(C,t)}catch(n){return Er(n)?n:new qo(n)}}),Ja=yr(function(e,t){return function(n){return Zn(n,e,t)}}),Qa=yr(function(e,t){return function(n){return Zn(e,n,t)}}),ec=Pn("ceil"),tc=Pn("floor"),nc=wn(Cr,Ts),ic=wn(Hr,As),rc=Pn("round");return g.prototype=K.prototype,Q.prototype=Ps(K.prototype),Q.prototype.constructor=Q,te.prototype=Ps(K.prototype),te.prototype.constructor=te,He.prototype["delete"]=We,He.prototype.get=ze,He.prototype.has=Ge,He.prototype.set=Ke,Ze.prototype.push=Je,hr.Cache=He,g.after=ur,g.ary=dr,g.assign=Ea,g.at=na,g.before=pr,g.bind=ga,g.bindAll=ya,g.bindKey=va,g.callback=$o,g.chain=Vi,g.chunk=hi,g.compact=mi,g.constant=To,g.countBy=ia,g.create=Kr,g.curry=ba,g.curryRight=wa,g.debounce=fr,g.defaults=La,g.defaultsDeep=Na,g.defer=Sa,g.delay=xa,g.difference=Ys,g.drop=gi,g.dropRight=yi,g.dropRightWhile=vi,g.dropWhile=bi,g.fill=wi,g.filter=Xi,g.flatten=xi,g.flattenDeep=Ci,g.flow=Ca,g.flowRight=Oa,g.forEach=sa,g.forEachRight=aa,g.forIn=Da,g.forInRight=_a,g.forOwn=Ra,g.forOwnRight=Ua,g.functions=Zr,g.groupBy=ca,g.indexBy=la,g.initial=ki,g.intersection=zs,g.invert=Qr,g.invoke=ua,g.keys=Fa,g.keysIn=eo,g.map=er,g.mapKeys=Va,g.mapValues=Ba,g.matches=Mo,g.matchesProperty=Io,g.memoize=hr,g.merge=Ia,g.method=Ja,g.methodOf=Qa,g.mixin=Eo,g.modArgs=ka,g.negate=mr,g.omit=qa,g.once=gr,g.pairs=to,g.partial=$a,g.partialRight=Ta,g.partition=da,g.pick=Ya,g.pluck=tr,g.property=jo,g.propertyOf=Po,g.pull=Ai,g.pullAt=Gs,g.range=Do,g.rearg=Aa,g.reject=nr,g.remove=Mi,g.rest=Ii,g.restParam=yr,g.set=io,g.shuffle=rr,g.slice=Ei,g.sortBy=ar,g.sortByAll=ha,g.sortByOrder=cr,g.spread=vr,g.take=Li,g.takeRight=Ni,g.takeRightWhile=ji,g.takeWhile=Pi,g.tap=Bi,g.throttle=br,g.thru=qi,g.times=_o,g.toArray=zr,g.toPlainObject=Gr,g.transform=ro,g.union=Xs,g.uniq=Di,g.unzip=_i,g.unzipWith=Ri,g.values=oo,g.valuesIn=so,g.where=lr,g.without=Js,g.wrap=wr,g.xor=Ui,g.zip=Qs,g.zipObject=Fi,g.zipWith=ea,g.backflow=Oa,g.collect=er,g.compose=Oa,g.each=sa,g.eachRight=aa,g.extend=Ea,g.iteratee=$o,g.methods=Zr,g.object=Fi,g.select=Xi,g.tail=Ii,g.unique=Di,Eo(g,g),g.add=Uo,g.attempt=Xa,g.camelCase=Ha,g.capitalize=lo,g.ceil=ec,g.clone=Sr,g.cloneDeep=xr,g.deburr=uo,g.endsWith=po,g.escape=fo,g.escapeRegExp=ho,g.every=Zi,g.find=ra,g.findIndex=Hs,g.findKey=ja,g.findLast=oa,g.findLastIndex=Ws,g.findLastKey=Pa,g.findWhere=Ji,g.first=Si,g.floor=tc,g.get=Xr,g.gt=Cr,g.gte=Or,g.has=Jr,g.identity=Ao,g.includes=Qi,g.indexOf=Oi,g.inRange=ao,g.isArguments=kr,g.isArray=Ma,g.isBoolean=$r,g.isDate=Tr,g.isElement=Ar,g.isEmpty=Mr,g.isEqual=Ir,g.isError=Er,g.isFinite=Lr,g.isFunction=Nr,g.isMatch=Pr,g.isNaN=Dr,g.isNative=_r,g.isNull=Rr,g.isNumber=Ur,g.isObject=jr,g.isPlainObject=Fr,g.isRegExp=Vr,g.isString=Br,g.isTypedArray=qr,g.isUndefined=Yr,g.kebabCase=Wa,g.last=$i,g.lastIndexOf=Ti,g.lt=Hr,g.lte=Wr,g.max=nc,g.min=ic,g.noConflict=Lo,g.noop=No,g.now=ma,g.pad=mo,g.padLeft=za,g.padRight=Ga,g.parseInt=go,g.random=co,g.reduce=pa,g.reduceRight=fa,g.repeat=yo,g.result=no,g.round=rc,g.runInContext=x,g.size=or,g.snakeCase=Ka,g.some=sr,g.sortedIndex=Ks,g.sortedLastIndex=Zs,g.startCase=Za,g.startsWith=vo,g.sum=Fo,g.template=bo,g.trim=wo,g.trimLeft=So,g.trimRight=xo,g.trunc=Co,g.unescape=Oo,g.uniqueId=Ro,g.words=ko,g.all=Zi,g.any=sr,g.contains=Qi,g.eq=Ir,g.detect=ra,g.foldl=pa,g.foldr=fa,g.head=Si,g.include=Qi,g.inject=pa,Eo(g,function(){var e={};return Et(g,function(t,n){g.prototype[n]||(e[n]=t)}),e}(),!1),g.sample=ir,g.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ir(t,e)}):ir(this.value())},g.VERSION=O,it(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){g[e].placeholder=g}),it(["drop","take"],function(e,t){te.prototype[e]=function(n){var i=this.__filtered__;if(i&&!t)return new te(this);n=null==n?1:xs(vs(n)||0,0);var r=this.clone();return i?r.__takeCount__=Cs(r.__takeCount__,n):r.__views__.push({size:n,type:e+(r.__dir__<0?"Right":"")}),r},te.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),it(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n!=F;te.prototype[e]=function(e,t){var r=this.clone();return r.__iteratees__.push({iteratee:Vn(e,t,1),type:n}),r.__filtered__=r.__filtered__||i,r}}),it(["first","last"],function(e,t){var n="take"+(t?"Right":"");te.prototype[e]=function(){return this[n](1).value()[0]}}),it(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");te.prototype[e]=function(){return this.__filtered__?new te(this):this[n](1)}}),it(["pluck","where"],function(e,t){var n=t?"filter":"map",i=t?Ut:jo;te.prototype[e]=function(e){return this[n](i(e))}}),te.prototype.compact=function(){return this.filter(Ao)},te.prototype.reject=function(e,t){return e=Vn(e,t,1),this.filter(function(t){return!e(t)})},te.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||0>t)?new te(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==C&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},te.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},te.prototype.toArray=function(){return this.take(As)},Et(te.prototype,function(e,t){var n=/^(?:filter|map|reject)|While$/.test(t),i=/^(?:first|last)$/.test(t),r=g[i?"take"+("last"==t?"Right":""):t];r&&(g.prototype[t]=function(){var t=i?[1]:arguments,o=this.__chain__,s=this.__wrapped__,a=!!this.__actions__.length,c=s instanceof te,l=t[0],u=c||Ma(s);u&&n&&"function"==typeof l&&1!=l.length&&(c=u=!1);var d=function(e){return i&&o?r(e,1)[0]:r.apply(C,lt([e],t))},p={func:qi,args:[d],thisArg:C},f=c&&!a;if(i&&!o)return f?(s=s.clone(),s.__actions__.push(p),e.call(s)):r.call(C,this.value())[0];if(!i&&u){s=f?s:new te(this);var h=e.apply(s,t);return h.__actions__.push(p),new Q(h,o)}return this.thru(d)})}),it(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?Qo:Xo)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);g.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),Et(te.prototype,function(e,t){var n=g[t];if(n){var i=n.name+"",r=js[i]||(js[i]=[]);r.push({name:t,func:n})}}),js[Ln(C,$).name]=[{name:"wrapper",func:C}],te.prototype.clone=Be,te.prototype.reverse=qe,te.prototype.value=Ye,g.prototype.chain=Yi,g.prototype.commit=Hi,g.prototype.concat=ta,g.prototype.plant=Wi,g.prototype.reverse=zi,g.prototype.toString=Gi,g.prototype.run=g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=Ki,g.prototype.collect=g.prototype.map,g.prototype.head=g.prototype.first,g.prototype.select=g.prototype.filter,g.prototype.tail=g.prototype.rest,g}var C,O="3.10.1",k=1,$=2,T=4,A=8,M=16,I=32,E=64,L=128,N=256,j=30,P="...",D=150,_=16,R=200,U=1,F=2,V="Expected a function",B="__lodash_placeholder__",q="[object Arguments]",Y="[object Array]",H="[object Boolean]",W="[object Date]",z="[object Error]",G="[object Function]",K="[object Map]",Z="[object Number]",X="[object Object]",J="[object RegExp]",Q="[object Set]",ee="[object String]",te="[object WeakMap]",ne="[object ArrayBuffer]",ie="[object Float32Array]",re="[object Float64Array]",oe="[object Int8Array]",se="[object Int16Array]",ae="[object Int32Array]",ce="[object Uint8Array]",le="[object Uint8ClampedArray]",ue="[object Uint16Array]",de="[object Uint32Array]",pe=/\b__p \+= '';/g,fe=/\b(__p \+=) '' \+/g,he=/(__e\(.*?\)|\b__t\)) \+\n'';/g,me=/&(?:amp|lt|gt|quot|#39|#96);/g,ge=/[&<>"'`]/g,ye=RegExp(me.source),ve=RegExp(ge.source),be=/<%-([\s\S]+?)%>/g,we=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,xe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Ce=/^\w*$/,Oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,ke=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,$e=RegExp(ke.source),Te=/[\u0300-\u036f\ufe20-\ufe23]/g,Ae=/\\(\\)?/g,Me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ie=/\w*$/,Ee=/^0[xX]/,Le=/^\[object .+?Constructor\]$/,Ne=/^\d+$/,je=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Pe=/($^)/,De=/['\n\r\u2028\u2029\\]/g,_e=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Re=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Ue=-1,Fe={};Fe[ie]=Fe[re]=Fe[oe]=Fe[se]=Fe[ae]=Fe[ce]=Fe[le]=Fe[ue]=Fe[de]=!0,Fe[q]=Fe[Y]=Fe[ne]=Fe[H]=Fe[W]=Fe[z]=Fe[G]=Fe[K]=Fe[Z]=Fe[X]=Fe[J]=Fe[Q]=Fe[ee]=Fe[te]=!1;var Ve={};Ve[q]=Ve[Y]=Ve[ne]=Ve[H]=Ve[W]=Ve[ie]=Ve[re]=Ve[oe]=Ve[se]=Ve[ae]=Ve[Z]=Ve[X]=Ve[J]=Ve[ee]=Ve[ce]=Ve[le]=Ve[ue]=Ve[de]=!0,Ve[z]=Ve[G]=Ve[K]=Ve[Q]=Ve[te]=!1;var Be={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ye={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},He={"function":!0,object:!0},We={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},ze={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ge=He[typeof exports]&&exports&&!exports.nodeType&&exports,Ke=He[typeof module]&&module&&!module.nodeType&&module,Ze=Ge&&Ke&&"object"==typeof global&&global&&global.Object&&global,Xe=He[typeof self]&&self&&self.Object&&self,Je=He[typeof window]&&window&&window.Object&&window,Qe=Ke&&Ke.exports===Ge&&Ge,et=Ze||Je!==(this&&this.window)&&Je||Xe||this,tt=x();"function"==typeof n&&"object"==typeof n.amd&&n.amd?(et._=tt,n("lodash",[],function(){return tt})):Ge&&Ke?Qe?(Ke.exports=tt)._=tt:Ge._=tt:et._=tt}.call(this),n("src/api/telemetry/TelemetryMetadataManager",["lodash"],function(e){function t(t){var n=[];return n.push({key:"name",name:"Name"}),t.domains.forEach(function(t,i){var r=e.clone(t);r.hints={domain:i+1},n.push(r)}),t.ranges.forEach(function(i,r){var o=e.clone(i);o.hints={range:r,priority:r+t.domains.length+1},"enum"===o.type&&(o.key="enum",o.hints.y-=10,o.hints.range-=10,o.enumerations=e.sortBy(o.enumerations.map(function(e){return{string:e.string,value:+e.value}}),"e.value"),o.values=e.pluck(o.enumerations,"value"),o.max=e.max(o.values),o.min=e.min(o.values)),n.push(o)}),n}function n(e,t){return e.source=e.source||e.key,e.hints=e.hints||{},e.hints.hasOwnProperty("x")&&(console.warn("DEPRECATION WARNING: `x` hints should be replaced with `domain` hints moving forward.  https://github.com/nasa/openmct/issues/1546"),e.hints.hasOwnProperty("domain")||(e.hints.domain=e.hints.x),delete e.hints.x),e.hints.hasOwnProperty("y")&&(console.warn("DEPRECATION WARNING: `y` hints should be replaced with `range` hints moving forward.  https://github.com/nasa/openmct/issues/1546"),e.hints.hasOwnProperty("range")||(e.hints.range=e.hints.y),delete e.hints.y),e.hints.hasOwnProperty("priority")||(e.hints.priority=t),e}function i(i,r){if(this.metadata=i.telemetry||{},this.metadata.values)this.valueMetadatas=this.metadata.values;else{var o=r.getType(i.type).typeDef.telemetry;e.extend(this.metadata,o),this.valueMetadatas=t(this.metadata)}this.valueMetadatas=this.valueMetadatas.map(n)}return i.prototype.value=function(e){return this.valueMetadatas.filter(function(t){return t.key===e})[0]},i.prototype.values=function(){return this.valuesForHints(["priority"])},i.prototype.valuesForHints=function(t){function n(e){return this.hints.hasOwnProperty(e)}function i(e){return t.every(n,e)}var r=this.valueMetadatas.filter(i),o=e.sortBy(r,function(e){return t.map(function(t){return e.hints[t]})});return o},i}),n("src/api/telemetry/TelemetryValueFormatter",["lodash"],function(e){function t(e,t){var n={parse:function(e){return Number(e)},format:function(e){return e},validate:function(e){return!0}};this.valueMetadata=e,this.parseCache=new WeakMap,this.formatCache=new WeakMap;try{this.formatter=t.getFormat(e.format,e)}catch(i){this.formatter=n}"enum"===e.type&&(this.formatter={},this.enumerations=e.enumerations.reduce(function(e,t){return e.byValue[t.value]=t.string,e.byString[t.string]=t.value,e},{byValue:{},byString:{}}),this.formatter.format=function(e){return this.enumerations.byValue[e]}.bind(this),this.formatter.parse=function(e){return"string"==typeof e&&this.enumerations.hasOwnProperty(e)?this.enumerations.byString[e]:Number(e)}.bind(this))}return t.prototype.parse=function(t){return e.isObject(t)?(this.parseCache.has(t)||this.parseCache.set(t,this.formatter.parse(t[this.valueMetadata.source])),this.parseCache.get(t)):this.formatter.parse(t)},t.prototype.format=function(t){return e.isObject(t)?(this.formatCache.has(t)||this.formatCache.set(t,this.formatter.format(t[this.valueMetadata.source])),this.formatCache.get(t)):this.formatter.format(t)},t}),n("src/api/telemetry/TelemetryAPI",["./TelemetryMetadataManager","./TelemetryValueFormatter","lodash"],function(e,t,n){function i(e){this.MCT=e,this.requestProviders=[],this.subscriptionProviders=[],this.metadataCache=new WeakMap,this.formatMapCache=new WeakMap,this.valueFormatterCache=new WeakMap}return i.prototype.canProvideTelemetry=function(e){return!!this.findSubscriptionProvider(e)||!!this.findRequestProvider(e)},i.prototype.addProvider=function(e){e.supportsRequest&&this.requestProviders.unshift(e),e.supportsSubscribe&&this.subscriptionProviders.unshift(e)},i.prototype.findSubscriptionProvider=function(){function e(e){return e.supportsSubscribe.apply(e,t)}var t=Array.prototype.slice.apply(arguments);return this.subscriptionProviders.filter(e)[0]},i.prototype.findRequestProvider=function(e){function t(e){return e.supportsRequest.apply(e,n)}var n=Array.prototype.slice.apply(arguments);return this.requestProviders.filter(t)[0]},i.prototype.standardizeRequestOptions=function(e){e.hasOwnProperty("start")||(e.start=this.MCT.time.bounds().start),e.hasOwnProperty("end")||(e.end=this.MCT.time.bounds().end),e.hasOwnProperty("domain")||(e.domain=this.MCT.time.timeSystem().key)},i.prototype.request=function(e){var t=this.findRequestProvider.apply(this,arguments);return t.request.apply(t,arguments)},i.prototype.subscribe=function(e,t){var n=this.findSubscriptionProvider.apply(this,arguments);return n.subscribe.apply(n,arguments)},i.prototype.getMetadata=function(t){return this.metadataCache.has(t)||(this.typeService||(this.typeService=this.MCT.$injector.get("typeService")),this.metadataCache.set(t,new e(t,this.typeService))),this.metadataCache.get(t)},i.prototype.commonValuesForHints=function(e,t){var i=e.map(function(e){var i=e.valuesForHints(t);return n.indexBy(i,"key")}).reduce(function(e,t){var n={};return Object.keys(e).forEach(function(i){t.hasOwnProperty(i)&&(n[i]=e[i])}),n}),r=t.map(function(e){return"hints."+e});return n.sortByAll(i,r)},i.prototype.getValueFormatter=function(e){return this.valueFormatterCache.has(e)||(this.formatService||(this.formatService=this.MCT.$injector.get("formatService")),this.valueFormatterCache.set(e,new t(e,this.formatService))),this.valueFormatterCache.get(e)},i.prototype.getFormatMap=function(e){if(!this.formatMapCache.has(e)){var t=e.values().reduce(function(e,t){return e[t.key]=this.getValueFormatter(t),e}.bind(this),{});this.formatMapCache.set(e,t)}return this.formatMapCache.get(e)},i.prototype.addFormat=function(e){this.MCT.legacyExtension("formats",{key:e.key,implementation:function(){return e}})},i.prototype.limitEvaluator=function(){return this.legacyProvider.limitEvaluator.apply(this.legacyProvider,arguments)},i}),n("src/api/telemetry/LegacyTelemetryProvider",["../objects/object-utils"],function(e){function t(e,t){this.telemetryApi=e.telemetry,this.instantiate=t}function n(e,t,n,i){var r;return n.getDatum?r=n.getDatum(i):(r={},t.valuesForHints(["domain"]).forEach(function(e){r[e.key]=n.getDomainValue(i,e.key)}),t.valuesForHints(["range"]).forEach(function(e){r[e.key]=n.getRangeValue(i,e.key)})),void 0!==t.value("name")&&void 0===r.name&&(r.name=e.name),r}function i(e,t,i){for(var r=[],o=0;o<i.getPointCount();o++)r.push(n(e,t,i,o));return r}return t.prototype.canProvideTelemetry=function(t){return this.instantiate(e.toOldFormat(t),e.makeKeyString(t.identifier)).hasCapability("telemetry")},t.prototype.supportsRequest=t.prototype.supportsSubscribe=t.prototype.canProvideTelemetry,t.prototype.request=function(t,n){var r=this.telemetryApi.getMetadata(t),o=this.instantiate(e.toOldFormat(t),e.makeKeyString(t.identifier)),s=o.getCapability("telemetry");return s.requestData(n).then(function(e){return Promise.resolve(i(t,r,e))})["catch"](function(e){return Promise.reject(e)})},t.prototype.subscribe=function(t,i,r){function o(e){i(n(t,s,e,e.getPointCount()-1))}var s=this.telemetryApi.getMetadata(t),a=this.instantiate(e.toOldFormat(t),e.makeKeyString(t.identifier)),c=a.getCapability("telemetry");return c.subscribe(o,r)},t.prototype.limitEvaluator=function(t){var n=this.instantiate(e.toOldFormat(t),e.makeKeyString(t.identifier)),i=n.getCapability("limit");return i?{evaluate:function(e,t){return i.evaluate(e,t.key)}}:void 0},function(e,n){var i=new t(e,n);e.telemetry.legacyProvider=i,e.telemetry.requestProviders.push(i),e.telemetry.subscriptionProviders.push(i)}}),n("src/api/telemetry/bundle",["./TelemetryAPI","./LegacyTelemetryProvider","legacyRegistry"],function(e,t,n){n.register("src/api/telemetry",{name:"Telemetry API",description:"The public Telemetry API",extensions:{runs:[{key:"TelemetryAPI",implementation:e,depends:["formatService"]},{key:"LegacyTelemetryAdapter",implementation:t,depends:["openmct","instantiate"]}]}})}),n("example/builtins/src/ExampleController",[],function(){"use strict";function e(e,t){e.phrase=t.getMessage()}return e}),n("example/builtins/src/ExampleDirective",[],function(){"use strict";function e(e){var r=e.length>0?t:n;return r+="<ul>",e.forEach(function(e){r+="<li>",r+="function"==typeof e?new e(i).getText():e.text,r+="</li>"}),r+="</ul>",{template:r}}var t="A directive loaded these message from example extensions.",n="A directive tried to load example extensions, but found none.",i="I heard this from my partial constructor.";return e}),n("example/builtins/src/ExampleService",[],function(){"use strict";function e(){return{getMessage:function(){return"I heard this from a service"}}}return e}),n("example/builtins/bundle",["./src/ExampleController","./src/ExampleDirective","./src/ExampleService","legacyRegistry"],function(e,t,n,i){"use strict";i.register("example/builtins",{name:"Angular Built-ins Example",description:"Example showing how to declare extensions with built-in support from Angular.",sources:"src",extensions:{controllers:[{key:"ExampleController",implementation:e,depends:["$scope","exampleService"]}],directives:[{key:"exampleDirective",implementation:t,depends:["examples[]"]}],routes:[{templateUrl:"templates/example.html"}],services:[{key:"exampleService",implementation:n}]}})}),n("example/composite/src/SomeProvider",[],function(){"use strict";function e(){return{getMessages:function(){return["I am a message from some provider."]}}}return e}),n("example/composite/src/SomeOtherProvider",[],function(){"use strict";function e(){return{getMessages:function(){return["I am a message from some other provider."]}}}return e}),n("example/composite/src/SomeDecorator",[],function(){"use strict";function e(e){return{getMessages:function(){return e.getMessages().map(function(e){return e.toLocaleUpperCase()})}}}return e}),n("example/composite/src/SomeOtherDecorator",[],function(){"use strict";function e(e){return{getMessages:function(){return e.getMessages().map(function(e){return e+"..."})}}}return e}),n("example/composite/src/SomeAggregator",[],function(){"use strict";function e(e){return{getMessages:function(){return e.map(function(e){return e.getMessages()}).reduce(function(e,t){return e.concat(t)},[])}}}return e}),n("example/composite/src/SomeOtherExample",[],function(){"use strict";function e(e){return{getText:function(){return e.getMessages().join(" | ")}}}return e}),n("example/composite/bundle",["./src/SomeProvider","./src/SomeOtherProvider","./src/SomeDecorator","./src/SomeOtherDecorator","./src/SomeAggregator","./src/SomeOtherExample","legacyRegistry"],function(e,t,n,i,r,o,s){"use strict";s.register("example/composite",{extensions:{components:[{implementation:e,provides:"someService",type:"provider"},{implementation:t,provides:"someService",type:"provider"},{implementation:n,provides:"someService",type:"decorator"},{implementation:i,provides:"someService",type:"decorator"},{implementation:r,provides:"someService",type:"aggregator"}],examples:[{implementation:o,depends:["someService"]}]}})}),n("text!example/eventGenerator/data/transcript.json",[],function(){return'[\n    "CC: Eagle, Houston. You\'re GO for landing. Over.",\n    "LMP: Roger. Understand. GO for landing. 3000 feet. PROGRAM ALARM.",\n    "CC: Copy.",\n    "LMP: 1201",\n    "CDR: 1201.",\n    "CC: Roger. 1201 alarm. We\'re GO. Same type. We\'re GO.",\n    "LMP: 2000 feet. 2000 feet, Into the AGS, 47 degrees.",\n    "CC: Roger.",\n    "LMP: 47 degrees.",\n    "CC: Eagle, looking great. You\'re GO.",\n    "CC: Roger. 1202. We copy it.",\n    "O1: LMP 35 degrees. 35 degrees. 750. Coming down to 23.fl",\n    "LMP: 700 feet, 21 down, 33 degrees.",\n    "LMP: 600 feet, down at 19.",\n    "LMP: 540 feet, down at - 30. Down at 15.",\n    "LMP: At 400 feet, down at 9.",\n    "LMP: ...forward.",\n    "LMP: 350 feet, down at 4.",\n    "LMP: 30, ... one-half down.",\n    "LMP: We\'re pegged on horizontal velocity.",\n    "LMP: 300 feet, down 3 1/2, 47 forward.",\n    "LMP: ... up.",\n    "LMP: On 1 a minute, 1 1/2 down.",\n    "CDR: 70.",\n    "LMP: Watch your shadow out there.",\n    "LMP: 50, down at 2 1/2, 19 forward.",\n    "LMP: Altitude-velocity light.",\n    "LMP: 3 1/2 down s 220 feet, 13 forward.",\n    "LMP: 1t forward. Coming down nicely.",\n    "LMP: 200 feet, 4 1/2 down.",\n    "LMP: 5 1/2 down.",\n    "LMP: 160, 6 - 6 1/2 down.",\n    "LMP: 5 1/2 down, 9 forward. That\'s good.",\n    "LMP: 120 feet.",\n    "LMP: 100 feet, 3 1/2 down, 9 forward. Five percent.",\n    "LMP: ...",\n    "LMP: Okay. 75 feet. There\'s looking good. Down a half, 6 forward.",\n    "CC:  60 seconds.",\n    "LMP: Lights on. ...",\n    "LMP: Down 2 1/2. Forward. Forward. Good.",\n    "LMP: 40 feet, down 2 1/2. Kicking up some dust.",\n    "LMP: 30 feet, 2 1/2 down. Faint shadow.",\n    "LMP: 4 forward. 4 forward. Drifting to the right a little. Okay. Down a half.",\n    "CC:  30 seconds.",\n    "CDR: Forward drift?",\n    "LMP: Yes.",\n    "LMP: Okay.",\n    "LMP: CONTACT LIGHT.",\n    "LMP: Okay. ENGINE STOP.",\n    "LMP: ACA - out of DETENT.",\n    "CDR: Out of DETENT.",\n    "LMP: MODE CONTROL - both AUTO. DESCENT ENGINE COMMAND OVERRIDE - OFF. ENGINE ARM - OFF.",\n    "LMP: 413 is in.",\n    "CC:  We copy you down, Eagle.",\n    "CDR: Houston, Tranquility Base here.",\n    "CDR: THE EAGLE HAS LANDED."\n]';
}),n("example/eventGenerator/src/EventTelemetry",["text!../data/transcript.json"],function(e){"use strict";function t(e,t){var r=Date.now(),o=Math.floor((r-n)/t),s={};return s.getPointCount=function(){return o},s.getDomainValue=function(e,i){return e*t+("delta"!==i?n:0)},s.getRangeValue=function(e,t){var r=this.getDomainValue(e)-n,o=e%i.length;return i[o]+" - ["+r.toString()+"]"},s}var n=Date.now(),i=JSON.parse(e);return t}),n("example/eventGenerator/src/EventTelemetryProvider",["./EventTelemetry"],function(e){"use strict";function t(t,n){function i(e){return"eventGenerator"===e.source}function r(t){return{key:t.key,telemetry:new e(t,d)}}function o(e){var t={};return e.forEach(function(e){t[e.key]=e.telemetry}),{eventGenerator:t}}function s(e){return n(function(){return o(e.filter(i).map(r))},0)}function a(e){u.forEach(function(e){var t=e.requests;e.callback(o(t.filter(i).map(r)))})}function c(){p=!0,n(function(){a(),p&&u.length>0?c():p=!1},d)}function l(e,t){function n(){u=u.filter(function(e){return e!==i})}var i={callback:e,requests:t};return u.push(i),p||c(),n}var u=[],d=1e3,p=!1;1e5*Math.random();return{requestTelemetry:s,subscribe:l}}return t}),n("example/eventGenerator/bundle",["./src/EventTelemetryProvider","legacyRegistry"],function(e,t){"use strict";t.register("example/eventGenerator",{name:"Event Message Generator",description:"For development use. Creates sample event message data that mimics a live data stream.",extensions:{components:[{implementation:e,type:"provider",provides:"telemetryService",depends:["$q","$timeout"]}],types:[{key:"eventGenerator",name:"Event Message Generator",cssClass:"icon-folder-new",description:"For development use. Creates sample event message data that mimics a live data stream.",priority:10,features:"creation",model:{telemetry:{}},telemetry:{source:"eventGenerator",domains:[{key:"time",name:"Time",format:"utc"}],ranges:[{key:"message",name:"Message",format:"string"}]}}]}})}),n("example/export/ExportTelemetryAsCSVAction",[],function(){"use strict";function e(e,t){this.exportService=e,this.context=t}return e.prototype.perform=function(){function e(e){return e.name}var t=this.context,n=t.domainObject,i=n.getCapability("telemetry"),r=i.getMetadata(),o=r.domains,s=r.ranges,a=this.exportService;i.requestData({}).then(function(t){function n(e,n){o.forEach(function(i){e[i.name]=t.getDomainValue(n,i.key)})}function i(e,n){s.forEach(function(i){e[i.name]=t.getRangeValue(n,i.key)})}var r,c,l=o.map(e).concat(s.map(e)),u=[];for(c=0;c<t.getPointCount();c+=1)r={},n(r,c),i(r,c),u.push(r);a.exportCSV(u,{headers:l})})},e.appliesTo=function(e){return e.domainObject&&e.domainObject.hasCapability("telemetry")},e}),n("example/export/bundle",["legacyRegistry","./ExportTelemetryAsCSVAction"],function(e,t){"use strict";e.register("example/export",{name:"Example of using CSV Export",extensions:{actions:[{key:"example.export",name:"Export Telemetry as CSV",implementation:t,category:"contextual",cssClass:"icon-download",depends:["exportService"]}]}})}),n("example/extensions/src/SomeExample",[],function(){"use strict";function e(e,t){return{getText:function(){return['"',e.getMessage(),'" and "',t,'"'].join("")}}}return e}),n("example/extensions/bundle",["./src/SomeExample","legacyRegistry"],function(e,t){"use strict";t.register("example/extensions",{name:"Custom Extensions Examples",description:"Example showing how to declare custom extensions.",sources:"src",extensions:{examples:[{text:"I came from example/extensions"},{implementation:e,depends:["exampleService"]}]}})}),n("example/forms/src/ExampleFormController",[],function(){"use strict";function e(e){e.state={},e.toolbar={name:"An example toolbar.",sections:[{description:"First section",items:[{name:"X",description:"X coordinate",control:"textfield",pattern:"^\\d+$",disabled:!0,size:2,key:"x"},{name:"Y",description:"Y coordinate",control:"textfield",pattern:"^\\d+$",size:2,key:"y"},{name:"W",description:"Cell width",control:"textfield",pattern:"^\\d+$",size:2,key:"w"},{name:"H",description:"Cell height",control:"textfield",pattern:"^\\d+$",size:2,key:"h"}]},{description:"Second section",items:[{control:"button",csslass:"icon-save",click:function(){window.alert("Save")}},{control:"button",csslass:"icon-x",description:"Button B",click:function(){window.alert("Cancel")}},{control:"button",csslass:"icon-trash",description:"Button C",disabled:!0,click:function(){window.alert("Delete")}}]},{items:[{control:"color",key:"color"}]}]},e.form={name:"An example form.",sections:[{name:"First section",rows:[{name:"Check me",control:"checkbox",key:"checkMe"},{name:"Enter your name",required:!0,control:"textfield",key:"yourName"},{name:"Enter a number",control:"textfield",pattern:"^\\d+$",key:"aNumber"}]},{name:"Second section",rows:[{name:"Pick a date",required:!0,description:"Enter date in form YYYY-DDD",control:"datetime",key:"aDate"},{name:"Choose something",control:"select",options:[{name:"Hats",value:"hats"},{name:"Bats",value:"bats"},{name:"Cats",value:"cats"},{name:"Mats",value:"mats"}],key:"aChoice"},{name:"Choose something",control:"select",required:!0,options:[{name:"Hats",value:"hats"},{name:"Bats",value:"bats"},{name:"Cats",value:"cats"},{name:"Mats",value:"mats"}],key:"aRequiredChoice"}]}]}}return e}),n("example/forms/bundle",["./src/ExampleFormController","legacyRegistry"],function(e,t){"use strict";t.register("example/forms",{name:"Declarative Forms example",sources:"src",extensions:{controllers:[{key:"ExampleFormController",implementation:e,depends:["$scope"]}],routes:[{templateUrl:"templates/exampleForm.html"}]}})}),n("example/identity/src/ExampleIdentityService",[],function(){"use strict";function e(e){function i(e){return e}function r(){}this.userPromise=e.getUserInput(n,t).then(i,r)}var t={key:"user",name:"Example User"},n={name:"Identify Yourself",sections:[{rows:[{name:"User ID",control:"textfield",key:"key",required:!0},{name:"Human name",control:"textfield",key:"name",required:!0}]}]};return e.prototype.getUser=function(){return this.userPromise},e}),n("example/identity/bundle",["./src/ExampleIdentityService","legacyRegistry"],function(e,t){"use strict";t.register("example/identity",{extensions:{components:[{implementation:e,provides:"identityService",type:"provider",depends:["dialogService"]}]}})}),n("example/imagery/src/ImageTelemetry",[],function(){"use strict";function e(){return{getPointCount:function(){return Math.floor((Date.now()-t)/1e3)},getDomainValue:function(e,t){return n[e%n.length].timestamp},getRangeValue:function(e,t){return n[e%n.length].url}}}var t=Date.now(),n=["https://www.hq.nasa.gov/alsj/a16/AS16-117-18731.jpg","https://www.hq.nasa.gov/alsj/a16/AS16-117-18732.jpg","https://www.hq.nasa.gov/alsj/a16/AS16-117-18733.jpg","https://www.hq.nasa.gov/alsj/a16/AS16-117-18734.jpg","https://www.hq.nasa.gov/alsj/a16/AS16-117-18735.jpg","https://www.hq.nasa.gov/alsj/a16/AS16-117-18736.jpg","https://www.hq.nasa.gov/alsj/a16/AS16-117-18737.jpg","https://www.hq.nasa.gov/alsj/a16/AS16-117-18738.jpg","https://www.hq.nasa.gov/alsj/a16/AS16-117-18739.jpg","https://www.hq.nasa.gov/alsj/a16/AS16-117-18740.jpg","https://www.hq.nasa.gov/alsj/a16/AS16-117-18741.jpg","https://www.hq.nasa.gov/alsj/a16/AS16-117-18742.jpg","https://www.hq.nasa.gov/alsj/a16/AS16-117-18743.jpg","https://www.hq.nasa.gov/alsj/a16/AS16-117-18744.jpg","https://www.hq.nasa.gov/alsj/a16/AS16-117-18745.jpg","https://www.hq.nasa.gov/alsj/a16/AS16-117-18746.jpg","https://www.hq.nasa.gov/alsj/a16/AS16-117-18747.jpg","https://www.hq.nasa.gov/alsj/a16/AS16-117-18748.jpg"].map(function(e,n){return{timestamp:t+1e3*n,url:e}});return e}),n("example/imagery/src/ImageTelemetryProvider",["./ImageTelemetry"],function(e){"use strict";function t(t,n){function i(e){return"imagery"===e.source}function r(t){return{key:t.key,telemetry:new e}}function o(e){var t={};return e.forEach(function(e){t[e.key]=e.telemetry}),{imagery:t}}function s(e){return n(function(){return o(e.filter(i).map(r))},0)}function a(){u.forEach(function(e){var t=e.requests;e.callback(o(t.filter(i).map(r)))})}function c(){n(function(){a(),u.length>0&&c()},1e3)}function l(e,t){function n(){u=u.filter(function(e){return e!==i})}var i={callback:e,requests:t};return u.push(i),1===u.length&&c(),n}var u=[];return{requestTelemetry:s,subscribe:l}}return t}),n("example/imagery/bundle",["./src/ImageTelemetryProvider","legacyRegistry"],function(e,t){"use strict";t.register("example/imagery",{name:"Imagery",description:"Example of a component that produces image telemetry.",extensions:{components:[{implementation:e,type:"provider",provides:"telemetryService",depends:["$q","$timeout"]}],types:[{key:"imagery",name:"Example Imagery",cssClass:"icon-image",features:"creation",description:"For development use. Creates example imagery data that mimics a live imagery stream.",priority:10,model:{telemetry:{}},telemetry:{source:"imagery",domains:[{name:"Time",key:"time",format:"utc"}],ranges:[{name:"Image",key:"url",format:"imageUrl"}]}}]}})}),n("example/mobile/bundle",["legacyRegistry"],function(e){"use strict";e.register("example/mobile",{name:"Mobile",description:"Allows elements with pertinence to mobile usage and development",extensions:{stylesheets:[{stylesheetUrl:"css/mobile-example.css",priority:"mandatory"}]}})}),n("example/msl/src/MSLDataDictionary",[],function(){return{name:"Mars Science Laboratory",identifier:"msl",instruments:[{name:"rems",identifier:"rems",measurements:[{name:"Min. Air Temperature",identifier:"min_temp",units:"Degrees (C)",type:"float"},{name:"Max. Air Temperature",identifier:"max_temp",units:"Degrees (C)",type:"float"},{name:"Atmospheric Pressure",identifier:"pressure",units:"Millibars",type:"float"},{name:"Min. Ground Temperature",identifier:"min_gts_temp",units:"Degrees (C)",type:"float"},{name:"Max. Ground Temperature",identifier:"max_gts_temp",units:"Degrees (C)",type:"float"}]}]}}),n("example/msl/src/RemsTelemetryServerAdapter",["./MSLDataDictionary","module"],function(e,t){"use strict";function n(e,n,i){this.localDataURI=t.uri.substring(0,t.uri.lastIndexOf("/")+1)+r,this.REMS_WS_URL=i,this.$http=e,this.$log=n,this.promise=void 0,this.dataTransforms={pressure:function(e){return e/100}}}var i="terrestrial_date",r="../data/rems.json";return n.prototype.dictionary=e,n.prototype.requestHistory=function(e){function t(e){var t=[];return e.data.soles.forEach(function(e){if(!isNaN(e[a])){var n=c[a];t.unshift({date:Date.parse(e[i]),value:n?n(e[a]):e[a]})}}),t}function n(){return s.$log.warn("Loading REMS data failed, probably due to cross origin policy. Falling back to local data"),s.$http.get(s.localDataURI)}function r(t){return t.filter(function(t){return t.date>=(e.start||Number.MIN_VALUE)&&t.date<=(e.end||Number.MAX_VALUE)})}function o(e){return{id:a,values:e}}var s=this,a=e.key,c=this.dataTransforms;return(this.promise=this.promise||this.$http.get(this.REMS_WS_URL))["catch"](n).then(t).then(r).then(o)},n.prototype.history=function(e){return this.requestHistory(e)},n}),n("example/msl/src/RemsTelemetryModelProvider",[],function(){"use strict";function e(e){function i(e){return 0===e.indexOf(t)}function r(e){return t+e.identifier}function o(e){function t(e,t){var i=n[e.type];o[r(e)]={type:"msl.measurement",name:e.name,location:t,telemetry:{key:e.identifier,ranges:[{key:"value",name:e.units,units:e.units,format:i}]}}}function i(e,n){var i=e.measurements||[],s=r(e);o[s]={type:"msl.instrument",name:e.name,location:n,composition:i.map(r)},i.forEach(function(e){t(e,s)})}var o={};return(e.instruments||[]).forEach(function(e){i(e,"msl:curiosity")}),o}return{getModels:function(t){return t.some(i)?o(e.dictionary):{}}}}var t="msl_tlm:",n={"float":"number",integer:"number",string:"string"};return e}),n("example/msl/src/RemsTelemetrySeries",[],function(){"use strict";function e(e){this.data=e}return e.prototype.getPointCount=function(){return this.data.length},e.prototype.getDomainValue=function(e){return this.data[e].date},e.prototype.getRangeValue=function(e){return this.data[e].value},e}),n("example/msl/src/RemsTelemetryProvider",["./RemsTelemetrySeries"],function(e){"use strict";function t(e,t){this.adapter=e,this.$q=t}var n="rems.source";return t.prototype.requestTelemetry=function(t){function i(e){return e.source===n}function r(t){a[n][t.id]=new e(t.values)}function o(e){return c.history(e).then(r)}var s,a={},c=this.adapter;return s=t.filter(i),a[n]={},this.$q.all(s.map(o)).then(function(){return a})},t.prototype.subscribe=function(e,t){return function(){}},t.prototype.unsubscribe=function(e,t){return function(){}},t}),n("example/msl/bundle",["./src/RemsTelemetryServerAdapter","./src/RemsTelemetryModelProvider","./src/RemsTelemetryProvider","legacyRegistry","module"],function(e,t,n,i){"use strict";i.register("example/msl",{name:"Mars Science Laboratory Data Adapter",extensions:{types:[{name:"Mars Science Laboratory",key:"msl.curiosity",cssClass:"icon-object"},{name:"Instrument",key:"msl.instrument",cssClass:"icon-object",model:{composition:[]}},{name:"Measurement",key:"msl.measurement",cssClass:"icon-telemetry",model:{telemetry:{}},telemetry:{source:"rems.source",domains:[{name:"Time",key:"utc",format:"utc"}]}}],constants:[{key:"REMS_WS_URL",value:"/proxyUrl?url=http://cab.inta-csic.es/rems/wp-content/plugins/marsweather-widget/api.php"}],roots:[{id:"msl:curiosity"}],models:[{id:"msl:curiosity",priority:"preferred",model:{type:"msl.curiosity",name:"Mars Science Laboratory",composition:["msl_tlm:rems"]}}],services:[{key:"rems.adapter",implementation:e,depends:["$http","$log","REMS_WS_URL"]}],components:[{provides:"modelService",type:"provider",implementation:t,depends:["rems.adapter"]},{provides:"telemetryService",type:"provider",implementation:n,depends:["rems.adapter","$q"]}]}})}),n("example/notifications/src/DialogLaunchController",[],function(){"use strict";function e(e,t,n,i,r){e.launchProgress=function(e){function r(){s.progress=Math.min(100,Math.floor(s.progress+30*Math.random())),s.progressText=["Estimated time remaining: about ",60-Math.floor(s.progress/100*60)," seconds"].join(" "),s.progress<100&&t(r,1e3)}var o,s={title:"Progress Dialog Example",progress:0,hint:"Do not navigate away from this page or close this browser tab while this operation is in progress.",actionText:"Calculating...",unknownProgress:!e,unknownDuration:!1,severity:"info",options:[{label:"Cancel Operation",callback:function(){n.debug("Operation cancelled"),o.dismiss()}},{label:"Do something else...",callback:function(){n.debug("Something else pressed")}}]};o=i.showBlockingMessage(s),o?(s.actionText="Processing 100 objects...",e&&t(r,1e3)):n.error("Could not display modal dialog")},e.launchError=function(){var e,t={title:"Error Dialog Example",actionText:"Something happened, and it was not good.",severity:"error",options:[{label:"Try Again",callback:function(){n.debug("Try Again Pressed"),e.dismiss()}},{label:"Cancel",callback:function(){n.debug("Cancel Pressed"),e.dismiss()}}]};e=i.showBlockingMessage(t),e||n.error("Could not display modal dialog")},e.launchInfo=function(){var e,t={title:"Info Dialog Example",actionText:"This is an example of a blocking info dialog. This dialog can be used to draw the user's attention to an event.",severity:"info",primaryOption:{label:"OK",callback:function(){n.debug("OK Pressed"),e.dismiss()}}};e=i.showBlockingMessage(t),e||n.error("Could not display modal dialog")}}return e}),n("example/notifications/src/NotificationLaunchController",[],function(){"use strict";function e(e,t,n,i){function r(){var e=["Adipiscing turpis mauris in enim elementu hac, enim aliquam etiam.","Eros turpis, pulvinar turpis eros eu","Lundium nascetur a, lectus montes ac, parturient in natoque, duis risus risus pulvinar pid rhoncus, habitasse auctor natoque!"];return e[Math.floor(3*Math.random())]}function o(){var e=[{label:"Try Again",callback:function(){n.debug("Try Again pressed")}},{label:"Remove",callback:function(){n.debug("Remove pressed")}},{label:"Cancel",callback:function(){n.debug("Cancel pressed")}}];return e.splice(0,Math.floor(Math.random()*e.length)),e}var s=1;e.newError=function(){i.notify({title:"Example error notification "+s++,hint:"An error has occurred",severity:"error",primaryOption:{label:"Retry",callback:function(){n.info("Retry clicked")}},options:o()})},e.newAlert=function(){i.notify({title:"Alert notification "+s++,hint:"This is an alert message",severity:"alert",primaryOption:{label:"Retry",callback:function(){n.info("Retry clicked")}},options:o()})},e.newProgress=function(){function e(n){n.progress=Math.min(100,Math.floor(n.progress+30*Math.random())),n.progressText=["Estimated time remaining: about ",60-Math.floor(n.progress/100*60)," seconds"].join(" "),n.progress<100&&t(function(){e(n)},1e3)}var n={title:"Progress notification example",severity:"info",progress:0,actionText:r(),unknownProgress:!1};i.notify(n),e(n)},e.newInfo=function(){i.info({title:"Example Info notification "+s++})}}return e}),n("example/notifications/src/DialogLaunchIndicator",[],function(){"use strict";function e(){}return e.template="dialogLaunchTemplate",e.prototype.getGlyphClass=function(){return"ok"},e.prototype.getText=function(){return"Launch test dialog"},e.prototype.getDescription=function(){return"Launch test dialog"},e}),n("example/notifications/src/NotificationLaunchIndicator",[],function(){"use strict";function e(){}return e.template="notificationLaunchTemplate",e.prototype.getGlyphClass=function(){return"ok"},e.prototype.getText=function(){return"Launch notification"},e.prototype.getDescription=function(){return"Launch notification"},e}),n("example/notifications/bundle",["./src/DialogLaunchController","./src/NotificationLaunchController","./src/DialogLaunchIndicator","./src/NotificationLaunchIndicator","legacyRegistry"],function(e,t,n,i,r){"use strict";r.register("example/notifications",{extensions:{templates:[{key:"dialogLaunchTemplate",templateUrl:"dialog-launch.html"},{key:"notificationLaunchTemplate",templateUrl:"notification-launch.html"}],controllers:[{key:"DialogLaunchController",implementation:e,depends:["$scope","$timeout","$log","dialogService","notificationService"]},{key:"NotificationLaunchController",implementation:t,depends:["$scope","$timeout","$log","notificationService"]}],indicators:[{implementation:n,priority:"fallback"},{implementation:i,priority:"fallback"}]}})}),n("example/persistence/src/BrowserPersistenceProvider",[],function(){"use strict";function e(e,t){var n=t?[t]:[],i={},r={as:function(t){return e.when(t)}};return n.forEach(function(e){i[e]={}}),{listSpaces:function(){return r.as(n)},listObjects:function(e){var t=i[e];return r.as(t?Object.keys(t):null)},createObject:function(e,t,n){var o=i[e];return!o||o[t]?r.as(null):(o[t]=n,r.as(!0))},readObject:function(e,t){var n=i[e];return r.as(n?n[t]:null)},updateObject:function(e,t,n){var o=i[e];return o&&o[t]?(o[t]=n,r.as(!0)):r.as(null)},deleteObject:function(e,t,n){var o=i[e];return o&&o[t]?(delete o[t],r.as(!0)):r.as(null)}}}return e}),n("example/persistence/bundle",["./src/BrowserPersistenceProvider","legacyRegistry"],function(e,t){"use strict";t.register("example/persistence",{extensions:{components:[{provides:"persistenceService",type:"provider",implementation:e,depends:["$q","PERSISTENCE_SPACE"]}],constants:[{key:"PERSISTENCE_SPACE",value:"mct"}]}})}),n("platform/commonUI/regions/src/Region",[],function(){function e(e){e=e||{},this.name=e.name,this.content=e.content,this.modes=e.modes,this.regions=[]}return e.prototype.addRegion=function(e,t){t?this.regions.splice(t,0,e):this.regions.push(e)},e.prototype.removeRegion=function(e){"number"==typeof e?this.regions.splice(e,1):"string"==typeof e?this.regions=this.regions.filter(function(t){return t.name!==e}):this.regions.splice(this.regions.indexOf(e),1)},e}),n("platform/commonUI/browse/src/InspectorRegion",["../../regions/src/Region"],function(e){function t(){e.call(this,{name:"Inspector"}),this.buildRegion()}return t.prototype=Object.create(e.prototype),t.prototype.constructor=e,t.prototype.buildRegion=function(){var t={name:"metadata",title:"Metadata Region",modes:["browse","edit"],content:{key:"object-properties"}};this.addRegion(new e(t),0)},t}),n("example/plotOptions/bundle",["legacyRegistry","../../platform/commonUI/browse/src/InspectorRegion","../../platform/commonUI/regions/src/Region"],function(e,t,n){"use strict";var i=new t,r=new n({name:"plot-options",title:"Plot Options",modes:["browse"],content:{key:"plot-options-browse"}}),o=new n({name:"plot-options",title:"Plot Options",modes:["edit"],content:{key:"plot-options-browse"}});i.addRegion(r),i.addRegion(o),e.register("example/plotType",{name:"Plot Type",description:"Example illustrating registration of a new object type",extensions:{types:[{key:"plot",name:"Example Telemetry Plot",cssClass:"icon-telemetry-panel",description:"For development use. A plot for displaying telemetry.",priority:10,delegates:["telemetry"],features:"creation",contains:[{has:"telemetry"}],model:{composition:[]},inspector:i,telemetry:{source:"generator",domains:[{key:"time",name:"Time"},{key:"yesterday",name:"Yesterday"},{key:"delta",name:"Delta",format:"example.delta"}],ranges:[{key:"sin",name:"Sine"},{key:"cos",name:"Cosine"}]},properties:[{name:"Period",control:"textfield",cssClass:"l-input-sm l-numeric",key:"period",required:!0,property:["telemetry","period"],pattern:"^\\d*(\\.\\d*)?$"}]}]}})}),n("example/policy/src/ExamplePolicy",[],function(){"use strict";function e(){return{allow:function(e,t){var n=(t||{}).domainObject,i=n&&n.getModel()||{},r=i.name||"",o=e.getMetadata()||{};return"remove"!==o.key||r.indexOf("foo")<0}}}return e}),n("example/policy/bundle",["./src/ExamplePolicy","legacyRegistry"],function(e,t){"use strict";t.register("example/policy",{name:"Example Policy",description:"Provides an example of using policies to prohibit actions.",extensions:{policies:[{implementation:e,category:"action"}]}})}),n("example/profiling/src/WatchIndicator",[],function(){"use strict";function e(e,t){function n(e){e&&(r+=(e.$$watchers||[]).length,n(e.$$childHead),n(e.$$nextSibling))}function i(){r=0,n(t)}var r=0;return e(i,1e3),i(),{getCssClass:function(){return"icon-database"},getText:function(){return r+" watches"},getDescription:function(){return""}}}return e}),n("example/profiling/src/DigestIndicator",[],function(){"use strict";function e(e,t){function n(){var e=Date.now(),t=(e-s)/1e3;o=Math.round(r/t),s=e,r=0}function i(){r+=1}var r=0,o=0,s=Date.now();return t.$watch(i),e(n,1e3),n(),{getCssClass:function(){return"icon-connectivity"},getText:function(){return o+" digests/sec"},getDescription:function(){return""}}}return e}),n("example/profiling/bundle",["./src/WatchIndicator","./src/DigestIndicator","legacyRegistry"],function(e,t,n){"use strict";n.register("example/profiling",{extensions:{indicators:[{implementation:e,depends:["$interval","$rootScope"]},{implementation:t,depends:["$interval","$rootScope"]}]}})}),n("example/scratchpad/src/ScratchPersistenceProvider",[],function(){"use strict";function e(e){this.$q=e,this.table={}}return e.prototype.listSpaces=function(){return this.$q.when(["scratch"])},e.prototype.listObjects=function(e){return this.$q.when("scratch"===e?Object.keys(this.table):[])},e.prototype.createObject=function(e,t,n){return"scratch"===e&&(this.table[t]=JSON.stringify(n)),this.$q.when("scratch"===e)},e.prototype.readObject=function(e,t){return this.$q.when("scratch"===e&&this.table[t]?JSON.parse(this.table[t]):void 0)},e.prototype.deleteObject=function(e,t,n){return"scratch"===e&&delete this.table[t],this.$q.when("scratch"===e)},e.prototype.updateObject=e.prototype.createObject,e}),n("example/scratchpad/bundle",["./src/ScratchPersistenceProvider","legacyRegistry"],function(e,t){"use strict";t.register("example/scratchpad",{extensions:{roots:[{id:"scratch:root"}],models:[{id:"scratch:root",model:{type:"folder",composition:[],name:"Scratchpad"},priority:"preferred"}],components:[{provides:"persistenceService",type:"provider",implementation:e,depends:["$q"]}]}})}),n("example/styleguide/src/ExampleStyleGuideModelProvider",[],function(){"use strict";function e(e){var t={};return t.intro={name:"Introduction",type:"styleguide.intro",location:"styleguide:home"},t.standards={name:"Standards",type:"styleguide.standards",location:"styleguide:home"},t.colors={name:"Colors",type:"styleguide.colors",location:"styleguide:home"},t.glyphs={name:"Glyphs",type:"styleguide.glyphs",location:"styleguide:home"},t.controls={name:"Controls",type:"styleguide.controls",location:"styleguide:ui-elements"},t.input={name:"Text Inputs",type:"styleguide.input",location:"styleguide:ui-elements"},t.menus={name:"Menus",type:"styleguide.menus",location:"styleguide:ui-elements"},{getModels:function(){return e.when(t)}}}return e}),n("text!example/styleguide/res/templates/mct-example.html",[],function(){return'<div class="col">\n    <h3>Markup</h3>\n    <span class="w-markup">\n        <pre></pre>\n    </span>\n    <h3>Example</h3>\n    <div></div>\n</div>\n'}),n("example/styleguide/src/MCTExample",["text!../res/templates/mct-example.html"],function(e){function t(){function t(e,t,n,i,r){var o=t.find("pre"),s=t.find("div");r(function(e){s.append(e),o.text(s.html().replace(/ class="ng-scope"/g,"").replace(/ ng-scope"/g,'"'))})}return{restrict:"E",template:e,transclude:!0,link:t,replace:!0}}return t}),n("example/styleguide/bundle",["./src/ExampleStyleGuideModelProvider","./src/MCTExample","legacyRegistry"],function(e,t,n){n.register("example/styleguide",{name:"Open MCT Style Guide",description:"Examples and documentation illustrating UI styles in use in Open MCT.",extensions:{types:[{key:"styleguide.intro",name:"Introduction",cssClass:"icon-page",description:"Introduction and overview to the style guide"},{key:"styleguide.standards",name:"Standards",cssClass:"icon-page",description:""},{key:"styleguide.colors",name:"Colors",cssClass:"icon-page",description:""},{key:"styleguide.glyphs",name:"Glyphs",cssClass:"icon-page",description:"Glyphs overview"},{key:"styleguide.controls",name:"Controls",cssClass:"icon-page",description:"Buttons, selects, HTML controls"},{key:"styleguide.input",name:"Text Inputs",cssClass:"icon-page",description:"Various text inputs"},{key:"styleguide.menus",name:"Menus",cssClass:"icon-page",description:"Context menus, dropdowns"}],views:[{key:"styleguide.intro",type:"styleguide.intro",templateUrl:"templates/intro.html",editable:!1},{key:"styleguide.standards",type:"styleguide.standards",templateUrl:"templates/standards.html",editable:!1},{key:"styleguide.colors",type:"styleguide.colors",templateUrl:"templates/colors.html",editable:!1},{key:"styleguide.glyphs",type:"styleguide.glyphs",templateUrl:"templates/glyphs.html",editable:!1},{key:"styleguide.controls",type:"styleguide.controls",templateUrl:"templates/controls.html",editable:!1},{key:"styleguide.input",type:"styleguide.input",templateUrl:"templates/input.html",editable:!1},{key:"styleguide.menus",type:"styleguide.menus",templateUrl:"templates/menus.html",editable:!1}],roots:[{id:"styleguide:home"}],models:[{id:"styleguide:home",priority:"preferred",model:{type:"folder",name:"Style Guide Home",location:"ROOT",composition:["intro","standards","colors","glyphs","styleguide:ui-elements"]}},{id:"styleguide:ui-elements",priority:"preferred",model:{type:"folder",name:"UI Elements",location:"styleguide:home",composition:["controls","input","menus"]}}],directives:[{key:"mctExample",implementation:t}],components:[{provides:"modelService",type:"provider",implementation:e,depends:["$q"]}],stylesheets:[{stylesheetUrl:"css/style-guide-espresso.css",theme:"espresso"},{stylesheetUrl:"css/style-guide-snow.css",theme:"snow"}]}})}),n("example/taxonomy/src/ExampleTaxonomyModelProvider",[],function(){"use strict";function e(e){var t,n,i,r,o={};for(i=0;3>i;i+=1)for(t="examplePacket"+i,o[t]={name:"Stub Subsystem "+(i+1),type:"telemetry.panel",composition:[]},r=0;100*(i+1)>r;r+=1)n="exampleTelemetry"+r,o[n]={name:"SWG"+i+"."+r,type:"generator",telemetry:{period:10+i+r}},o[t].composition.push(n);return{getModels:function(){return e.when(o)}}}return e}),n("example/taxonomy/bundle",["./src/ExampleTaxonomyModelProvider","legacyRegistry"],function(e,t){"use strict";t.register("example/taxonomy",{name:"Example taxonomy",description:"Example illustrating the addition of a static top-level hierarchy",extensions:{roots:[{id:"exampleTaxonomy"}],models:[{id:"exampleTaxonomy",model:{type:"folder",name:"Stub Subsystems",composition:["examplePacket0","examplePacket1","examplePacket2"]}}],components:[{provides:"modelService",type:"provider",implementation:e,depends:["$q"]}]}})}),n("example/worker/src/FibonacciIndicator",[],function(){"use strict";function e(e,t){function n(){s.postMessage([o]),o+=1}function i(e){r=e.data,t.$apply(),n()}var r,o=0,s=e.run("example.fibonacci");return s.onmessage=i,n(),{getCssClass:function(){return"icon-object-unknown"},getText:function(){return r},getDescription:function(){return""}}}return e}),n("example/worker/bundle",["./src/FibonacciIndicator","legacyRegistry"],function(e,t){"use strict";t.register("example/worker",{extensions:{indicators:[{implementation:e,depends:["workerService","$rootScope"]}],workers:[{key:"example.fibonacci",scriptUrl:"FibonacciWorker.js"}]}})}),n("text!platform/commonUI/about/res/templates/about-dialog.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="abs t-about l-about t-about-openmctweb s-about" ng-controller = "AboutController as about">\n    <div class="l-splash s-splash"></div>\n    <div class="s-text l-content">\n        <h1 class="l-title s-title">Open MCT</h1>\n        <div class="l-description s-description">\n	        <p>Open MCT, Copyright &copy; 2014-2017, United States Government as represented by the Administrator of the National Aeronautics and Space Administration. All rights reserved.</p>\n	        <p>Open MCT is licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.  You may obtain a copy of the License at <a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>.</p>\n	        <p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>\n	        <p>Open MCT includes source code licensed under additional open source licenses. See the Open Source Licenses file included with this distribution or <a ng-click="about.openLicenses()">click here for licensing information</a>.</p>\n        </div>\n        <h2>Version Information</h2>\n        <ul class="t-info l-info s-info" ng-repeat = "version in about.versions()">\n            <li title="{{version.description}}">\n                <span class="info version-name">{{version.name}}</span>\n	            <span class="info version-value">{{version.value}}</span>\n            </li>\n        </ul>\n    </div>\n</div>\n\n';
}),n("platform/commonUI/about/src/LogoController",[],function(){function e(e){this.overlayService=e}return e.prototype.showAboutDialog=function(){this.overlayService.createOverlay("overlay-about")},e}),n("platform/commonUI/about/src/AboutController",[],function(){function e(e,t){this.versionDefinitions=e,this.$window=t}return e.prototype.versions=function(){return this.versionDefinitions},e.prototype.openLicenses=function(){this.$window.open("#/licenses")},e}),n("platform/commonUI/about/src/LicenseController",[],function(){function e(e){this.licenseDefinitions=e}return e.prototype.licenses=function(){return this.licenseDefinitions},e}),n("text!platform/commonUI/about/res/templates/app-logo.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller = "AboutController as about">\n	<div class=\'app-logo logo-openmctweb abs\' title="Version {{about.versions()[0].value}}"></div>\n</span>\n'}),n("text!platform/commonUI/about/res/templates/about-logo.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="LogoController as logo">\n    <mct-include ng-click="logo.showAboutDialog()" key="\'app-logo\'">\n    </mct-include>\n</span>\n'}),n("text!platform/commonUI/about/res/templates/overlay-about.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<mct-container key="overlay">\n    <mct-include key="\'about-dialog\'">\n    </mct-include>\n</mct-container>\n'}),n("text!platform/commonUI/about/res/templates/license-apache.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<!-- From http://www.apache.org/licenses/LICENSE-2.0 -->\n<br>\n	<p>Version 2.0, January 2004</p>\n	<p><a href="http://www.apache.org/licenses/">http://www.apache.org/licenses/</a></p>\n	<h3>TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION</h3>\n	<p><strong><a name="definitions">1. Definitions</a></strong>.</p>\n	<p>"License" shall mean the terms and conditions for use, reproduction, and\n		distribution as defined by Sections 1 through 9 of this document.</p>\n	<p>"Licensor" shall mean the copyright owner or entity authorized by the\n		copyright owner that is granting the License.</p>\n	<p>"Legal Entity" shall mean the union of the acting entity and all other\n		entities that control, are controlled by, or are under common control with\n		that entity. For the purposes of this definition, "control" means (i) the\n		power, direct or indirect, to cause the direction or management of such\n		entity, whether by contract or otherwise, or (ii) ownership of fifty\n		percent (50%) or more of the outstanding shares, or (iii) beneficial\n		ownership of such entity.</p>\n	<p>"You" (or "Your") shall mean an individual or Legal Entity exercising\n		permissions granted by this License.</p>\n	<p>"Source" form shall mean the preferred form for making modifications,\n		including but not limited to software source code, documentation source,\n		and configuration files.</p>\n	<p>"Object" form shall mean any form resulting from mechanical transformation\n		or translation of a Source form, including but not limited to compiled\n		object code, generated documentation, and conversions to other media types.</p>\n	<p>"Work" shall mean the work of authorship, whether in Source or Object form,\n		made available under the License, as indicated by a copyright notice that\n		is included in or attached to the work (an example is provided in the\n		Appendix below).</p>\n	<p>"Derivative Works" shall mean any work, whether in Source or Object form,\n		that is based on (or derived from) the Work and for which the editorial\n		revisions, annotations, elaborations, or other modifications represent, as\n		a whole, an original work of authorship. For the purposes of this License,\n		Derivative Works shall not include works that remain separable from, or\n		merely link (or bind by name) to the interfaces of, the Work and Derivative\n		Works thereof.</p>\n	<p>"Contribution" shall mean any work of authorship, including the original\n		version of the Work and any modifications or additions to that Work or\n		Derivative Works thereof, that is intentionally submitted to Licensor for\n		inclusion in the Work by the copyright owner or by an individual or Legal\n		Entity authorized to submit on behalf of the copyright owner. For the\n		purposes of this definition, "submitted" means any form of electronic,\n		verbal, or written communication sent to the Licensor or its\n		representatives, including but not limited to communication on electronic\n		mailing lists, source code control systems, and issue tracking systems that\n		are managed by, or on behalf of, the Licensor for the purpose of discussing\n		and improving the Work, but excluding communication that is conspicuously\n		marked or otherwise designated in writing by the copyright owner as "Not a\n		Contribution."</p>\n	<p>"Contributor" shall mean Licensor and any individual or Legal Entity on\n		behalf of whom a Contribution has been received by Licensor and\n		subsequently incorporated within the Work.</p>\n	<p><strong><a name="copyright">2. Grant of Copyright License</a></strong>. Subject to the\n		terms and conditions of this License, each Contributor hereby grants to You\n		a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n		copyright license to reproduce, prepare Derivative Works of, publicly\n		display, publicly perform, sublicense, and distribute the Work and such\n		Derivative Works in Source or Object form.</p>\n	<p><strong><a name="patent">3. Grant of Patent License</a></strong>. Subject to the terms\n		and conditions of this License, each Contributor hereby grants to You a\n		perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n		(except as stated in this section) patent license to make, have made, use,\n		offer to sell, sell, import, and otherwise transfer the Work, where such\n		license applies only to those patent claims licensable by such Contributor\n		that are necessarily infringed by their Contribution(s) alone or by\n		combination of their Contribution(s) with the Work to which such\n		Contribution(s) was submitted. If You institute patent litigation against\n		any entity (including a cross-claim or counterclaim in a lawsuit) alleging\n		that the Work or a Contribution incorporated within the Work constitutes\n		direct or contributory patent infringement, then any patent licenses\n		granted to You under this License for that Work shall terminate as of the\n		date such litigation is filed.</p>\n	<p><strong><a name="redistribution">4. Redistribution</a></strong>. You may reproduce and\n		distribute copies of the Work or Derivative Works thereof in any medium,\n		with or without modifications, and in Source or Object form, provided that\n		You meet the following conditions:</p>\n	<ol style="list-style: lower-latin;">\n		<li>You must give any other recipients of the Work or Derivative Works a\n			copy of this License; and</li>\n\n		<li>You must cause any modified files to carry prominent notices stating\n			that You changed the files; and</li>\n\n		<li>You must retain, in the Source form of any Derivative Works that You\n			distribute, all copyright, patent, trademark, and attribution notices from\n			the Source form of the Work, excluding those notices that do not pertain to\n			any part of the Derivative Works; and</li>\n\n		<li>If the Work includes a "NOTICE" text file as part of its distribution,\n			then any Derivative Works that You distribute must include a readable copy\n			of the attribution notices contained within such NOTICE file, excluding\n			those notices that do not pertain to any part of the Derivative Works, in\n			at least one of the following places: within a NOTICE text file distributed\n			as part of the Derivative Works; within the Source form or documentation,\n			if provided along with the Derivative Works; or, within a display generated\n			by the Derivative Works, if and wherever such third-party notices normally\n			appear. The contents of the NOTICE file are for informational purposes only\n			and do not modify the License. You may add Your own attribution notices\n			within Derivative Works that You distribute, alongside or as an addendum to\n			the NOTICE text from the Work, provided that such additional attribution\n			notices cannot be construed as modifying the License.\n			<br>\n			<br>\n			You may add Your own copyright statement to Your modifications and may\n			provide additional or different license terms and conditions for use,\n			reproduction, or distribution of Your modifications, or for any such\n			Derivative Works as a whole, provided Your use, reproduction, and\n			distribution of the Work otherwise complies with the conditions stated in\n			this License.\n		</li>\n\n	</ol>\n\n	<p><strong><a name="contributions">5. Submission of Contributions</a></strong>. Unless You\n		explicitly state otherwise, any Contribution intentionally submitted for\n		inclusion in the Work by You to the Licensor shall be under the terms and\n		conditions of this License, without any additional terms or conditions.\n		Notwithstanding the above, nothing herein shall supersede or modify the\n		terms of any separate license agreement you may have executed with Licensor\n		regarding such Contributions.</p>\n	<p><strong><a name="trademarks">6. Trademarks</a></strong>. This License does not grant\n		permission to use the trade names, trademarks, service marks, or product\n		names of the Licensor, except as required for reasonable and customary use\n		in describing the origin of the Work and reproducing the content of the\n		NOTICE file.</p>\n	<p><strong><a name="no-warranty">7. Disclaimer of Warranty</a></strong>. Unless required by\n		applicable law or agreed to in writing, Licensor provides the Work (and\n		each Contributor provides its Contributions) on an "AS IS" BASIS, WITHOUT\n		WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied, including,\n		without limitation, any warranties or conditions of TITLE,\n		NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. You\n		are solely responsible for determining the appropriateness of using or\n		redistributing the Work and assume any risks associated with Your exercise\n		of permissions under this License.</p>\n	<p><strong><a name="no-liability">8. Limitation of Liability</a></strong>. In no event and\n		under no legal theory, whether in tort (including negligence), contract, or\n		otherwise, unless required by applicable law (such as deliberate and\n		grossly negligent acts) or agreed to in writing, shall any Contributor be\n		liable to You for damages, including any direct, indirect, special,\n		incidental, or consequential damages of any character arising as a result\n		of this License or out of the use or inability to use the Work (including\n		but not limited to damages for loss of goodwill, work stoppage, computer\n		failure or malfunction, or any and all other commercial damages or losses),\n		even if such Contributor has been advised of the possibility of such\n		damages.</p>\n	<p><strong><a name="additional">9. Accepting Warranty or Additional Liability</a></strong>.\n		While redistributing the Work or Derivative Works thereof, You may choose\n		to offer, and charge a fee for, acceptance of support, warranty, indemnity,\n		or other liability obligations and/or rights consistent with this License.\n		However, in accepting such obligations, You may act only on Your own behalf\n		and on Your sole responsibility, not on behalf of any other Contributor,\n		and only if You agree to indemnify, defend, and hold each Contributor\n		harmless for any liability incurred by, or claims asserted against, such\n		Contributor by reason of your accepting any such warranty or additional\n		liability.</p>\n	<h3>END OF TERMS AND CONDITIONS</h3>\n	<h3 id="apply">APPENDIX: How to apply the Apache License to your work</h3>\n	<p>To apply the Apache License to your work, attach the following boilerplate\n		notice, with the fields enclosed by brackets "[]" replaced with your own\n		identifying information. (Don\'t include the brackets!) The text should be\n		enclosed in the appropriate comment syntax for the file format. We also\n		recommend that a file or class name and description of purpose be included\n		on the same "printed page" as the copyright notice for easier\n		identification within third-party archives.</p>\n	<div class="codehilite"><pre>Copyright [yyyy] [name of copyright owner]\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n</pre></div>\n'}),n("text!platform/commonUI/about/res/templates/license-mit.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>\n<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>\n<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>\n'}),n("text!platform/commonUI/about/res/templates/licenses.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="LicenseController as lc" class="abs l-standalone s-text l-about l-licenses s-about s-licenses">\n	<h1>OpenMCT Web Licenses</h1>\n	<h2>Apache License</h2>\n	<mct-include key="\'license-apache\'"></mct-include>\n\n	<h2>Software Components Licenses</h2>\n    <p>This software includes components released under the following licenses:</p>\n	<div class="l-licenses-software">\n		<div class="l-license-software" ng-repeat="license in lc.licenses()">\n			<h3><a target="_blank" ng-href="{{license.website}}">{{license.name}}</a></h3>\n			<p>\n				<em>Version</em> {{license.version}}\n				<em>&nbsp;|&nbsp;Author<span ng-show="license.author.indexOf(\',\') > 0">s</span></em> {{license.author}}\n				<em>&nbsp;|&nbsp;Description</em> {{license.description}}\n			</p>\n			<em>License</em>\n			<div class="s-license-text">\n				<p ng-show="license.copyright.length > 0">{{license.copyright}}</p>\n				<mct-include key="license.license"></mct-include>\n			</div>\n		</div>\n	</div>\n</div>\n'}),n("text!platform/commonUI/about/res/templates/licenses-export-md.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="LicenseController as lc" class="abs l-about l-standalone s-text s-md-export">\n    <h1># Open MCT Licenses</h1>\n    <h2>## Apache License</h2>\n    <mct-include key="\'license-apache\'"></mct-include>\n\n    <h2>## Software Components Licenses</h2>\n    <p>This software includes components released under the following licenses:</p>\n    <div class="l-license-software" ng-repeat="license in lc.licenses()">\n        <p>### {{license.name}}</p>\n        <p>#### Info</p>\n        <p>* Link: {{license.website}}</p>\n        <p>* Version: {{license.version}}</p>\n        <p>* Author<span ng-show="license.author.indexOf(\',\') > 0">s</span>: {{license.author}}</p>\n        <p>* Description: {{license.description}}</p>\n        <p>#### License</p>\n        <p ng-show="license.copyright.length > 0">{{license.copyright}}</p>\n        <mct-include key="license.license"></mct-include>\n        <p>&nbsp;</p>\n        <p>---</p>\n    </div>\n</div>\n'}),n("platform/commonUI/about/bundle",["text!./res/templates/about-dialog.html","./src/LogoController","./src/AboutController","./src/LicenseController","text!./res/templates/app-logo.html","text!./res/templates/about-logo.html","text!./res/templates/overlay-about.html","text!./res/templates/license-apache.html","text!./res/templates/license-mit.html","text!./res/templates/licenses.html","text!./res/templates/licenses-export-md.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d){d.register("platform/commonUI/about",{name:"About Open MCT",extensions:{templates:[{key:"app-logo",priority:"optional",template:r},{key:"about-logo",priority:"preferred",template:o},{key:"about-dialog",template:e},{key:"overlay-about",template:s},{key:"license-apache",template:a},{key:"license-mit",template:c}],controllers:[{key:"LogoController",depends:["overlayService"],implementation:t},{key:"AboutController",depends:["versions[]","$window"],implementation:n},{key:"LicenseController",depends:["licenses[]"],implementation:i}],licenses:[{name:"Json.NET",version:"6.0.8",author:"Newtonsoft",description:"JSON serialization/deserialization",website:"http://www.newtonsoft.com/json",copyright:"Copyright (c) 2007 James Newton-King",license:"license-mit",link:"https://github.com/JamesNK/Newtonsoft.Json/blob/master/LICENSE.md"},{name:"Nancy",version:"0.23.2",author:"Andreas Håkansson, Steven Robbins and contributors",description:"Embedded web server",website:"http://nancyfx.org/",copyright:"Copyright © 2010 Andreas Håkansson, Steven Robbins and contributors",license:"license-mit",link:"http://www.opensource.org/licenses/mit-license.php"},{name:"Nancy.Hosting.Self",version:"0.23.2",author:"Andreas Håkansson, Steven Robbins and contributors",description:"Embedded web server",website:"http://nancyfx.org/",copyright:"Copyright © 2010 Andreas Håkansson, Steven Robbins and contributors",license:"license-mit",link:"http://www.opensource.org/licenses/mit-license.php"},{name:"SuperSocket",version:"0.9.0.2",author:" Kerry Jiang",description:"Supports SuperWebSocket",website:"https://supersocket.codeplex.com/",copyright:"Copyright 2010-2014 Kerry Jiang (kerry-jiang@hotmail.com)",license:"license-apache",link:"https://supersocket.codeplex.com/license"},{name:"SuperWebSocket",version:"0.9.0.2",author:" Kerry Jiang",description:"WebSocket implementation for client-server communication",website:"https://superwebsocket.codeplex.com/",copyright:"Copyright 2010-2014 Kerry Jiang (kerry-jiang@hotmail.com)",license:"license-apache",link:"https://superwebsocket.codeplex.com/license"},{name:"log4net",version:"2.0.3",author:"Apache Software Foundation",description:"Logging",website:"http://logging.apache.org/log4net/",copyright:"Copyright © 2004-2015 Apache Software Foundation.",license:"license-apache",link:"http://logging.apache.org/log4net/license.html"}],routes:[{when:"/licenses",template:l},{when:"/licenses-md",template:u}]}})}),n("platform/commonUI/browse/src/BrowseController",[],function(){function e(e,t,n,i,r,o,s){function a(e){return o.urlForLocation("",e).replace("/","")}function c(e,t){var n;for(n=0;n<e.length;n+=1)if(e[n].getId()===t)return e[n]}function l(e){return i.getObjects([e]).then(function(t){return t[e]})}function u(e,t){var n=t.shift();return n?e.useCapability("composition").then(function(i){var r=c(i,n);return r?r.hasCapability("composition")?u(r,t):r:e}):e}function d(i){e.navigatedObject=i,e.treeModel.selectedObject=i,m=a(i),t.current.pathParams.ids=m,n.path("/browse/"+m)}function p(e){return"ROOT"!==e.getId()?e:e.useCapability("composition").then(function(e){return e[e.length-1]})}function f(e){return l("ROOT").then(function(t){return u(t,e)}).then(p).then(function(e){r.setNavigation(e)})}function h(e){var t=a(e);m!==t&&(m=t,d(e))}var m,g=(t.current.params.ids||s).split("/");e.treeModel={selectedObject:void 0,onSelection:function(e){r.setNavigation(e,!0)},allowSelection:function(e){return r.shouldNavigate()}},l("ROOT").then(function(t){e.domainObject=t,f(g)}),r.addListener(h),e.$on("$routeChangeStart",function(e,n){n.$$route===t.current.$$route&&(n.pathParams.ids&&n.pathParams.ids!==t.current.pathParams.ids?(e.preventDefault(),f(n.pathParams.ids.split("/"))):f([]))}),e.$on("$destroy",function(){r.removeListener(h)})}return e}),n("platform/commonUI/browse/src/PaneController",[],function(){function e(e,t,n){var i=this;this.agentService=t,this.state=!n.opener,this.callback=function(){t.isPhone()&&t.isPortrait()&&(i.state=!1)}}return e.prototype.toggle=function(){this.state=!this.state},e.prototype.visible=function(){return this.state},e}),n("platform/commonUI/browse/src/InspectorPaneController",["./PaneController"],function(e){function t(t,n,i,r){function o(e){-1===e.indexOf("editing")||c.visible()||c.toggle()}function s(e){return a&&a(),e.hasCapability("status")&&(a=e.getCapability("status").listen(o)),a}e.call(this,t,n,i);var a,c=this,l=r.getNavigation();l&&s(l),r.addListener(s),t.$on("$destroy",function(){a(),r.removeListener(s)})}return t.prototype=Object.create(e.prototype),t}),n("platform/commonUI/browse/src/BrowseObjectController",[],function(){function e(e,t,n){function i(n){function i(t){t.key===r&&(e.representation=e.representation||{},e.representation.selected=t)}var r=t.search().view;r&&(n&&n.useCapability("view")||[]).forEach(i),o=n}function r(e){e&&t.search().view!==e&&t.search("view",e)}var o;e.$watch("domainObject",i),e.$watch("representation.selected.key",r),e.$on("$locationChangeSuccess",function(){i(e.domainObject)}),e.doAction=function(t){return e[t]&&e[t]()}}return e}),n("platform/commonUI/browse/src/MenuArrowController",[],function(){function e(e){this.$scope=e}return e.prototype.showMenu=function(e){var t={key:"menu",domainObject:this.$scope.domainObject,event:e};this.$scope.domainObject.getCapability("action").perform(t)},e}),n("platform/commonUI/browse/src/navigation/NavigationService",[],function(){function e(e){this.navigated=void 0,this.callbacks=[],this.checks=[],this.$window=e,this.oldUnload=e.onbeforeunload,e.onbeforeunload=this.onBeforeUnload.bind(this)}return e.prototype.getNavigation=function(){return this.navigated},e.prototype.setNavigation=function(e,t){if(t)return this.doNavigation(e),!0;if(this.navigated===e)return!0;var n=this.shouldWarnBeforeNavigate();return n&&!this.$window.confirm(n)?!1:(this.doNavigation(e),!0)},e.prototype.addListener=function(e){this.callbacks.push(e)},e.prototype.removeListener=function(e){this.callbacks=this.callbacks.filter(function(t){return t!==e})},e.prototype.shouldNavigate=function(){var e=this.shouldWarnBeforeNavigate();return!e||this.$window.confirm(e)},e.prototype.checkBeforeNavigation=function(e){return this.checks.push(e),function(){this.checks=this.checks.filter(function(t){return e!==t})}.bind(this)},e.prototype.doNavigation=function(e){this.navigated=e,this.callbacks.forEach(function(t){t(e)})},e.prototype.shouldWarnBeforeNavigate=function(){var e=[];return this.checks.forEach(function(t){var n=t();n&&e.push(n)}),e.length?e.join("\n"):!1},e.prototype.onBeforeUnload=function(){var e=this.shouldWarnBeforeNavigate();return e?e:this.oldUnload?this.oldUnload.apply(void 0,[].slice.apply(arguments)):void 0},e}),n("platform/commonUI/browse/src/navigation/NavigateAction",[],function(){function e(e,t){this.domainObject=t.domainObject,this.navigationService=e}return e.prototype.perform=function(){return this.navigationService.shouldNavigate()?(this.navigationService.setNavigation(this.domainObject,!0),Promise.resolve({})):Promise.reject("Navigation Prevented by User")},e.appliesTo=function(e){return void 0!==e.domainObject},e}),n("platform/commonUI/browse/src/navigation/OrphanNavigationHandler",[],function(){function e(e,t,n){function i(e){var t=e.getCapability("context");return t.getParent()}function r(e){var t=i(e);t.useCapability("composition").then(function(n){var i=n.every(function(t){return t.getId()!==e.getId()});i&&t.getCapability("action").perform("navigate")})}function o(){var e=n.getNavigation();e.hasCapability("context")&&(e.getCapability("editor").isEditContextRoot()||r(e))}var s;s=e(o),n.addListener(s),t("mutation").listen(s)}return e}),n("platform/commonUI/browse/src/windowing/NewTabAction",[],function(){function e(e,t,n){n=n||{},this.urlService=e,this.open=function(){t.open.apply(t,arguments)},this.domainObject=n.selectedObject||n.domainObject}return e.prototype.perform=function(){this.open(this.urlService.urlForNewTab("browse",this.domainObject),"_blank")},e}),function(e){n("screenfull",[],function(){return function(){return!function(){"use strict";var e="undefined"!=typeof module&&module.exports,t="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,n=function(){
for(var e,t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,r=n.length,o={};r>i;i++)if(e=n[i],e&&e[1]in document){for(i=0,t=e.length;t>i;i++)o[n[0][i]]=e[i];return o}return!1}(),i={request:function(e){var i=n.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[i]():e[i](t&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[n.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:n};return n?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(document[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[n.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[n.fullscreenEnabled])}}}),void(e?module.exports=i:window.screenfull=i)):void(e?module.exports=!1:window.screenfull=!1)}(),e.screenfull=screenfull}.apply(e,arguments)})}(this),n("platform/commonUI/browse/src/windowing/FullscreenAction",["screenfull"],function(e){function t(e){this.context=e}var n="Enter full screen mode",i="Exit full screen mode";return t.prototype.perform=function(){e.toggle()},t.prototype.getMetadata=function(){var r=Object.create(t);return r.cssClass=e.isFullscreen?"icon-fullscreen-expand":"icon-fullscreen-collapse",r.description=e.isFullscreen?i:n,r.group="windowing",r.context=this.context,r},t}),n("platform/commonUI/browse/src/windowing/WindowTitler",[],function(){function e(e,t,n){function i(){var t=e.getNavigation();return t&&t.getModel().name}function r(e){n[0].title=e}t.$watch(i,r)}return e}),n("text!platform/commonUI/browse/res/templates/browse.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n\n<div class="abs holder-all" ng-controller="BrowseController">\n    <mct-include key="\'topbar-browse\'"></mct-include>\n    <div class="abs holder holder-main browse-area s-browse-area browse-wrapper"\n         ng-controller="PaneController as modelPaneTree"\n         ng-class="modelPaneTree.visible() ? \'pane-tree-showing\' : \'pane-tree-hidden\'">\n        <mct-split-pane class=\'abs contents\'\n                        anchor=\'left\'>\n            <div class=\'split-pane-component treeview pane left\'>\n                <div class="abs holder l-flex-col holder-treeview-elements">\n                    <mct-representation key="\'create-button\'"\n                                        mct-object="navigatedObject"\n                                        class="holder flex-elem create-button-holder">\n                    </mct-representation>\n                    <mct-include key="\'search\'"\n                                 ng-model="treeModel"\n                                 class="holder l-flex-col flex-elem search-holder"\n                                 ng-class="{ active: treeModel.search, grows: treeModel.search }">\n                    </mct-include>\n                    <mct-representation key="\'tree\'"\n                                        mct-object="domainObject"\n                                        parameters="tree"\n                                        ng-model="treeModel"\n                                        class="holder flex-elem grows vscroll tree-holder"\n                                        ng-hide="treeModel.search">\n                    </mct-representation>\n                </div>\n            </div>\n\n            <mct-splitter class="splitter-treeview mobile-hide"></mct-splitter>\n\n            <div class=\'split-pane-component items pane primary-pane right\'>\n                <a class="mini-tab-icon anchor-left toggle-pane toggle-tree"\n                   title="{{ modelPaneTree.visible()? \'Hide\' : \'Show\' }} this pane"\n                   ng-click="modelPaneTree.toggle()"\n                   ng-class="{ collapsed : !modelPaneTree.visible() }"></a>\n\n                <div class=\'holder holder-object-and-inspector abs\' id=\'content-area\'\n                     ng-controller="InspectorPaneController as modelPaneInspect"\n                     ng-class="modelPaneInspect.visible() ? \'pane-inspect-showing\' : \'pane-inspect-hidden\'">\n\n                    <mct-split-pane class=\'l-object-and-inspector contents abs\' anchor=\'right\'>\n                        <div class=\'split-pane-component t-object pane primary-pane left\'>\n                            <mct-representation mct-object="navigatedObject"\n                                                key="navigatedObject.getCapability(\'status\').get(\'editing\') ? \'edit-object\' : \'browse-object\'"\n                                                class="abs holder holder-object">\n                            </mct-representation>\n                            <a class="mini-tab-icon anchor-right mobile-hide toggle-pane toggle-inspect flush-right"\n                               title="{{ modelPaneInspect.visible()? \'Hide\' : \'Show\' }} the Inspection pane"\n                               ng-click="modelPaneInspect.toggle()"\n                               ng-class="{ collapsed : !modelPaneInspect.visible() }"></a>\n                        </div>\n\n                        <mct-splitter class="splitter-inspect mobile-hide flush-right edge-shdw"></mct-splitter>\n\n                        <div class="split-pane-component t-inspect pane right mobile-hide">\n                            <mct-representation key="\'object-inspector\'"\n                                                mct-object="navigatedObject"\n                                                ng-model="treeModel">\n                            </mct-representation>\n                        </div>\n                    </mct-split-pane>\n                </div>\n            </div>\n        </mct-split-pane>\n    </div>\n    <mct-include key="\'bottombar\'"></mct-include>\n</div>\n\n'}),n("text!platform/commonUI/browse/res/templates/browse-object.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="BrowseObjectController" class="abs l-flex-col">\n    <div class="holder flex-elem l-flex-row object-browse-bar t-primary">\n        <div class="items-select left flex-elem l-flex-row grows">\n            <mct-representation key="\'back-arrow\'"\n                                mct-object="domainObject"\n                                class="flex-elem l-back"></mct-representation>\n            <mct-representation key="\'object-header\'"\n                                mct-object="domainObject"\n                                class="l-flex-row flex-elem grows object-header">\n            </mct-representation>\n        </div>\n        <div class="btn-bar right l-flex-row flex-elem flex-justify-end flex-fixed">\n            <span class="l-object-action-buttons">\n                <mct-representation key="\'switcher\'"\n                                    mct-object="domainObject"\n                                    ng-model="representation">\n                </mct-representation>\n                <!-- Temporarily, on mobile, the action buttons are hidden-->\n                <mct-representation key="\'action-group\'"\n                                    mct-object="domainObject"\n                                    parameters="{ category: \'view-control\' }"\n                                    class="mobile-hide l-object-action-buttons">\n                </mct-representation>\n            </span>\n        </div>\n    </div>\n    <div class="holder l-flex-col flex-elem grows l-object-wrapper l-controls-visible l-time-controller-visible">\n        <div class="holder l-flex-col flex-elem grows l-object-wrapper-inner">\n            <!-- Toolbar and Save/Cancel buttons -->\n            <div class="l-edit-controls flex-elem l-flex-row flex-align-end">\n                <mct-representation key="\'edit-action-buttons\'"\n                                    mct-object="domainObject"\n                                    class=\'flex-elem conclude-editing\'>\n                </mct-representation>\n\n            </div>\n            <mct-representation key="representation.selected.key"\n                                mct-object="representation.selected.key && domainObject"\n                                class="abs flex-elem grows object-holder-main scroll">\n            </mct-representation>\n        </div>\n    </div>\n    <mct-include key="\'conductor\'" class="abs holder flex-elem flex-fixed l-flex-row l-time-conductor-holder"></mct-include>\n</div>\n'}),n("text!platform/commonUI/browse/res/templates/items/grid-item.html",[],function(){return"<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n \"License\"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<!-- For selected, add class 'selected' to outer div -->\n<div class='item grid-item' ng-click='action.perform(\"navigate\")'>\n    <div class='contents abs'>\n        <div class='top-bar bar abs'>\n            <span class='icon-people' title='Shared'></span>\n            <mct-representation class=\"desktop-hide\" key=\"'info-button'\" mct-object=\"domainObject\"></mct-representation>\n        </div>\n        <div class='item-main abs lg'>\n            <span class=\"t-item-icon\" ng-class=\"{ 'l-icon-link':location.isLink() }\">\n                <span class=\"t-item-icon-glyph ng-binding {{type.getCssClass()}}\"></span>\n            </span>\n            <div class='abs item-open icon-pointer-right'></div>\n        </div>\n        <div class='bottom-bar bar abs'>\n            <div class='title'>{{model.name}}</div>\n            <div class='details'>\n                <span>{{type.getName()}}</span>\n                <span ng-show=\"model.composition !== undefined\">\n                    - {{model.composition.length}} Item<span ng-show=\"model.composition.length > 1\">s</span>\n                </span>\n            </div>\n        </div>\n    </div>\n</div>\n"}),n("text!platform/commonUI/browse/res/templates/browse/object-header.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span class=\'type-icon flex-elem {{type.getCssClass()}}\'></span>\n<span class="l-elem-wrapper l-flex-row flex-elem grows">\n    <span ng-if="parameters.mode" class=\'action flex-elem\'>{{parameters.mode}}</span>\n    <span class=\'title-label flex-elem holder flex-can-shrink\'>{{model.name}}</span>\n    <span class=\'t-object-alert t-alert-unsynced flex-elem holder\' title=\'This object is not currently displaying real-time data\'></span>\n    <mct-representation\n        key="\'menu-arrow\'"\n        mct-object=\'domainObject\'\n        class="flex-elem context-available-w"></mct-representation>\n</span>\n<a class="s-button icon-expand t-btn-view-large"\n   title="View large"\n   mct-trigger-modal>\n</a>\n'}),n("text!platform/commonUI/browse/res/templates/menu-arrow.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n\n<span ng-controller="MenuArrowController as menuArrow">\n    <a class=\'context-available\'\n       ng-click=\'menuArrow.showMenu($event)\'></a>\n</span>\n'}),n("text!platform/commonUI/browse/res/templates/back-arrow.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n\n<a class=\'s-icon-button icon-pointer-left\'\n   ng-show="context.getPath().length > 2"\n   ng-click="context.getParent().getCapability(\'action\').perform(\'navigate\')">\n</a>\n\n'}),n("text!platform/commonUI/browse/res/templates/items/items.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class=\'items-holder grid abs\'>\n    <mct-representation key="\'grid-item\'"\n                        ng-repeat="childObject in composition"\n                        mct-object="childObject">\n    </mct-representation>\n</div>\n'}),n("text!platform/commonUI/browse/res/templates/browse/object-properties.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="ObjectInspectorController as controller">\n    <ul class="flex-elem grows l-inspector-part">\n        <li>\n            <em class="t-inspector-part-header">Properties</em>\n            <div class="inspector-properties"\n                 ng-repeat="data in metadata"\n                 ng-class="{ first:$index === 0 }">\n                <div class="label">{{ data.name }}</div>\n                <div class="value">{{ data.value }}</div>\n            </div>\n        </li>\n        <li ng-if="contextutalParents.length > 0">\n            <em class="t-inspector-part-header" title="The location of this linked object.">Location</em>\n            <div ng-if="primaryParents.length > 0" class="section-header">This Object</div>\n            <span class="inspector-location"\n                  ng-repeat="parent in contextutalParents"\n                  ng-class="{ last:($index + 1) === contextualParents.length }">\n                <mct-representation key="\'label\'"\n                                    mct-object="parent"\n                                    ng-model="ngModel"\n                                    ng-click="ngModel.selectedObject = parent"\n                                    class="location-item">\n                </mct-representation>\n            </span>\n        </li>\n        <li ng-if="primaryParents.length > 0">\n            <div class="section-header">Object\'s Original</div>\n            <span class="inspector-location"\n                  ng-repeat="parent in primaryParents"\n                  ng-class="{ last:($index + 1) === primaryParents.length }">\n                <mct-representation key="\'label\'"\n                                    mct-object="parent"\n                                    ng-model="ngModel"\n                                    ng-click="ngModel.selectedObject = parent"\n                                    class="location-item">\n                </mct-representation>\n            </span>\n        </li>\n    </ul>\n</div>\n'}),n("text!platform/commonUI/browse/res/templates/browse/inspector-region.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="InspectorController">\n    <div ng-repeat="region in regions">\n        <mct-representation\n                key="region.content.key"\n                mct-object="domainObject"\n                ng-model="ngModel">\n        </mct-representation>\n    </div>\n</div>\n'}),n("platform/commonUI/browse/bundle",["./src/BrowseController","./src/PaneController","./src/InspectorPaneController","./src/BrowseObjectController","./src/MenuArrowController","./src/navigation/NavigationService","./src/navigation/NavigateAction","./src/navigation/OrphanNavigationHandler","./src/windowing/NewTabAction","./src/windowing/FullscreenAction","./src/windowing/WindowTitler","text!./res/templates/browse.html","text!./res/templates/browse-object.html","text!./res/templates/items/grid-item.html","text!./res/templates/browse/object-header.html","text!./res/templates/menu-arrow.html","text!./res/templates/back-arrow.html","text!./res/templates/items/items.html","text!./res/templates/browse/object-properties.html","text!./res/templates/browse/inspector-region.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,h,m,g,y,v,b,w){w.register("platform/commonUI/browse",{extensions:{routes:[{when:"/browse/:ids*?",template:d,reloadOnSearch:!1},{when:"",redirectTo:"/browse/"}],constants:[{key:"DEFAULT_PATH",value:"mine",priority:"fallback"}],controllers:[{key:"BrowseController",implementation:e,depends:["$scope","$route","$location","objectService","navigationService","urlService","DEFAULT_PATH"]},{key:"PaneController",implementation:t,priority:"preferred",depends:["$scope","agentService","$window"]},{key:"BrowseObjectController",implementation:i,depends:["$scope","$location","$route"]},{key:"MenuArrowController",implementation:r,depends:["$scope"]},{key:"InspectorPaneController",implementation:n,priority:"preferred",depends:["$scope","agentService","$window","navigationService"]}],representations:[{key:"browse-object",template:p,gestures:["drop"],uses:["view"]},{key:"grid-item",template:f,uses:["type","action","location"],gestures:["info","menu"]},{key:"object-header",template:h,uses:["type"]},{key:"menu-arrow",template:m,uses:["action"],gestures:["menu"]},{key:"back-arrow",uses:["context"],template:g},{key:"object-properties",template:v},{key:"inspector-region",template:b}],services:[{key:"navigationService",implementation:o,depends:["$window"]}],actions:[{key:"navigate",implementation:s,depends:["navigationService"]},{key:"window",name:"Open In New Tab",implementation:c,description:"Open in a new browser tab",category:["view-control","contextual"],depends:["urlService","$window"],group:"windowing",cssClass:"icon-new-window",priority:"preferred"},{key:"fullscreen",implementation:l,category:"view-control",group:"windowing",priority:"default"}],views:[{key:"items",name:"Items",cssClass:"icon-thumbs-strip",description:"Grid of available items",template:y,uses:["composition"],gestures:["drop"],type:"folder",editable:!1}],runs:[{implementation:u,depends:["navigationService","$rootScope","$document"]},{implementation:a,depends:["throttle","topic","navigationService"]}],licenses:[{name:"screenfull.js",version:"1.2.0",description:"Wrapper for cross-browser usage of fullscreen API",author:"Sindre Sorhus",website:"https://github.com/sindresorhus/screenfull.js/",copyright:"Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)",license:"license-mit",link:"https://github.com/sindresorhus/screenfull.js/blob/gh-pages/license"}]}})}),n("platform/commonUI/dialog/src/DialogService",[],function(){function e(e,t,n,i){this.overlayService=e,this.$q=t,this.$log=n,this.activeOverlay=void 0,this.findBody=function(){return i.find("body")}}return e.prototype.dismissOverlay=function(e){e.dismiss(),e===this.activeOverlay&&(this.activeOverlay=void 0)},e.prototype.getDialogResponse=function(e,t,n,i){function r(e){c.resolve(n?n():e),l.dismissOverlay(s)}function o(){c.reject(),l.findBody().off("keydown",a),l.dismissOverlay(s)}var s,a,c=this.$q.defer(),l=this;return a=function(e){27===e.keyCode&&o()},t.confirm=r,t.cancel=o,this.findBody().on("keydown",a),this.canShowDialog(t)?s=this.activeOverlay=this.overlayService.createOverlay(e,t,i||"t-dialog"):c.reject(),c.promise},e.prototype.getUserInput=function(e,t){function n(){return i.value}var i={title:e.name,message:e.message,structure:e,value:t};return this.getDialogResponse("overlay-dialog",i,n)},e.prototype.getUserChoice=function(e){return this.getDialogResponse("overlay-options",{dialog:e})},e.prototype.canShowDialog=function(e){return this.activeOverlay?(this.$log.warn(["Dialog already showing; ","unable to show ",e.title].join("")),!1):!0},e.prototype.showBlockingMessage=function(e){if(this.canShowDialog(e)){var t=this,n=this.overlayService.createOverlay("overlay-blocking-message",e,"t-dialog-sm");return this.activeOverlay=n,{dismiss:function(){t.dismissOverlay(n)}}}return!1},e}),n("platform/commonUI/dialog/src/OverlayService",[],function(){function e(e,t,n){this.$compile=t,this.findBody=function(){return e.find("body")},this.newScope=function(){return n.$new()}}var t='<mct-include ng-model="overlay" key="key" ng-class="typeClass"></mct-include>';return e.prototype.createOverlay=function(e,n,i){function r(){s.$destroy(),o.remove()}var o,s=this.newScope();return n=n||{cancel:r},s.overlay=n,s.key=e,s.typeClass=i||"t-dialog",o=this.$compile(t)(s),this.findBody().prepend(o),{dismiss:r}},e}),n("text!platform/commonUI/dialog/res/templates/overlay-dialog.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<mct-container key="overlay">\n    <mct-include key="\'form-dialog\'" ng-model="ngModel">\n    </mct-include>\n</mct-container>\n'}),n("text!platform/commonUI/dialog/res/templates/overlay-options.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<mct-container key="overlay">\n    <div class="abs top-bar">\n        <div class="title">{{ngModel.dialog.title}}</div>\n        <div class="hint">{{ngModel.dialog.hint}}</div>\n    </div>\n    <div class=\'abs editor\'>\n        <mct-include key="ngModel.dialog.template"\n                     parameters="ngModel.dialog.parameters"\n                     ng-model="ngModel.dialog.model">\n        </mct-include>\n    </div>\n    <div class="abs bottom-bar">\n        <a ng-repeat="option in ngModel.dialog.options"\n           href=\'\'\n           class="s-button lg"\n           title="{{option.description}}"\n           ng-click="ngModel.confirm(option.key)"\n           ng-class="{ major: $first, subtle: !$first }">\n            {{option.name}}\n        </a>\n    </div>\n</mct-container>\n'}),n("text!platform/commonUI/dialog/res/templates/dialog.html",[],function(){
return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="abs top-bar">\n    <div class="title">{{ngModel.title}}</div>\n    <div class="hint">All fields marked <span class="req icon-asterisk"></span> are required.</div>\n</div>\n<div class=\'abs editor\'>\n    <mct-form ng-model="ngModel.value"\n              structure="ngModel.structure"\n              class="validates"\n              name="createForm">\n    </mct-form>\n</div>\n<div class="abs bottom-bar">\n    <a class=\'s-button major\'\n       ng-class="{ disabled: !createForm.$valid }"\n       ng-click="ngModel.confirm()">\n        OK\n    </a>\n    <a class=\'s-button\'\n       ng-click="ngModel.cancel()">\n        Cancel\n    </a>\n</div>\n'}),n("text!platform/commonUI/dialog/res/templates/overlay-blocking-message.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<mct-container key="overlay" class="t-message-single">\n    <mct-include key="\'message\'" ng-model="ngModel">\n    </mct-include>\n</mct-container>\n'}),n("text!platform/commonUI/dialog/res/templates/message.html",[],function(){return'<div class="l-message"\n     ng-class="\'message-severity-\' + ngModel.severity">\n    <div class="ui-symbol type-icon message-type"></div>\n    <div class="message-contents">\n        <div class="top-bar">\n            <div class="title">{{ngModel.title}}</div>\n            <div class="hint" ng-hide="ngModel.hint === undefined">{{ngModel.hint}}</div>\n        </div>\n        <div class="message-body">\n            <div class="message-action">\n                {{ngModel.actionText}}\n            </div>\n            <mct-include key="\'progress-bar\'"\n                         ng-model="ngModel"\n                         ng-show="ngModel.progress !== undefined || ngModel.unknownProgress"></mct-include>\n        </div>\n        <div class="bottom-bar">\n            <a ng-repeat="dialogOption in ngModel.options"\n               class="s-button"\n               ng-click="dialogOption.callback()">\n                {{dialogOption.label}}\n            </a>\n            <a class="s-button major"\n               ng-if="ngModel.primaryOption"\n               ng-click="ngModel.primaryOption.callback()">\n                {{ngModel.primaryOption.label}}\n            </a>\n\n        </div>\n\n    </div>\n</div>\n'}),n("text!platform/commonUI/dialog/res/templates/overlay-message-list.html",[],function(){return'<mct-container key="overlay" class="t-message-list">\n    <div class="message-contents">\n        <div class="abs top-bar">\n            <div class="title">{{ngModel.dialog.title}}</div>\n            <div class="hint">Displaying {{ngModel.dialog.messages.length}} message<span ng-show="ngModel.dialog.messages.length > 1 ||\n                                                                                                  ngModel.dialog.messages.length == 0">s</span>\n            </div>\n        </div>\n        <div class="abs message-body">\n            <mct-include\n                    ng-repeat="msg in ngModel.dialog.messages | orderBy: \'-\'"\n                    key="\'message\'" ng-model="msg.model"></mct-include>\n        </div>\n        <div class="abs bottom-bar">\n            <a ng-repeat="dialogAction in ngModel.dialog.actions"\n               class="s-button major"\n               ng-click="dialogAction.action()">\n                {{dialogAction.label}}\n            </a>\n        </div>\n    </div>\n</mct-container>\n'}),n("text!platform/commonUI/dialog/res/templates/overlay.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="abs overlay l-dialog" ng-class="{\'delayEntry100ms\' : ngModel.delay}">\n    <div class="abs blocker"></div>\n    <div class="abs outer-holder">\n        <a ng-click="ngModel.cancel()"\n           ng-if="ngModel.cancel"\n           class="close icon-x-in-circle"></a>\n        <div class="abs inner-holder contents" ng-transclude></div>\n    </div>\n</div>\n'}),n("platform/commonUI/dialog/bundle",["./src/DialogService","./src/OverlayService","text!./res/templates/overlay-dialog.html","text!./res/templates/overlay-options.html","text!./res/templates/dialog.html","text!./res/templates/overlay-blocking-message.html","text!./res/templates/message.html","text!./res/templates/overlay-message-list.html","text!./res/templates/overlay.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l){l.register("platform/commonUI/dialog",{extensions:{services:[{key:"dialogService",implementation:e,depends:["overlayService","$q","$log","$document"]},{key:"overlayService",implementation:t,depends:["$document","$compile","$rootScope"]}],templates:[{key:"overlay-dialog",template:n},{key:"overlay-options",template:i},{key:"form-dialog",template:r},{key:"overlay-blocking-message",template:o},{key:"message",template:s},{key:"overlay-message-list",template:a}],containers:[{key:"overlay",template:c}]}})}),n("platform/commonUI/edit/src/controllers/EditActionController",[],function(){function e(e){function i(e){return{key:e,name:e.getMetadata().name,cssClass:e.getMetadata().cssClass}}function r(){e.saveActions=e.action?e.action.getActions(t):[],e.saveActionsAsMenuOptions=e.saveActions.map(i),e.saveActionMenuClickHandler=function(e){e.perform()},e.otherEditActions=e.action?e.action.getActions(n):[],e.actionPerformer=function(e){return e.perform.bind(e)}}e.$watch("action",r)}var t={category:"save"},n={category:"conclude-editing"};return e}),n("platform/commonUI/edit/src/controllers/EditPanesController",[],function(){function e(e){function t(e){var t=n.rootDomainObject,i=e&&e.getCapability("context"),r=i&&i.getTrueRoot(),o=t&&t.getId(),s=r&&r.getId();o!==s&&(n.rootDomainObject=r)}var n=this;e.$watch("domainObject",t)}return e.prototype.getRoot=function(){return this.rootDomainObject},e}),n("platform/commonUI/edit/src/controllers/ElementsController",[],function(){function e(e){function t(t){return"undefined"==typeof t?e.searchText:void(e.searchText=t)}function n(t){return e.searchText?-1!==t.getModel().name.toLowerCase().search(e.searchText.toLowerCase()):!0}e.filterBy=t,e.searchElements=n}return e}),n("platform/commonUI/edit/src/controllers/EditObjectController",[],function(){function e(e){var t=e,n=t&&t.getCapability("editor");return n&&n.isEditContextRoot()&&n.dirty()}function t(e){var t=e,n=t&&t.getCapability("editor");return n&&n.finish()}function n(n,i,r){function o(){function e(e){e.key===t&&(n.representation=n.representation||{},n.representation.selected=e)}var t=i.search().view;t&&(s&&s.useCapability("view")||[]).forEach(e)}this.scope=n;var s=n.domainObject,a=r.checkBeforeNavigation(function(){return e(s)?"Continuing will cause the loss of any unsaved changes.":!1});n.$on("$destroy",function(){a(),t(s)}),o(),n.doAction=function(e){return n[e]&&n[e]()}}return n}),n("platform/commonUI/edit/src/actions/EditAndComposeAction",[],function(){function e(e){this.domainObject=(e||{}).domainObject,this.selectedObject=(e||{}).selectedObject}return e.prototype.perform=function(){function e(){var e=t.domainObject&&t.domainObject.getCapability("composition");return e&&e.add(t.selectedObject)}var t=this,n=this.domainObject.getCapability("action").getActions("edit")[0];return n&&n.perform(),this.selectedObject&&e()},e}),n("platform/commonUI/edit/src/actions/EditAction",[],function(){function e(e,n,i,r){var o=(r||{}).domainObject;return o?(this.domainObject=o,this.$location=e,void(this.navigationService=n)):(i.warn(["No domain object to edit; ","edit action is not valid."].join("")),t)}var t={perform:function(){}};return e.prototype.perform=function(){this.navigationService.getNavigation()!==this.domainObject&&this.navigationService.setNavigation(this.domainObject),this.domainObject.useCapability("editor")},e.appliesTo=function(e){var t=(e||{}).domainObject,n=t&&t.getCapability("type");return n&&n.hasFeature("creation")&&t.hasCapability("editor")&&!t.getCapability("editor").isEditContextRoot()},e}),n("platform/commonUI/edit/src/actions/PropertiesDialog",[],function(){function e(e,t){this.type=e,this.model=t,this.properties=e.getProperties()}return e.prototype.getFormStructure=function(){return{name:"Edit "+this.model.name,sections:[{name:"Properties",rows:this.properties.map(function(e,t){var n=Object.create(e.getDefinition());return n.key=t,n}).filter(function(e){return e.control})}]}},e.prototype.getInitialFormValue=function(){var e=this.model;return this.properties.map(function(t){return t.getValue(e)})},e.prototype.updateModel=function(e,t){this.properties.forEach(function(n,i){n.setValue(e,t[i])})},e}),n("platform/commonUI/edit/src/actions/PropertiesAction",["./PropertiesDialog"],function(e){function t(e,t){this.domainObject=(t||{}).domainObject,this.dialogService=e}return t.prototype.perform=function(){function t(e,t){return r.useCapability("mutation",function(n){t.updateModel(n,e)})}function n(n){var i=new e(n,r.getModel());return o.getUserInput(i.getFormStructure(),i.getInitialFormValue()).then(function(e){return e&&t(e,i)})}var i=this.domainObject.getCapability("type"),r=this.domainObject,o=this.dialogService;return i&&n(i)},t.appliesTo=function(e){var t=(e||{}).domainObject,n=t&&t.getCapability("type"),i=n&&n.hasFeature("creation");return t&&i},t}),n("platform/commonUI/edit/src/actions/RemoveAction",[],function(){function e(e,t){this.domainObject=(t||{}).domainObject,this.navigationService=e}return e.prototype.perform=function(){function e(e){return e!==o.getId()}function t(t){t.composition=t.composition.filter(e)}function n(e,t){for(var n,i=r.getNavigation();i;){if(i.getId()===e.getId())return void r.setNavigation(t);n=i.getCapability("context"),i=n&&n.getParent()}}function i(e){var i=e.getCapability("context"),r=i.getParent();return n(e,r),r.useCapability("mutation",t)}var r=this.navigationService,o=this.domainObject;return i(o)},e.appliesTo=function(e){var t=(e||{}).domainObject,n=t&&t.getCapability("context"),i=n&&n.getParent(),r=i&&i.getCapability("type"),o=r&&r.hasFeature("creation");return void 0!==i&&Array.isArray(i.getModel().composition)&&o},e}),n("platform/commonUI/edit/src/actions/SaveInProgressDialog",[],function(){function e(e){this.dialogService=e,this.dialog=void 0}return e.prototype.show=function(){this.dialog=this.dialogService.showBlockingMessage({title:"Saving...",hint:"Do not navigate away from this page or close this browser tab while this message is displayed.",unknownProgress:!0,severity:"info",delay:!0})},e.prototype.hide=function(){this.dialog&&this.dialog.dismiss()},e}),n("platform/commonUI/edit/src/actions/SaveAction",["./SaveInProgressDialog"],function(e){function t(e,t,n){this.domainObject=(n||{}).domainObject,this.dialogService=e,this.notificationService=t}return t.prototype.perform=function(){function t(){return o.getCapability("editor").save()}function n(){s.hide(),r.notificationService.info("Save Succeeded")}function i(){s.hide(),r.notificationService.error("Save Failed")}var r=this,o=this.domainObject,s=new e(this.dialogService);return s.show(),t().then(n)["catch"](i)},t.appliesTo=function(e){var t=(e||{}).domainObject;return void 0!==t&&t.hasCapability("editor")&&t.getCapability("editor").isEditContextRoot()&&void 0!==t.getModel().persisted},t}),n("platform/commonUI/edit/src/actions/SaveAndStopEditingAction",["./SaveAction"],function(e){function t(e,t,n){this.context=n,this.domainObject=(n||{}).domainObject,this.dialogService=e,this.notificationService=t}return t.prototype.perform=function(){function t(){return n.getCapability("editor").finish()}var n=this.domainObject,i=new e(this.dialogService,this.notificationService,this.context);return i.perform().then(t)["catch"](t)},t.appliesTo=e.appliesTo,t}),n("platform/commonUI/edit/src/creation/CreateWizard",[],function(){function e(e,t,n){this.type=e.getCapability("type"),this.model=e.getModel(),this.domainObject=e,this.properties=this.type.getProperties(),this.parent=t,this.policyService=n}return e.prototype.getFormStructure=function(e){function t(e){return e&&r.allow("composition",e,i)}var n=[],i=this.domainObject,r=this.policyService;return n.push({name:"Properties",rows:this.properties.map(function(e,t){var n=Object.create(e.getDefinition());return n.key=t,n}).filter(function(e){return e&&e.control})}),e&&n.push({name:"Location",cssClass:"grows",rows:[{name:"Save In",control:"locator",validate:t,key:"createParent"}]}),{sections:n,name:"Create a New "+this.type.getName()}},e.prototype.populateObjectFromInput=function(e){var t=this.getLocation(e),n=this.createModel(e);return n.location=t.getId(),this.domainObject.useCapability("mutation",function(){return n}),this.domainObject},e.prototype.getInitialFormValue=function(){var e=this.model,t=this.properties.map(function(t){return t.getValue(e)});return t.createParent=this.parent,t},e.prototype.getLocation=function(e){return e.createParent||this.parent},e.prototype.createModel=function(e){var t=JSON.parse(JSON.stringify(this.model));return t.type=this.type.getKey(),this.properties.forEach(function(n,i){n.setValue(t,e[i])}),t},e}),n("platform/commonUI/edit/src/actions/SaveAsAction",["../creation/CreateWizard","./SaveInProgressDialog"],function(e,t){function n(e,t,n,i,r,o){this.domainObject=(o||{}).domainObject,this.injectObjectService=function(){this.objectService=e.get("objectService")},this.policyService=t,this.dialogService=n,this.copyService=i,this.notificationService=r}function i(e){return function(){return e}}return n.prototype.createWizard=function(t){return new e(this.domainObject,t,this.policyService)},n.prototype.getObjectService=function(){return this.objectService||this.injectObjectService(),this.objectService},n.prototype.perform=function(){function e(e){return e&&e.getCapability("action").perform("navigate"),e}return this.save().then(e)},n.prototype.save=function(){function e(e){var t=m.createWizard(e);return m.dialogService.getUserInput(t.getFormStructure(!0),t.getInitialFormValue()).then(t.populateObjectFromInput.bind(t),function(e){return Promise.reject("user canceled")})}function n(e){return v.show(),e}function r(e){return v.hide(),e}function o(e){return m.getObjectService().getObjects([e]).then(function(t){return t[e]})}function s(e){return o(e.getModel().location)}function a(e){var t=e.getId()===g.getId()||e.getCapability("location").isOriginal();return t&&b.push(e),t}function c(e){return y.perform(g,e,a)}function l(e){return e.getCapability("persistence").refresh()}function u(e){return Promise.all(b.map(l)).then(i(e))}function d(e){return g.getCapability("editor").save().then(i(e))}function p(e){return g.getCapability("editor").finish().then(function(){return o(e.getId())})}function f(e){return m.notificationService.info("Save Succeeded"),e}function h(e){return r(),"user canceled"!==e&&m.notificationService.error("Save Failed"),!1}var m=this,g=this.domainObject,y=this.copyService,v=new t(this.dialogService),b=[];return s(g).then(e).then(n).then(s).then(c).then(u).then(d).then(p).then(r).then(f)["catch"](h)},n.appliesTo=function(e){var t=(e||{}).domainObject;return void 0!==t&&t.hasCapability("editor")&&t.getCapability("editor").isEditContextRoot()&&void 0===t.getModel().persisted},n}),n("platform/commonUI/edit/src/actions/CancelAction",[],function(){function e(e){this.domainObject=e.domainObject}return e.prototype.perform=function(){function e(){var e;return n.getModel().persisted?n.getCapability("action").perform("navigate"):n.getCapability("location").getOriginal().then(function(t){return e=t.getCapability("context").getParent(),e.getCapability("action").perform("navigate")})}function t(){return n.getCapability("editor").finish()}var n=this.domainObject;return e().then(t)},e.appliesTo=function(e){var t=(e||{}).domainObject;return void 0!==t&&t.hasCapability("editor")&&t.getCapability("editor").isEditContextRoot()},e}),n("platform/commonUI/edit/src/policies/EditActionPolicy",[],function(){function e(e){this.policyService=e}function t(e){var t=(e||{}).domainObject;return t&&t.hasCapability("editor")&&t.getCapability("editor").isEditContextRoot()}return e.prototype.countEditableViews=function(e){var t,n,i=e.domainObject,r=0;return i?(t=i.getCapability("type"),n=i.useCapability("view"),(n||[]).forEach(function(e){(e.editable===!0||"plot"===e.key&&"telemetry.panel"===t.getKey()||"table"===e.key&&"table"===t.getKey()||"rt-table"===e.key&&"rttable"===t.getKey())&&r++}),r):r},e.prototype.allow=function(e,n){var i=e.getMetadata().key,r=(n||{}).category;return"edit"===i?this.countEditableViews(n)>0&&!t(n):"properties"===i&&"view-control"===r?this.countEditableViews(n)<1&&!t(n):!0},e}),n("platform/commonUI/edit/src/policies/EditPersistableObjectsPolicy",["../../../../../src/api/objects/object-utils"],function(e){function t(e){this.openmct=e}return t.prototype.allow=function(t,n){var i,r,o=n.domainObject,s=t.getMetadata().key,a=(n||{}).category;return"edit"===s&&"view-control"===a||"properties"===s?(i=e.parseKeyString(o.getId()),r=this.openmct.objects.getProvider(i),void 0!==r.save):!0},t}),n("platform/commonUI/edit/src/policies/EditableLinkPolicy",[],function(){function e(){}return e.prototype.allow=function(e,t){var n,i=e.getMetadata().key;return"link"===i?(n=t.selectedObject||t.domainObject,!(n.hasCapability("editor")&&n.getCapability("editor").inEditContext())):!0},e}),n("platform/commonUI/edit/src/policies/EditableMovePolicy",[],function(){function e(){}return e.prototype.allow=function(e,t){var n=t.domainObject,i=t.selectedObject,r=e.getMetadata().key,o=n.hasCapability("editor")&&n.getCapability("editor").inEditContext();return"move"===r&&o?!!i&&i.hasCapability("editor")&&i.getCapability("editor").inEditContext():!0},e}),n("platform/commonUI/edit/src/policies/EditContextualActionPolicy",[],function(){function e(e,t,n){this.navigationService=e,this.editModeBlacklist=t,this.nonEditContextBlacklist=n}return e.prototype.allow=function(e,t){var n=t.domainObject,i=this.navigationService.getNavigation(),r=e.getMetadata?e.getMetadata():{};return i.hasCapability("editor")&&i.getCapability("editor").isEditContextRoot()?n.hasCapability("editor")&&n.getCapability("editor").inEditContext()?-1===this.editModeBlacklist.indexOf(r.key):-1===this.nonEditContextBlacklist.indexOf(r.key):!0},e}),n("platform/commonUI/edit/src/representers/EditRepresenter",[],function(){function e(e,t){this.$log=e,this.$scope=t,this.$scope.commit=this.commit.bind(this)}return e.prototype.commit=function(e){var t=this.$scope.model,n=this.$scope.configuration,i=this.domainObject;this.$log.debug(["Committing ",i&&i.getModel().name,"("+(i&&i.getId())+"):",e].join(" ")),this.domainObject&&(this.key&&n&&(t.configuration=t.configuration||{},t.configuration[this.key]=n),i.useCapability("mutation",function(){return t}))},e.prototype.represent=function(e,t){this.domainObject=t,e?this.key=e.key:delete this.key},e.prototype.destroy=function(){},e}),n("platform/commonUI/edit/src/representers/EditToolbar",[],function(){function e(e,t){return e&&t}function t(e,t){return e||t}function n(e,t){function n(e){return s.properties.push(e),s.properties.length-1}function i(e,n){e&&(s.selection.forEach(function(t){"function"==typeof t[e]&&t[e](n)}),t())}function r(e){var t=Object.create(e||{});return e.property&&(t.key=n(e.property)),e.method&&(t.click=function(t){i(e.method,t)}),t}function o(e){var t=Object.create(e||{});return t.items=((e||{}).items||[]).map(r),t}var s=this;this.toolbarState=[],this.selection=void 0,this.properties=[],this.toolbarStructure=Object.create(e||{}),this.toolbarStructure.sections=((e||{}).sections||[]).map(o)}return n.prototype.isConsistent=function(e){function t(t){var s;void 0!==t[e]&&(s=i.lookupState(e,t),o&&(r=r&&s===n),n=s,o=!0)}var n,i=this,r=!0,o=!1;return i.selection.forEach(t),r},n.prototype.isApplicable=function(n){function i(e){return r&&void 0!==e[r]||o&&"function"==typeof e[o]}var r=(n||{}).property,o=(n||{}).method,s=!!(n||{}).exclusive;return this.selection.map(i).reduce(s?e:t,s)&&this.isConsistent(r)},n.prototype.lookupState=function(e,t){var n=t[e];return"function"==typeof n?n():n},n.prototype.setSelection=function(e){function t(e){var t=0;(e.items||[]).forEach(function(e){e.hidden=!i.isApplicable(e),t+=e.hidden?0:1}),e.hidden=!t}function n(e){var t;return i.selection.forEach(function(n){t=void 0!==n[e]?i.lookupState(e,n):t}),t}var i=this;this.selection=e,this.toolbarStructure.sections.forEach(t),this.toolbarState=this.properties.map(n)},n.prototype.getStructure=function(){return this.toolbarStructure},n.prototype.getState=function(){return this.toolbarState},n.prototype.updateState=function(e,t){function n(e,t){function n(n){void 0!==n[e]&&("function"==typeof n[e]?(r=r||n[e]()!==t,n[e](t)):(r=r||n[e]!==t,n[e]=t))}var r=!1;return i.selection.forEach(n),r}var i=this;return n(this.properties[e],t)},n}),n("platform/commonUI/edit/src/representers/EditToolbarSelection",[],function(){function e(){this.selection=[{}],this.selecting=!1,this.selectedObj=void 0}return e.prototype.selected=function(e){return e===this.selectedObj||e===this.selection[0]},e.prototype.select=function(e){return e===this.selection[0]?!1:(this.deselect(),this.selectedObj=e,this.selecting=!0,void this.selection.push(e))},e.prototype.deselect=function(){return this.selecting?(this.selecting=!1,this.selectedObj=void 0,this.selection.pop(),!0):!1},e.prototype.get=function(){return this.selectedObj},e.prototype.proxy=function(e){return arguments.length>0&&(this.selection[0]=e),this.selection[0]},e.prototype.all=function(){return this.selection},e}),n("platform/commonUI/edit/src/representers/EditToolbarRepresenter",["./EditToolbar","./EditToolbarSelection"],function(e,t){function n(e,t,n){function r(t){e.commit&&e.commit(t)}function o(e){c.toolbar&&(e=Array.isArray(e)?e:e?[e]:[],c.toolbar.setSelection(e),c.toolbarObject.structure=c.toolbar.getStructure(),c.toolbarObject.state=c.toolbar.getState())}function s(){return c.toolbarObject.state}function a(e){var t=(e||[]).map(function(e,t){return c.toolbar.updateState(t,e)}).reduce(function(e,t){return e||t},!1);t&&r("Changes from toolbar.")}var c=this;return this.setSelection=function(t){e.selection=t},this.clearExposedToolbar=function(){n.toolbar&&delete e.$parent[n.toolbar]},this.exposeToolbar=function(){e.$parent[c.attrs.toolbar]=c.toolbarObject},this.commit=r,this.attrs=n,this.updateSelection=o,this.toolbar=void 0,this.toolbarObject={},n&&n.toolbar?(e.$watchCollection(s,a),e.$watchCollection("selection.all()",o),e.$parent[n.toolbar]=this.toolbarObject,void 0):i}var i={represent:function(){},destroy:function(){}};return n.prototype.represent=function(n){function i(t){o.attrs.toolbar&&(o.toolbar=new e(t,o.commit),o.exposeToolbar())}var r=(n||{}).toolbar||{},o=this;i(r),this.setSelection(new t),this.updateSelection([])},n.prototype.destroy=function(){this.clearExposedToolbar()},n}),n("platform/commonUI/edit/src/capabilities/EditorCapability",[],function(){function e(e,t){this.transactionService=e,this.domainObject=t}function t(e){return e.getCapability("status").get("editing")}function n(e){return t(e)||e.hasCapability("context")&&n(e.getCapability("context").getParent())}return e.prototype.edit=function(){this.transactionService.startTransaction(),this.domainObject.getCapability("status").set("editing",!0)},e.prototype.inEditContext=function(){return n(this.domainObject)},e.prototype.isEditContextRoot=function(){return t(this.domainObject)},e.prototype.save=function(){var e=this.transactionService;return e.commit().then(function(){e.startTransaction()})},e.prototype.invoke=e.prototype.edit,e.prototype.finish=function(){var e=this.domainObject;return this.transactionService.cancel().then(function(){return e.getCapability("status").set("editing",!1),e})},e.prototype.dirty=function(){return this.transactionService.size()>0},e}),n("platform/commonUI/edit/src/capabilities/TransactionalPersistenceCapability",[],function(){function e(e,t,n,i){this.transactionManager=t,this.persistenceCapability=n,this.domainObject=i,this.$q=e}return e.prototype.persist=function(){var e=this.persistenceCapability;return this.transactionManager.isActive()?(this.transactionManager.addToTransaction(this.domainObject.getId(),e.persist.bind(e),e.refresh.bind(e)),this.$q.when(!0)):this.persistenceCapability.persist()},e.prototype.refresh=function(){return this.transactionManager.clearTransactionsFor(this.domainObject.getId()),this.persistenceCapability.refresh()},e.prototype.getSpace=function(){return this.persistenceCapability.getSpace()},e.prototype.persisted=function(){return this.persistenceCapability.persisted()},e}),n("platform/commonUI/edit/src/capabilities/TransactionCapabilityDecorator",["./TransactionalPersistenceCapability"],function(e){function t(e,t,n){this.capabilityService=n,this.transactionService=t,this.$q=e}return t.prototype.getCapabilities=function(){var t=this,n=this.capabilityService.getCapabilities.apply(this.capabilityService,arguments),i=n.persistence;return n.persistence=function(n){var r="function"==typeof i?i(n):i;return new e(t.$q,t.transactionService,r,n)},n},t}),n("platform/commonUI/edit/src/services/TransactionManager",[],function(){function e(e){this.transactionService=e,this.clearTransactionFns={}}return e.prototype.isActive=function(){return this.transactionService.isActive()},e.prototype.isScheduled=function(e){return!!this.clearTransactionFns[e]},e.prototype.addToTransaction=function(e,t,n){function i(e,t){return function(){return e().then(t)}}var r=this.releaseClearFn.bind(this,e);this.isScheduled(e)||(this.clearTransactionFns[e]=this.transactionService.addToTransaction(i(t,r),i(n,r)))},e.prototype.clearTransactionsFor=function(e){this.isScheduled(e)&&(this.clearTransactionFns[e](),this.releaseClearFn(e))},e.prototype.releaseClearFn=function(e){delete this.clearTransactionFns[e]},e}),n("platform/commonUI/edit/src/services/Transaction",[],function(){function e(e){this.$log=e,this.callbacks=[]}return e.prototype.add=function(e,t){var n={commit:e,cancel:t};return this.callbacks.push(n),function(){this.callbacks=this.callbacks.filter(function(e){return e!==n})}.bind(this)},e.prototype.size=function(){return this.callbacks.length},["commit","cancel"].forEach(function(t){e.prototype[t]=function(){for(var e,n=[];this.callbacks.length>0;){e=this.callbacks.shift();try{n.push(e[t]())}catch(i){this.$log.error("Error trying to "+t+" transaction.")}}return Promise.all(n)}}),e}),n("platform/commonUI/edit/src/services/NestedTransaction",["./Transaction"],function(e){function t(t){this.parent=t,e.call(this,t.$log)}return t.prototype=Object.create(e.prototype),t.prototype.commit=function(){return this.parent.add(e.prototype.commit.bind(this),e.prototype.cancel.bind(this)),Promise.resolve(!0)},t}),n("platform/commonUI/edit/src/services/TransactionService",["./Transaction","./NestedTransaction"],function(e,t){function n(e,t,n){this.$q=e,this.$log=t,this.cacheService=n,this.transactions=[]}return n.prototype.startTransaction=function(){var n=this.isActive()?new t(this.transactions[0]):new e(this.$log);this.transactions.push(n)},n.prototype.isActive=function(){return this.transactions.length>0},n.prototype.addToTransaction=function(e,t){return this.isActive()?this.activeTransaction().add(e,t):void this.$log.error("No transaction in progress")},n.prototype.activeTransaction=function(){return this.transactions[this.transactions.length-1]},n.prototype.commit=function(){var e=this.transactions.pop();return e?this.isActive()?e.commit():e.commit().then(function(e){return this.cacheService.flush(),e}.bind(this)):Promise.reject()},n.prototype.cancel=function(){var e=this.transactions.pop();return e?e.cancel():Promise.reject()},n.prototype.size=function(){return this.isActive()?this.activeTransaction().size():0},n}),n("platform/commonUI/edit/src/creation/CreateMenuController",[],function(){function e(e){function t(){e.createActions=e.action?e.action.getActions("create"):[]}e.$watch("action",t)}return e}),n("platform/commonUI/edit/src/creation/LocatorController",[],function(){function e(e,t,n){function i(r,o){var s=r&&r.getCapability("context"),a=s&&s.getRoot();return a&&a!==e.rootObject?(e.rootObject=void 0,t(function(){e.rootObject=s&&s.getRoot()||e.rootObject},0)):a||e.rootObject||n.getObjects(["ROOT"]).then(function(n){t(function(){e.rootObject=n.ROOT},0)}),e.treeModel.selectedObject=r,e.ngModel[e.field]=r,r&&e.structure&&e.structure.validate&&!e.structure.validate(r)?void i(o,void 0):void(e.ngModelController&&e.ngModelController.$setValidity("composition",!!e.treeModel.selectedObject))}e.treeModel={selectedObject:e.ngModel[e.field]},e.$watch("treeModel.selectedObject",i)}return e}),n("platform/commonUI/edit/src/creation/CreationPolicy",[],function(){function e(){}return e.prototype.allow=function(e){return e.hasFeature("creation")},e}),n("platform/commonUI/edit/src/creation/CreateAction",[],function(){function e(e,t,n){this.metadata={key:"create",cssClass:e.getCssClass(),name:e.getName(),type:e.getKey(),description:e.getDescription(),context:n},this.type=e,this.parent=t}return e.prototype.perform=function(){function e(){return o.finish()}function t(){return o.save().then(e)}function n(){
return e()}var i,r,o,s=this.type.getInitialModel();return s.type=this.type.getKey(),s.location=this.parent.getId(),i=this.parent.useCapability("instantiation",s),o=i.hasCapability("editor")&&i.getCapability("editor"),r=i.getCapability("action").getActions("edit")[0],r?r.perform():o?(o.edit(),i.getCapability("action").perform("save-as").then(t,n)):void 0},e.prototype.getMetadata=function(){return this.metadata},e}),n("platform/commonUI/edit/src/creation/CreateActionProvider",["./CreateAction"],function(e){function t(e,t){this.typeService=e,this.policyService=t}return t.prototype.getActions=function(t){var n=t||{},i=n.key,r=n.domainObject,o=this;return"create"===i&&r?this.typeService.listTypes().filter(function(e){return o.policyService.allow("creation",e)}).map(function(t){return new e(t,r,n)}):[]},t}),n("platform/commonUI/edit/src/creation/AddAction",["./CreateWizard"],function(e){function t(e,t,n,i,r,o){this.metadata={key:"add",cssClass:e.getCssClass(),name:e.getName(),type:e.getKey(),description:e.getDescription(),context:n},this.type=e,this.parent=t,this.$q=i,this.dialogService=r,this.policyService=o}return t.prototype.perform=function(){function t(e){return o.populateObjectFromInput(e,r)}function n(e){return e.getCapability("persistence").persist().then(function(){return e})}function i(e){return a.getCapability("composition").add(e),n(a)}var r,o,s=this.type.getInitialModel(),a=this.parent;return s.type=this.type.getKey(),r=a.getCapability("instantiation").instantiate(s),r.useCapability("mutation",function(e){e.location=a.getId()}),o=new e(r,this.parent,this.policyService),this.dialogService.getUserInput(o.getFormStructure(!1),o.getInitialFormValue()).then(t).then(n).then(i)},t.prototype.getMetadata=function(){return this.metadata},t}),n("platform/commonUI/edit/src/creation/AddActionProvider",["./AddAction"],function(e){function t(e,t,n,i){this.typeService=t,this.dialogService=n,this.$q=e,this.policyService=i}return t.prototype.getActions=function(t){var n=t||{},i=n.key,r=n.domainObject;return"add"===i&&r?["timeline","activity"].map(function(t){return new e(this.typeService.getType(t),r,n,this.$q,this.dialogService,this.policyService)},this):[]},t}),n("platform/commonUI/edit/src/creation/CreationService",[],function(){function e(e,t){this.$q=e,this.$log=t}var t="Tried to create an object in non-persistent container.";return e.prototype.createObject=function(e,n){function i(){var e=n.getCapability("composition"),t=e&&e.add(o);return a.$q.when(t).then(function(e){return e?r.persist().then(function(){return e}):void a.$log.error("Could not modify "+n.getId())})}var r=n.getCapability("persistence"),o=n.useCapability("instantiation",e),s=o.getCapability("persistence"),a=this;return r&&s?s.persist().then(i):(a.$log.warn(t),a.$q.reject(new Error(t)))},e}),n("text!platform/commonUI/edit/res/templates/create/locator.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="LocatorController" class="selector-list">\n    <div class="wrapper">\n        <mct-representation key="\'tree\'"\n                            mct-object="rootObject"\n                            ng-model="treeModel">\n        </mct-representation>\n    </div>\n</div>\n'}),n("text!platform/commonUI/edit/res/templates/create/create-button.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="ClickAwayController as createController">\n    <div class="s-menu-button major create-button" ng-click="createController.toggle()">\n		<span class="title-label">Create</span>\n    </div>\n    <div class="menu super-menu" ng-show="createController.isActive()">\n        <mct-representation mct-object="domainObject" key="\'create-menu\'">\n        </mct-representation>\n    </div>\n</span>\n'}),n("text!platform/commonUI/edit/res/templates/create/create-menu.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="contents" ng-controller="CreateMenuController">\n    <div class="pane left menu-items">\n        <ul>\n            <li ng-repeat="createAction in createActions" ng-click="createAction.perform()">\n                <a ng-mouseover="representation.activeMetadata = createAction.getMetadata()"\n                   ng-mouseleave="representation.activeMetadata = undefined"\n                   class="menu-item-a {{ createAction.getMetadata().cssClass }}">\n                    {{createAction.getMetadata().name}}\n                </a>\n            </li>\n        </ul>\n    </div>\n    <div class="pane right menu-item-description">\n        <div class="desc-area icon {{ representation.activeMetadata.cssClass }}"></div>\n        <div class="desc-area title">\n            {{representation.activeMetadata.name}}\n        </div>\n        <div class="desc-area description">\n            {{representation.activeMetadata.description}}\n        </div>\n    </div>\n</div>\n'}),n("text!platform/commonUI/edit/res/templates/library.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<mct-representation key="\'tree\'"\n                    mct-object="parameters.domainObject"\n                    parameters="parameters">\n</mct-representation>\n'}),n("text!platform/commonUI/edit/res/templates/edit-object.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="abs l-flex-col" ng-controller="EditObjectController as EditObjectController">\n    <div class="holder flex-elem l-flex-row object-browse-bar ">\n        <div class="items-select left flex-elem l-flex-row grows">\n            <mct-representation key="\'back-arrow\'"\n                                mct-object="domainObject"\n                                class="flex-elem l-back"></mct-representation>\n            <mct-representation key="\'object-header\'"\n                                mct-object="domainObject"\n                                class="l-flex-row flex-elem grows object-header">\n            </mct-representation>\n        </div>\n        <div class="btn-bar right l-flex-row flex-elem flex-justify-end flex-fixed">\n            <mct-representation key="\'switcher\'"\n                                mct-object="domainObject"\n                                ng-model="representation">\n            </mct-representation>\n            <!-- Temporarily, on mobile, the action buttons are hidden-->\n            <mct-representation key="\'action-group\'"\n                                mct-object="domainObject"\n                                parameters="{ category: \'view-control\' }"\n                                class="mobile-hide">\n            </mct-representation>\n        </div>\n    </div>\n    <div class="holder l-flex-col flex-elem grows l-object-wrapper">\n        <div class="holder l-flex-col flex-elem grows l-object-wrapper-inner">\n            <!-- Toolbar and Save/Cancel buttons -->\n            <div class="l-edit-controls flex-elem l-flex-row flex-align-end">\n                <mct-toolbar name="mctToolbar"\n                             structure="toolbar.structure"\n                             ng-model="toolbar.state"\n                             class="flex-elem grows">\n                </mct-toolbar>\n                <mct-representation key="\'edit-action-buttons\'"\n                                    mct-object="domainObject"\n                                    class=\'flex-elem conclude-editing\'>\n                </mct-representation>\n\n            </div>\n            <mct-representation key="representation.selected.key"\n                                mct-object="representation.selected.key && domainObject"\n                                class="abs flex-elem grows object-holder-main scroll"\n                                toolbar="toolbar">\n            </mct-representation>\n        </div><!--/ l-object-wrapper-inner -->\n    </div>\n    <mct-representation mct-object="domainObject"\n                        key="\'time-conductor\'"\n                        class="abs holder flex-elem flex-fixed l-flex-row l-time-conductor-holder">\n    </mct-representation>\n\n</div>\n'}),n("text!platform/commonUI/edit/res/templates/edit-action-buttons.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="EditActionController">\n    <!-- If there\'s a single save action show a button, otherwise show a dropdown with all save actions. -->\n    <span ng-if="saveActions.length === 1">\n        <mct-control key="\'button\'"\n                     structure="{\n                        text: saveActions[0].getMetadata().name,\n                        click: actionPerformer(saveActions[0]),\n                        cssClass: \'major \' + saveActions[0].getMetadata().cssClass\n                     }">\n        </mct-control>\n    </span>\n\n    <span ng-if="saveActions.length > 1">\n        <mct-control key="\'menu-button\'"\n                     structure="{\n                        options: saveActionsAsMenuOptions,\n                        click: saveActionMenuClickHandler,\n                        cssClass: \'btn-bar right icon-save no-label major\'\n                     }">\n        </mct-control>\n    </span>\n\n    <span ng-repeat="currentAction in otherEditActions">\n        <mct-control key="\'button\'"\n                     structure="{\n                        text: currentAction.getMetadata().name,\n                        click: actionPerformer(currentAction),\n                        cssClass: currentAction.getMetadata().cssClass\n                     }">\n        </mct-control>\n    </span>\n</span>\n'}),n("text!platform/commonUI/edit/res/templates/elements.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="ElementsController" class="flex-elem l-flex-col holder grows">\n    <mct-include key="\'input-filter\'"\n                 class="flex-elem holder"\n                 ng-model="filterBy">\n    </mct-include>\n    <div class="flex-elem grows vscroll">\n        <ul class="tree">\n            <li ng-repeat="containedObject in composition | filter:searchElements">\n                <span class="tree-item">\n                    <mct-representation\n                            class="rep-object-label"\n                            key="\'label\'"\n                            mct-object="containedObject">\n                    </mct-representation>\n                </span>\n            </li>\n        </ul>\n    </div>\n</div>\n'}),n("text!platform/commonUI/edit/res/templates/topbar-edit.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class=\'top-bar edit abs\'>\n    <mct-representation key="\'object-header\'"\n                        mct-object="domainObject"\n                        parameters="{ mode: \'Edit\' }"\n                        class="l-flex-row flex-elem grows object-header">\n    </mct-representation>\n    <div class=\'buttons-main btn-bar buttons abs\'>\n        <mct-representation key="\'switcher\'"\n                            mct-object="domainObject"\n                            ng-model="ngModel">\n        </mct-representation>\n\n        <mct-representation key="\'edit-action-buttons\'"\n                            mct-object="domainObject"\n                            class=\'conclude-editing\'>\n        </mct-representation>\n    </div>\n</div>\n'}),n("platform/commonUI/edit/bundle",["./src/controllers/EditActionController","./src/controllers/EditPanesController","./src/controllers/ElementsController","./src/controllers/EditObjectController","./src/actions/EditAndComposeAction","./src/actions/EditAction","./src/actions/PropertiesAction","./src/actions/RemoveAction","./src/actions/SaveAction","./src/actions/SaveAndStopEditingAction","./src/actions/SaveAsAction","./src/actions/CancelAction","./src/policies/EditActionPolicy","./src/policies/EditPersistableObjectsPolicy","./src/policies/EditableLinkPolicy","./src/policies/EditableMovePolicy","./src/policies/EditContextualActionPolicy","./src/representers/EditRepresenter","./src/representers/EditToolbarRepresenter","./src/capabilities/EditorCapability","./src/capabilities/TransactionCapabilityDecorator","./src/services/TransactionManager","./src/services/TransactionService","./src/creation/CreateMenuController","./src/creation/LocatorController","./src/creation/CreationPolicy","./src/creation/CreateActionProvider","./src/creation/AddActionProvider","./src/creation/CreationService","text!./res/templates/create/locator.html","text!./res/templates/create/create-button.html","text!./res/templates/create/create-menu.html","text!./res/templates/library.html","text!./res/templates/edit-object.html","text!./res/templates/edit-action-buttons.html","text!./res/templates/elements.html","text!./res/templates/topbar-edit.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,h,m,g,y,v,b,w,S,x,C,O,k,$,T,A,M,I,E,L,N,j,P,D,_){_.register("platform/commonUI/edit",{extensions:{controllers:[{key:"EditActionController",implementation:e,depends:["$scope"]},{key:"EditPanesController",implementation:t,depends:["$scope"]},{key:"ElementsController",implementation:n,depends:["$scope"]},{key:"EditObjectController",implementation:i,depends:["$scope","$location","navigationService"]},{key:"CreateMenuController",implementation:C,depends:["$scope"]},{key:"LocatorController",implementation:O,depends:["$scope","$timeout","objectService"]}],actions:[{key:"compose",implementation:r},{key:"edit",implementation:o,depends:["$location","navigationService","$log"],description:"Edit",category:"view-control",cssClass:"major icon-pencil"},{key:"properties",category:["contextual","view-control"],implementation:s,cssClass:"major icon-pencil",name:"Edit Properties...",description:"Edit properties of this object.",depends:["dialogService"]},{key:"remove",category:"contextual",implementation:a,cssClass:"icon-trash",name:"Remove",description:"Remove this object from its containing object.",depends:["navigationService"]},{key:"save-and-stop-editing",category:"save",implementation:l,name:"Save and Finish Editing",cssClass:"icon-save labeled",description:"Save changes made to these objects.",depends:["dialogService","notificationService"]},{key:"save",category:"save",implementation:c,name:"Save and Continue Editing",cssClass:"icon-save labeled",description:"Save changes made to these objects.",depends:["dialogService","notificationService"]},{key:"save-as",category:"save",implementation:u,name:"Save As...",cssClass:"icon-save labeled",description:"Save changes made to these objects.",depends:["$injector","policyService","dialogService","copyService","notificationService"],priority:"mandatory"},{key:"cancel",category:"conclude-editing",implementation:d,name:void 0,cssClass:"icon-x no-label",description:"Discard changes made to these objects.",depends:[]}],policies:[{category:"action",implementation:p},{category:"action",implementation:f,depends:["openmct"]},{category:"action",implementation:g,depends:["navigationService","editModeBlacklist","nonEditContextBlacklist"]},{category:"action",implementation:m},{category:"action",implementation:h},{implementation:k,category:"creation"}],templates:[{key:"edit-library",template:L}],representations:[{key:"edit-object",template:N,uses:["view"],gestures:["drop"]},{key:"edit-action-buttons",template:j,uses:["action"]},{key:"edit-elements",template:P,uses:["composition"],gestures:["drop"]},{key:"topbar-edit",template:D},{key:"create-button",template:I},{key:"create-menu",template:E,uses:["action"]}],components:[{type:"decorator",provides:"capabilityService",implementation:w,depends:["$q","transactionManager"],priority:"fallback"},{type:"provider",provides:"transactionService",implementation:x,depends:["$q","$log","cacheService"]},{key:"CreateActionProvider",provides:"actionService",type:"provider",implementation:$,depends:["typeService","policyService"]},{key:"AddActionProvider",provides:"actionService",type:"provider",implementation:T,depends:["$q","typeService","dialogService","policyService"]},{key:"CreationService",provides:"creationService",type:"provider",implementation:A,depends:["$q","$log"]}],representers:[{implementation:y,depends:["$log"]},{implementation:v}],constants:[{key:"editModeBlacklist",value:["copy","follow","link","locate"]},{key:"nonEditContextBlacklist",value:["copy","follow","properties","move","link","remove","locate"]}],capabilities:[{key:"editor",name:"Editor Capability",description:"Provides transactional editing capabilities",implementation:b,depends:["transactionService"]}],controls:[{key:"locator",template:M}],services:[{key:"transactionManager",implementation:S,depends:["transactionService"]}]}})}),n("platform/commonUI/formats/src/FormatProvider",[],function(){function e(e){function t(e){var t=e.key;t&&!n[t]&&(n[t]=new e)}var n={};e.forEach(t),this.formatMap=n}return e.prototype.getFormat=function(e){var t=this.formatMap[e];if(!t)throw new Error("FormatProvider: No format found for "+e);return t},e}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof n&&n.amd?n("moment",t):e.moment=t()}(this,function(){"use strict";function e(){return hi.apply(null,arguments)}function n(e){hi=e}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){var t;for(t in e)return!1;return!0}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,i){return yt(e,t,n,i,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function p(e){return null==e._pf&&(e._pf=d()),e._pf}function f(e){if(null==e._isValid){var t=p(e),n=mi.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function h(e){var t=u(NaN);return null!=e?l(p(t),e):p(t).userInvalidated=!0,t}function m(e){return void 0===e}function g(e,t){var n,i,r;if(m(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),m(t._i)||(e._i=t._i),m(t._f)||(e._f=t._f),m(t._l)||(e._l=t._l),m(t._strict)||(e._strict=t._strict),m(t._tzm)||(e._tzm=t._tzm),m(t._isUTC)||(e._isUTC=t._isUTC),m(t._offset)||(e._offset=t._offset),m(t._pf)||(e._pf=p(t)),m(t._locale)||(e._locale=t._locale),gi.length>0)for(n in gi)i=gi[n],r=t[i],m(r)||(e[i]=r);return e}function y(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),yi===!1&&(yi=!0,e.updateOffset(this),yi=!1)}function v(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function b(e){return 0>e?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function S(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&w(e[i])!==w(t[i]))&&s++;return s+o}function x(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function C(t,n){var i=!0;return l(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),i){for(var r,o=[],s=0;s<arguments.length;s++){if(r="","object"==typeof arguments[s]){r+="\n["+s+"] ";for(var a in arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[s];o.push(r)}x(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function O(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),vi[t]||(x(n),vi[t]=!0)}function k(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function $(e){var t,n;for(n in e)t=e[n],k(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function T(e,t){var n,i=l({},e);for(n in t)c(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},l(i[n],e[n]),l(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)c(e,n)&&!c(t,n)&&r(e[n])&&(i[n]=l({},i[n]));return i}function A(e){null!=e&&this.set(e)}function M(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return k(i)?i.call(t,n):i}function I(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function E(){return this._invalidDate}function L(e){return this._ordinal.replace("%d",e)}function N(e,t,n,i){var r=this._relativeTime[n];return k(r)?r(e,t,n,i):r.replace(/%d/i,e)}function j(e,t){var n=this._relativeTime[e>0?"future":"past"];return k(n)?n(t):n.replace(/%s/i,t)}function P(e,t){var n=e.toLowerCase();Ti[n]=Ti[n+"s"]=Ti[t]=e}function D(e){return"string"==typeof e?Ti[e]||Ti[e.toLowerCase()]:void 0}function _(e){var t,n,i={};for(n in e)c(e,n)&&(t=D(n),t&&(i[t]=e[n]));return i}function R(e,t){Ai[e]=t}function U(e){var t=[];for(var n in e)t.push({unit:n,priority:Ai[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function F(t,n){return function(i){return null!=i?(B(this,t,i),e.updateOffset(this,n),this):V(this,t)}}function V(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function B(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function q(e){return e=D(e),k(this[e])?this[e]():this}function Y(e,t){if("object"==typeof e){e=_(e);for(var n=U(e),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(e=D(e),k(this[e]))return this[e](t);return this}function H(e,t,n){var i=""+Math.abs(e),r=t-i.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function W(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(Li[e]=r),t&&(Li[t[0]]=function(){return H(r.apply(this,arguments),t[1],t[2])}),n&&(Li[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function G(e){var t,n,i=e.match(Mi);for(t=0,n=i.length;n>t;t++)Li[i[t]]?i[t]=Li[i[t]]:i[t]=z(i[t]);return function(t){var r,o="";for(r=0;n>r;r++)o+=i[r]instanceof Function?i[r].call(t,e):i[r];return o}}function K(e,t){return e.isValid()?(t=Z(t,e.localeData()),Ei[t]=Ei[t]||G(t),Ei[t](e)):e.localeData().invalidDate()}function Z(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Ii.lastIndex=0;i>=0&&Ii.test(e);)e=e.replace(Ii,n),Ii.lastIndex=0,i-=1;return e}function X(e,t,n){Zi[e]=k(t)?t:function(e,i){return e&&n?n:t}}function J(e,t){return c(Zi,e)?Zi[e](t._strict,t._locale):new RegExp(Q(e))}function Q(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=w(e)}),n=0;n<e.length;n++)Xi[e[n]]=i}function ne(e,t){te(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function ie(e,t,n){null!=t&&c(Xi,e)&&Xi[e](t,n._a,n,e)}function re(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function oe(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ar).test(t)?"format":"standalone"][e.month()]:this._months}function se(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ar.test(t)?"format":"standalone"][e.month()]:this._monthsShort}function ae(e,t,n){var i,r,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],
i=0;12>i;++i)o=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(r=wi.call(this._shortMonthsParse,s),-1!==r?r:null):(r=wi.call(this._longMonthsParse,s),-1!==r?r:null):"MMM"===t?(r=wi.call(this._shortMonthsParse,s),-1!==r?r:(r=wi.call(this._longMonthsParse,s),-1!==r?r:null)):(r=wi.call(this._longMonthsParse,s),-1!==r?r:(r=wi.call(this._shortMonthsParse,s),-1!==r?r:null))}function ce(e,t,n){var i,r,o;if(this._monthsParseExact)return ae.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function le(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return n=Math.min(e.date(),re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ue(t){return null!=t?(le(this,t),e.updateOffset(this,!0),this):V(this,"Month")}function de(){return re(this.year(),this.month())}function pe(e){return this._monthsParseExact?(c(this,"_monthsRegex")||he.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=ur),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function fe(e){return this._monthsParseExact?(c(this,"_monthsRegex")||he.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=dr),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function he(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;12>t;t++)n=u([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;12>t;t++)i[t]=ee(i[t]),r[t]=ee(r[t]);for(t=0;24>t;t++)o[t]=ee(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function me(e){return ge(e)?366:365}function ge(e){return e%4===0&&e%100!==0||e%400===0}function ye(){return ge(this.year())}function ve(e,t,n,i,r,o,s){var a=new Date(e,t,n,i,r,o,s);return 100>e&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function be(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function we(e,t,n){var i=7+t-n,r=(7+be(e,0,i).getUTCDay()-t)%7;return-r+i-1}function Se(e,t,n,i,r){var o,s,a=(7+n-i)%7,c=we(e,i,r),l=1+7*(t-1)+a+c;return 0>=l?(o=e-1,s=me(o)+l):l>me(e)?(o=e+1,s=l-me(e)):(o=e,s=l),{year:o,dayOfYear:s}}function xe(e,t,n){var i,r,o=we(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return 1>s?(r=e.year()-1,i=s+Ce(r,t,n)):s>Ce(e.year(),t,n)?(i=s-Ce(e.year(),t,n),r=e.year()+1):(r=e.year(),i=s),{week:i,year:r}}function Ce(e,t,n){var i=we(e,t,n),r=we(e+1,t,n);return(me(e)-i+r)/7}function Oe(e){return xe(e,this._week.dow,this._week.doy).week}function ke(){return this._week.dow}function $e(){return this._week.doy}function Te(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ae(e){var t=xe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Me(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Ie(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ee(e,t){return e?i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:this._weekdays}function Le(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ne(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function je(e,t,n){var i,r,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(r=wi.call(this._weekdaysParse,s),-1!==r?r:null):"ddd"===t?(r=wi.call(this._shortWeekdaysParse,s),-1!==r?r:null):(r=wi.call(this._minWeekdaysParse,s),-1!==r?r:null):"dddd"===t?(r=wi.call(this._weekdaysParse,s),-1!==r?r:(r=wi.call(this._shortWeekdaysParse,s),-1!==r?r:(r=wi.call(this._minWeekdaysParse,s),-1!==r?r:null))):"ddd"===t?(r=wi.call(this._shortWeekdaysParse,s),-1!==r?r:(r=wi.call(this._weekdaysParse,s),-1!==r?r:(r=wi.call(this._minWeekdaysParse,s),-1!==r?r:null))):(r=wi.call(this._minWeekdaysParse,s),-1!==r?r:(r=wi.call(this._weekdaysParse,s),-1!==r?r:(r=wi.call(this._shortWeekdaysParse,s),-1!==r?r:null)))}function Pe(e,t,n){var i,r,o;if(this._weekdaysParseExact)return je.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function De(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Me(e,this.localeData()),this.add(e-t,"d")):t}function _e(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Re(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ie(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ue(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=yr),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Fe(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=vr),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ve(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=br),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Be(){function e(e,t){return t.length-e.length}var t,n,i,r,o,s=[],a=[],c=[],l=[];for(t=0;7>t;t++)n=u([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(i),a.push(r),c.push(o),l.push(i),l.push(r),l.push(o);for(s.sort(e),a.sort(e),c.sort(e),l.sort(e),t=0;7>t;t++)a[t]=ee(a[t]),c[t]=ee(c[t]),l[t]=ee(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function qe(){return this.hours()%12||12}function Ye(){return this.hours()||24}function He(e,t){W(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function We(e,t){return t._meridiemParse}function ze(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ge(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ke(e){return e?e.toLowerCase().replace("_","-"):e}function Ze(e){for(var t,n,i,r,o=0;o<e.length;){for(r=Ke(e[o]).split("-"),t=r.length,n=Ke(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=Xe(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&S(r,n,!0)>=t-1)break;t--}o++}return null}function Xe(e){var n=null;if(!Or[e]&&"undefined"!=typeof module&&module&&module.exports)try{n=wr._abbr,t("./locale/"+e),Je(n)}catch(i){}return Or[e]}function Je(e,t){var n;return e&&(n=m(t)?tt(e):Qe(e,t),n&&(wr=n)),wr._abbr}function Qe(e,t){if(null!==t){var n=Cr;return t.abbr=e,null!=Or[e]?(O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Or[e]._config):null!=t.parentLocale&&(null!=Or[t.parentLocale]?n=Or[t.parentLocale]._config:O("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),Or[e]=new A(T(n,t)),Je(e),Or[e]}return delete Or[e],null}function et(e,t){if(null!=t){var n,i=Cr;null!=Or[e]&&(i=Or[e]._config),t=T(i,t),n=new A(t),n.parentLocale=Or[e],Or[e]=n,Je(e)}else null!=Or[e]&&(null!=Or[e].parentLocale?Or[e]=Or[e].parentLocale:null!=Or[e]&&delete Or[e]);return Or[e]}function tt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return wr;if(!i(e)){if(t=Xe(e))return t;e=[e]}return Ze(e)}function nt(){return bi(Or)}function it(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[Qi]<0||n[Qi]>11?Qi:n[er]<1||n[er]>re(n[Ji],n[Qi])?er:n[tr]<0||n[tr]>24||24===n[tr]&&(0!==n[nr]||0!==n[ir]||0!==n[rr])?tr:n[nr]<0||n[nr]>59?nr:n[ir]<0||n[ir]>59?ir:n[rr]<0||n[rr]>999?rr:-1,p(e)._overflowDayOfYear&&(Ji>t||t>er)&&(t=er),p(e)._overflowWeeks&&-1===t&&(t=or),p(e)._overflowWeekday&&-1===t&&(t=sr),p(e).overflow=t),e}function rt(e){var t,n,i,r,o,s,a=e._i,c=kr.exec(a)||$r.exec(a);if(c){for(p(e).iso=!0,t=0,n=Ar.length;n>t;t++)if(Ar[t][1].exec(c[1])){r=Ar[t][0],i=Ar[t][2]!==!1;break}if(null==r)return void(e._isValid=!1);if(c[3]){for(t=0,n=Mr.length;n>t;t++)if(Mr[t][1].exec(c[3])){o=(c[2]||" ")+Mr[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(c[4]){if(!Tr.exec(c[4]))return void(e._isValid=!1);s="Z"}e._f=r+(o||"")+(s||""),ut(e)}else e._isValid=!1}function ot(t){var n=Ir.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(rt(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function st(e,t,n){return null!=e?e:null!=t?t:n}function at(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ct(e){var t,n,i,r,o=[];if(!e._d){for(i=at(e),e._w&&null==e._a[er]&&null==e._a[Qi]&&lt(e),e._dayOfYear&&(r=st(e._a[Ji],i[Ji]),e._dayOfYear>me(r)&&(p(e)._overflowDayOfYear=!0),n=be(r,0,e._dayOfYear),e._a[Qi]=n.getUTCMonth(),e._a[er]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[tr]&&0===e._a[nr]&&0===e._a[ir]&&0===e._a[rr]&&(e._nextDay=!0,e._a[tr]=0),e._d=(e._useUTC?be:ve).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[tr]=24)}}function lt(e){var t,n,i,r,o,s,a,c;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,s=4,n=st(t.GG,e._a[Ji],xe(vt(),1,4).year),i=st(t.W,1),r=st(t.E,1),(1>r||r>7)&&(c=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,n=st(t.gg,e._a[Ji],xe(vt(),o,s).year),i=st(t.w,1),null!=t.d?(r=t.d,(0>r||r>6)&&(c=!0)):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(c=!0)):r=o),1>i||i>Ce(n,o,s)?p(e)._overflowWeeks=!0:null!=c?p(e)._overflowWeekday=!0:(a=Se(n,i,r,o,s),e._a[Ji]=a.year,e._dayOfYear=a.dayOfYear)}function ut(t){if(t._f===e.ISO_8601)return void rt(t);t._a=[],p(t).empty=!0;var n,i,r,o,s,a=""+t._i,c=a.length,l=0;for(r=Z(t._f,t._locale).match(Mi)||[],n=0;n<r.length;n++)o=r[n],i=(a.match(J(o,t))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&p(t).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),l+=i.length),Li[o]?(i?p(t).empty=!1:p(t).unusedTokens.push(o),ie(o,i,t)):t._strict&&!i&&p(t).unusedTokens.push(o);p(t).charsLeftOver=c-l,a.length>0&&p(t).unusedInput.push(a),t._a[tr]<=12&&p(t).bigHour===!0&&t._a[tr]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[tr]=dt(t._locale,t._a[tr],t._meridiem),ct(t),it(t)}function dt(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function pt(e){var t,n,i,r,o;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],ut(t),f(t)&&(o+=p(t).charsLeftOver,o+=10*p(t).unusedTokens.length,p(t).score=o,(null==i||i>o)&&(i=o,n=t));l(e,n||t)}function ft(e){if(!e._d){var t=_(e._i);e._a=a([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ct(e)}}function ht(e){var t=new y(it(mt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function mt(e){var t=e._i,n=e._f;return e._locale=e._locale||tt(e._l),null===t||void 0===n&&""===t?h({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),v(t)?new y(it(t)):(i(n)?pt(e):s(t)?e._d=t:n?ut(e):gt(e),f(e)||(e._d=null),e))}function gt(t){var n=t._i;void 0===n?t._d=new Date(e.now()):s(n)?t._d=new Date(n.valueOf()):"string"==typeof n?ot(t):i(n)?(t._a=a(n.slice(0),function(e){return parseInt(e,10)}),ct(t)):"object"==typeof n?ft(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function yt(e,t,n,s,a){var c={};return"boolean"==typeof n&&(s=n,n=void 0),(r(e)&&o(e)||i(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=a,c._l=n,c._i=e,c._f=t,c._strict=s,ht(c)}function vt(e,t,n,i){return yt(e,t,n,i,!1)}function bt(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return vt();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function wt(){var e=[].slice.call(arguments,0);return bt("isBefore",e)}function St(){var e=[].slice.call(arguments,0);return bt("isAfter",e)}function xt(e){var t=_(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*l+6e4*c+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=tt(),this._bubble()}function Ct(e){return e instanceof xt}function Ot(e){return 0>e?-1*Math.round(-1*e):Math.round(e)}function kt(e,t){W(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+H(~~(e/60),2)+t+H(~~e%60,2)})}function $t(e,t){var n=(t||"").match(e)||[],i=n[n.length-1]||[],r=(i+"").match(jr)||["-",0,0],o=+(60*r[1])+w(r[2]);return"+"===r[0]?o:-o}function Tt(t,n){var i,r;return n._isUTC?(i=n.clone(),r=(v(t)||s(t)?t.valueOf():vt(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),e.updateOffset(i,!1),i):vt(t).local()}function At(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Mt(t,n){var i,r=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=$t(zi,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=At(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?Ht(this,Ft(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:At(this):null!=t?this:NaN}function It(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Et(e){return this.utcOffset(0,e)}function Lt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(At(this),"m")),this}function Nt(){if(this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var e=$t(Wi,this._i);0===e?this.utcOffset(0,!0):this.utcOffset($t(Wi,this._i))}return this}function jt(e){return this.isValid()?(e=e?vt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Pt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Dt(){if(!m(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),e=mt(e),e._a){var t=e._isUTC?u(e._a):vt(e._a);this._isDSTShifted=this.isValid()&&S(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function _t(){return this.isValid()?!this._isUTC:!1}function Rt(){return this.isValid()?this._isUTC:!1}function Ut(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Ft(e,t){var n,i,r,o=e,s=null;return Ct(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(s=Pr.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:w(s[er])*n,h:w(s[tr])*n,m:w(s[nr])*n,s:w(s[ir])*n,ms:w(Ot(1e3*s[rr]))*n}):(s=Dr.exec(e))?(n="-"===s[1]?-1:1,o={y:Vt(s[2],n),M:Vt(s[3],n),w:Vt(s[4],n),d:Vt(s[5],n),h:Vt(s[6],n),m:Vt(s[7],n),s:Vt(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=qt(vt(o.from),vt(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new xt(o),Ct(e)&&c(e,"_locale")&&(i._locale=e._locale),i}function Vt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Bt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function qt(e,t){var n;return e.isValid()&&t.isValid()?(t=Tt(t,e),e.isBefore(t)?n=Bt(e,t):(n=Bt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Yt(e,t){return function(n,i){var r,o;return null===i||isNaN(+i)||(O(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Ft(n,i),Ht(this,r,e),this}}function Ht(t,n,i,r){var o=n._milliseconds,s=Ot(n._days),a=Ot(n._months);t.isValid()&&(r=null==r?!0:r,o&&t._d.setTime(t._d.valueOf()+o*i),s&&B(t,"Date",V(t,"Date")+s*i),a&&le(t,V(t,"Month")+a*i),r&&e.updateOffset(t,s||a))}function Wt(e,t){var n=e.diff(t,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"}function zt(t,n){var i=t||vt(),r=Tt(i,this).startOf("day"),o=e.calendarFormat(this,r)||"sameElse",s=n&&(k(n[o])?n[o].call(this,i):n[o]);return this.format(s||this.localeData().calendar(o,this,vt(i)))}function Gt(){return new y(this)}function Kt(e,t){var n=v(e)?e:vt(e);return this.isValid()&&n.isValid()?(t=D(m(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function Zt(e,t){var n=v(e)?e:vt(e);return this.isValid()&&n.isValid()?(t=D(m(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function Xt(e,t,n,i){return i=i||"()",("("===i[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Jt(e,t){var n,i=v(e)?e:vt(e);return this.isValid()&&i.isValid()?(t=D(t||"millisecond"),"millisecond"===t?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function Qt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function en(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function tn(e,t,n){var i,r,o,s;return this.isValid()?(i=Tt(e,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),t=D(t),"year"===t||"month"===t||"quarter"===t?(s=nn(this,i),"quarter"===t?s/=3:"year"===t&&(s/=12)):(o=this-i,s="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-r)/864e5:"week"===t?(o-r)/6048e5:o),n?s:b(s)):NaN):NaN}function nn(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return 0>t-o?(n=e.clone().add(r-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(r+1,"months"),i=(t-o)/(n-o)),-(r+i)||0}function rn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function on(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?k(Date.prototype.toISOString)?this.toDate().toISOString():K(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):K(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function sn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=K(this,t);return this.localeData().postformat(n)}function an(e,t){return this.isValid()&&(v(e)&&e.isValid()||vt(e).isValid())?Ft({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function cn(e){return this.from(vt(),e)}function ln(e,t){return this.isValid()&&(v(e)&&e.isValid()||vt(e).isValid())?Ft({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function un(e){return this.to(vt(),e)}function dn(e){var t;return void 0===e?this._locale._abbr:(t=tt(e),null!=t&&(this._locale=t),this)}function pn(){return this._locale}function fn(e){switch(e=D(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function hn(e){return e=D(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function mn(){return this._d.valueOf()-6e4*(this._offset||0)}function gn(){return Math.floor(this.valueOf()/1e3)}function yn(){return new Date(this.valueOf())}function vn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function bn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function wn(){return this.isValid()?this.toISOString():null}function Sn(){return f(this)}function xn(){return l({},p(this))}function Cn(){return p(this).overflow}function On(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function kn(e,t){W(0,[e,e.length],0,t)}function $n(e){return In.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Tn(e){return In.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function An(){return Ce(this.year(),1,4)}function Mn(){var e=this.localeData()._week;return Ce(this.year(),e.dow,e.doy)}function In(e,t,n,i,r){var o;return null==e?xe(this,i,r).year:(o=Ce(e,i,r),t>o&&(t=o),En.call(this,e,t,n,i,r))}function En(e,t,n,i,r){var o=Se(e,t,n,i,r),s=be(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Ln(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Nn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function jn(e,t){t[rr]=w(1e3*("0."+e))}function Pn(){return this._isUTC?"UTC":""}function Dn(){return this._isUTC?"Coordinated Universal Time":""}function _n(e){return vt(1e3*e)}function Rn(){return vt.apply(null,arguments).parseZone()}function Un(e){return e}function Fn(e,t,n,i){var r=tt(),o=u().set(i,t);return r[n](o,e)}function Vn(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return Fn(e,t,n,"month");var i,r=[];for(i=0;12>i;i++)r[i]=Fn(e,i,n,"month");return r}function Bn(e,t,n,i){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var r=tt(),o=e?r._week.dow:0;if(null!=n)return Fn(t,(n+o)%7,i,"day");var s,a=[];for(s=0;7>s;s++)a[s]=Fn(t,(s+o)%7,i,"day");return a}function qn(e,t){return Vn(e,t,"months")}function Yn(e,t){return Vn(e,t,"monthsShort")}function Hn(e,t,n){return Bn(e,t,n,"weekdays")}function Wn(e,t,n){return Bn(e,t,n,"weekdaysShort")}function zn(e,t,n){return Bn(e,t,n,"weekdaysMin")}function Gn(){var e=this._data;return this._milliseconds=Gr(this._milliseconds),this._days=Gr(this._days),this._months=Gr(this._months),e.milliseconds=Gr(e.milliseconds),e.seconds=Gr(e.seconds),e.minutes=Gr(e.minutes),e.hours=Gr(e.hours),e.months=Gr(e.months),e.years=Gr(e.years),this}function Kn(e,t,n,i){var r=Ft(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function Zn(e,t){return Kn(this,e,t,1)}function Xn(e,t){return Kn(this,e,t,-1)}function Jn(e){return 0>e?Math.floor(e):Math.ceil(e)}function Qn(){var e,t,n,i,r,o=this._milliseconds,s=this._days,a=this._months,c=this._data;return o>=0&&s>=0&&a>=0||0>=o&&0>=s&&0>=a||(o+=864e5*Jn(ti(a)+s),s=0,a=0),c.milliseconds=o%1e3,e=b(o/1e3),c.seconds=e%60,t=b(e/60),c.minutes=t%60,n=b(t/60),c.hours=n%24,s+=b(n/24),r=b(ei(s)),a+=r,s-=Jn(ti(r)),i=b(a/12),a%=12,c.days=s,c.months=a,c.years=i,this}function ei(e){return 4800*e/146097}function ti(e){return 146097*e/4800}function ni(e){var t,n,i=this._milliseconds;if(e=D(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+ei(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ti(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function ii(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12)}function ri(e){return function(){return this.as(e)}}function oi(e){return e=D(e),this[e+"s"]()}function si(e){return function(){return this._data[e]}}function ai(){return b(this.days()/7)}function ci(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function li(e,t,n){var i=Ft(e).abs(),r=uo(i.as("s")),o=uo(i.as("m")),s=uo(i.as("h")),a=uo(i.as("d")),c=uo(i.as("M")),l=uo(i.as("y")),u=r<po.s&&["s",r]||1>=o&&["m"]||o<po.m&&["mm",o]||1>=s&&["h"]||s<po.h&&["hh",s]||1>=a&&["d"]||a<po.d&&["dd",a]||1>=c&&["M"]||c<po.M&&["MM",c]||1>=l&&["y"]||["yy",l];return u[2]=t,u[3]=+e>0,u[4]=n,ci.apply(null,u)}function ui(e){return void 0===e?uo:"function"==typeof e?(uo=e,!0):!1}function di(e,t){return void 0===po[e]?!1:void 0===t?po[e]:(po[e]=t,!0)}function pi(e){var t=this.localeData(),n=li(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function fi(){var e,t,n,i=fo(this._milliseconds)/1e3,r=fo(this._days),o=fo(this._months);e=b(i/60),t=b(e/60),i%=60,e%=60,n=b(o/12),o%=12;var s=n,a=o,c=r,l=t,u=e,d=i,p=this.asSeconds();return p?(0>p?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(c?c+"D":"")+(l||u||d?"T":"")+(l?l+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var hi,mi;mi=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;n>i;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var gi=e.momentProperties=[],yi=!1,vi={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var bi;bi=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};var wi,Si={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},xi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ci="Invalid date",Oi="%d",ki=/\d{1,2}/,$i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ti={},Ai={},Mi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ii=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ei={},Li={},Ni=/\d/,ji=/\d\d/,Pi=/\d{3}/,Di=/\d{4}/,_i=/[+-]?\d{6}/,Ri=/\d\d?/,Ui=/\d\d\d\d?/,Fi=/\d\d\d\d\d\d?/,Vi=/\d{1,3}/,Bi=/\d{1,4}/,qi=/[+-]?\d{1,6}/,Yi=/\d+/,Hi=/[+-]?\d+/,Wi=/Z|[+-]\d\d:?\d\d/gi,zi=/Z|[+-]\d\d(?::?\d\d)?/gi,Gi=/[+-]?\d+(\.\d{1,3})?/,Ki=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Zi={},Xi={},Ji=0,Qi=1,er=2,tr=3,nr=4,ir=5,rr=6,or=7,sr=8;wi=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),W("MMMM",0,0,function(e){return this.localeData().months(this,e)}),P("month","M"),R("month",8),X("M",Ri),X("MM",Ri,ji),X("MMM",function(e,t){return t.monthsShortRegex(e)}),X("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[Qi]=w(e)-1}),te(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[Qi]=r:p(n).invalidMonth=e});var ar=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,cr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),lr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ur=Ki,dr=Ki;W("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),P("year","y"),R("year",1),X("Y",Hi),X("YY",Ri,ji),X("YYYY",Bi,Di),X("YYYYY",qi,_i),X("YYYYYY",qi,_i),te(["YYYYY","YYYYYY"],Ji),te("YYYY",function(t,n){n[Ji]=2===t.length?e.parseTwoDigitYear(t):w(t)}),te("YY",function(t,n){n[Ji]=e.parseTwoDigitYear(t)}),te("Y",function(e,t){t[Ji]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)};var pr=F("FullYear",!0);W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),R("week",5),R("isoWeek",5),X("w",Ri),X("ww",Ri,ji),X("W",Ri),X("WW",Ri,ji),ne(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=w(e)});var fr={dow:0,doy:6};W("d",0,"do","day"),W("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),W("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),W("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),X("d",Ri),X("e",Ri),X("E",Ri),X("dd",function(e,t){return t.weekdaysMinRegex(e)}),X("ddd",function(e,t){return t.weekdaysShortRegex(e)}),X("dddd",function(e,t){return t.weekdaysRegex(e)}),ne(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:p(n).invalidWeekday=e}),ne(["d","e","E"],function(e,t,n,i){t[i]=w(e)});var hr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),mr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),gr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),yr=Ki,vr=Ki,br=Ki;W("H",["HH",2],0,"hour"),W("h",["hh",2],0,qe),W("k",["kk",2],0,Ye),W("hmm",0,0,function(){return""+qe.apply(this)+H(this.minutes(),2)}),W("hmmss",0,0,function(){return""+qe.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2);
}),He("a",!0),He("A",!1),P("hour","h"),R("hour",13),X("a",We),X("A",We),X("H",Ri),X("h",Ri),X("HH",Ri,ji),X("hh",Ri,ji),X("hmm",Ui),X("hmmss",Fi),X("Hmm",Ui),X("Hmmss",Fi),te(["H","HH"],tr),te(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),te(["h","hh"],function(e,t,n){t[tr]=w(e),p(n).bigHour=!0}),te("hmm",function(e,t,n){var i=e.length-2;t[tr]=w(e.substr(0,i)),t[nr]=w(e.substr(i)),p(n).bigHour=!0}),te("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[tr]=w(e.substr(0,i)),t[nr]=w(e.substr(i,2)),t[ir]=w(e.substr(r)),p(n).bigHour=!0}),te("Hmm",function(e,t,n){var i=e.length-2;t[tr]=w(e.substr(0,i)),t[nr]=w(e.substr(i))}),te("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[tr]=w(e.substr(0,i)),t[nr]=w(e.substr(i,2)),t[ir]=w(e.substr(r))});var wr,Sr=/[ap]\.?m?\.?/i,xr=F("Hours",!0),Cr={calendar:Si,longDateFormat:xi,invalidDate:Ci,ordinal:Oi,ordinalParse:ki,relativeTime:$i,months:cr,monthsShort:lr,week:fr,weekdays:hr,weekdaysMin:gr,weekdaysShort:mr,meridiemParse:Sr},Or={},kr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,$r=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Tr=/Z|[+-]\d\d(?::?\d\d)?/,Ar=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Mr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ir=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=C("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Er=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:h()}),Lr=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:h()}),Nr=function(){return Date.now?Date.now():+new Date};kt("Z",":"),kt("ZZ",""),X("Z",zi),X("ZZ",zi),te(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=$t(zi,e)});var jr=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Pr=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Dr=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ft.fn=xt.prototype;var _r=Yt(1,"add"),Rr=Yt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ur=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),kn("gggg","weekYear"),kn("ggggg","weekYear"),kn("GGGG","isoWeekYear"),kn("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),X("G",Hi),X("g",Hi),X("GG",Ri,ji),X("gg",Ri,ji),X("GGGG",Bi,Di),X("gggg",Bi,Di),X("GGGGG",qi,_i),X("ggggg",qi,_i),ne(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=w(e)}),ne(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),W("Q",0,"Qo","quarter"),P("quarter","Q"),R("quarter",7),X("Q",Ni),te("Q",function(e,t){t[Qi]=3*(w(e)-1)}),W("D",["DD",2],"Do","date"),P("date","D"),R("date",9),X("D",Ri),X("DD",Ri,ji),X("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),te(["D","DD"],er),te("Do",function(e,t){t[er]=w(e.match(Ri)[0],10)});var Fr=F("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),R("dayOfYear",4),X("DDD",Vi),X("DDDD",Pi),te(["DDD","DDDD"],function(e,t,n){n._dayOfYear=w(e)}),W("m",["mm",2],0,"minute"),P("minute","m"),R("minute",14),X("m",Ri),X("mm",Ri,ji),te(["m","mm"],nr);var Vr=F("Minutes",!1);W("s",["ss",2],0,"second"),P("second","s"),R("second",15),X("s",Ri),X("ss",Ri,ji),te(["s","ss"],ir);var Br=F("Seconds",!1);W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),R("millisecond",16),X("S",Vi,Ni),X("SS",Vi,ji),X("SSS",Vi,Pi);var qr;for(qr="SSSS";qr.length<=9;qr+="S")X(qr,Yi);for(qr="S";qr.length<=9;qr+="S")te(qr,jn);var Yr=F("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var Hr=y.prototype;Hr.add=_r,Hr.calendar=zt,Hr.clone=Gt,Hr.diff=tn,Hr.endOf=hn,Hr.format=sn,Hr.from=an,Hr.fromNow=cn,Hr.to=ln,Hr.toNow=un,Hr.get=q,Hr.invalidAt=Cn,Hr.isAfter=Kt,Hr.isBefore=Zt,Hr.isBetween=Xt,Hr.isSame=Jt,Hr.isSameOrAfter=Qt,Hr.isSameOrBefore=en,Hr.isValid=Sn,Hr.lang=Ur,Hr.locale=dn,Hr.localeData=pn,Hr.max=Lr,Hr.min=Er,Hr.parsingFlags=xn,Hr.set=Y,Hr.startOf=fn,Hr.subtract=Rr,Hr.toArray=vn,Hr.toObject=bn,Hr.toDate=yn,Hr.toISOString=on,Hr.toJSON=wn,Hr.toString=rn,Hr.unix=gn,Hr.valueOf=mn,Hr.creationData=On,Hr.year=pr,Hr.isLeapYear=ye,Hr.weekYear=$n,Hr.isoWeekYear=Tn,Hr.quarter=Hr.quarters=Ln,Hr.month=ue,Hr.daysInMonth=de,Hr.week=Hr.weeks=Te,Hr.isoWeek=Hr.isoWeeks=Ae,Hr.weeksInYear=Mn,Hr.isoWeeksInYear=An,Hr.date=Fr,Hr.day=Hr.days=De,Hr.weekday=_e,Hr.isoWeekday=Re,Hr.dayOfYear=Nn,Hr.hour=Hr.hours=xr,Hr.minute=Hr.minutes=Vr,Hr.second=Hr.seconds=Br,Hr.millisecond=Hr.milliseconds=Yr,Hr.utcOffset=Mt,Hr.utc=Et,Hr.local=Lt,Hr.parseZone=Nt,Hr.hasAlignedHourOffset=jt,Hr.isDST=Pt,Hr.isLocal=_t,Hr.isUtcOffset=Rt,Hr.isUtc=Ut,Hr.isUTC=Ut,Hr.zoneAbbr=Pn,Hr.zoneName=Dn,Hr.dates=C("dates accessor is deprecated. Use date instead.",Fr),Hr.months=C("months accessor is deprecated. Use month instead",ue),Hr.years=C("years accessor is deprecated. Use year instead",pr),Hr.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",It),Hr.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Dt);var Wr=Hr,zr=A.prototype;zr.calendar=M,zr.longDateFormat=I,zr.invalidDate=E,zr.ordinal=L,zr.preparse=Un,zr.postformat=Un,zr.relativeTime=N,zr.pastFuture=j,zr.set=$,zr.months=oe,zr.monthsShort=se,zr.monthsParse=ce,zr.monthsRegex=fe,zr.monthsShortRegex=pe,zr.week=Oe,zr.firstDayOfYear=$e,zr.firstDayOfWeek=ke,zr.weekdays=Ee,zr.weekdaysMin=Ne,zr.weekdaysShort=Le,zr.weekdaysParse=Pe,zr.weekdaysRegex=Ue,zr.weekdaysShortRegex=Fe,zr.weekdaysMinRegex=Ve,zr.isPM=ze,zr.meridiem=Ge,Je("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=C("moment.lang is deprecated. Use moment.locale instead.",Je),e.langData=C("moment.langData is deprecated. Use moment.localeData instead.",tt);var Gr=Math.abs,Kr=ri("ms"),Zr=ri("s"),Xr=ri("m"),Jr=ri("h"),Qr=ri("d"),eo=ri("w"),to=ri("M"),no=ri("y"),io=si("milliseconds"),ro=si("seconds"),oo=si("minutes"),so=si("hours"),ao=si("days"),co=si("months"),lo=si("years"),uo=Math.round,po={s:45,m:45,h:22,d:26,M:11},fo=Math.abs,ho=xt.prototype;ho.abs=Gn,ho.add=Zn,ho.subtract=Xn,ho.as=ni,ho.asMilliseconds=Kr,ho.asSeconds=Zr,ho.asMinutes=Xr,ho.asHours=Jr,ho.asDays=Qr,ho.asWeeks=eo,ho.asMonths=to,ho.asYears=no,ho.valueOf=ii,ho._bubble=Qn,ho.get=oi,ho.milliseconds=io,ho.seconds=ro,ho.minutes=oo,ho.hours=so,ho.days=ao,ho.weeks=ai,ho.months=co,ho.years=lo,ho.humanize=pi,ho.toISOString=fi,ho.toString=fi,ho.toJSON=fi,ho.locale=dn,ho.localeData=pn,ho.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",fi),ho.lang=Ur,W("X",0,0,"unix"),W("x",0,0,"valueOf"),X("x",Hi),X("X",Gi),te("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),te("x",function(e,t,n){n._d=new Date(w(e))}),e.version="2.15.1",n(vt),e.fn=Wr,e.min=wt,e.max=St,e.now=Nr,e.utc=u,e.unix=_n,e.months=qn,e.isDate=s,e.locale=Je,e.invalid=h,e.duration=Ft,e.isMoment=v,e.weekdays=Hn,e.parseZone=Rn,e.localeData=tt,e.isDuration=Ct,e.monthsShort=Yn,e.weekdaysMin=zn,e.defineLocale=Qe,e.updateLocale=et,e.locales=nt,e.weekdaysShort=Wn,e.normalizeUnits=D,e.relativeTimeRounding=ui,e.relativeTimeThreshold=di,e.calendarFormat=Wt,e.prototype=Wr;var mo=e;return mo}),n("platform/commonUI/formats/src/UTCTimeFormat",["moment"],function(e){function t(){this.key="utc"}function n(t){var n=e.utc(t),i=[[".SSS",function(e){return e.milliseconds()}],[":ss",function(e){return e.seconds()}],["HH:mm",function(e){return e.minutes()}],["HH",function(e){return e.hours()}],["ddd DD",function(e){return e.days()&&1!==e.date()}],["MMM DD",function(e){return 1!==e.date()}],["MMMM",function(e){return e.month()}],["YYYY",function(){return!0}]].filter(function(e){return e[1](n)})[0][0];return void 0!==i?e.utc(t).format(i):void 0}var i="YYYY-MM-DD HH:mm:ss.SSS",r=[i,"YYYY-MM-DD HH:mm:ss","YYYY-MM-DD HH:mm","YYYY-MM-DD"];return t.prototype.format=function(t){return arguments.length>1?n(t):e.utc(t).format(i)+"Z"},t.prototype.parse=function(t){return e.utc(t,r).valueOf()},t.prototype.validate=function(t){return e.utc(t,r).isValid()},t}),n("platform/commonUI/formats/src/DurationFormat",["moment"],function(e){function t(){this.key="duration"}var n="HH:mm:ss",i=[n];return t.prototype.format=function(t){return e.utc(t).format(n)},t.prototype.parse=function(t){return e.duration(t).asMilliseconds()},t.prototype.validate=function(t){return e.utc(t,i).isValid()},t}),n("platform/commonUI/formats/bundle",["./src/FormatProvider","./src/UTCTimeFormat","./src/DurationFormat","legacyRegistry"],function(e,t,n,i){i.register("platform/commonUI/formats",{name:"Format Registry",description:"Provides a registry for formats, which allow parsing and formatting of values.",extensions:{components:[{provides:"formatService",type:"provider",implementation:e,depends:["formats[]"]}],formats:[{key:"utc",implementation:t},{key:"duration",implementation:n}],constants:[{key:"DEFAULT_TIME_FORMAT",value:"utc"}],licenses:[{name:"d3",version:"3.0.0",description:"Incorporates modified code from d3 Time Scales",author:"Mike Bostock",copyright:"Copyright 2010-2016 Mike Bostock. All rights reserved.",link:"https://github.com/d3/d3/blob/master/LICENSE"}]}})}),n("platform/commonUI/general/src/services/UrlService",[],function(){function e(e){this.$location=e}return e.prototype.urlForLocation=function(e,t){var n=t&&t.getCapability("context"),i=n?n.getPath():[],r=i.map(function(e){return e.getId()});return e+"/"+r.slice(1).join("/")},e.prototype.urlForNewTab=function(e,t){var n="?view="+this.$location.search().view,i="index.html#"+this.urlForLocation(e,t)+n;return i},e}),n("platform/commonUI/general/src/services/Popup",[],function(){function e(e,t){this.styles=t,this.element=e,e.css(t)}return e.prototype.dismiss=function(){this.element.remove()},e.prototype.goesLeft=function(){return!this.styles.left},e.prototype.goesRight=function(){return!this.styles.right},e.prototype.goesUp=function(){return!this.styles.top},e.prototype.goesDown=function(){return!this.styles.bottom},e}),n("platform/commonUI/general/src/services/PopupService",["./Popup"],function(e){function t(e,t){this.$document=e,this.$window=t}return t.prototype.display=function(t,n,i){function r(e,t){return 0>e?e+u[t]:e}var o,s,a=this.$document,c=this.$window,l=a.find("body"),u=[c.innerWidth,c.innerHeight],d={position:"absolute"};return i=i||{},s=[void 0!==i.offsetX?i.offsetX:0,void 0!==i.offsetY?i.offsetY:0],o=[i.marginX,i.marginY].map(function(e,t){return void 0===e?u[t]/2:e}).map(r),n=n.map(r),n[0]>o[0]?d.right=u[0]-n[0]+s[0]+"px":d.left=n[0]+s[0]+"px",n[1]>o[1]?d.bottom=u[1]-n[1]+s[1]+"px":d.top=n[1]+s[1]+"px",l.append(t),new e(t,d)},t}),n("platform/commonUI/general/src/SplashScreenManager",[],function(){function e(e){var t;e=e[0],t=e.querySelectorAll(".l-splash-holder")[0],t&&(t.className+=" fadeout",t.addEventListener("transitionend",function(){t.parentNode.removeChild(t)}))}return e}),n("platform/commonUI/general/src/StyleSheetLoader",[],function(){function e(e,t,n,i){function r(e){var t=a.createElement("link"),n=[i,e.bundle.path,e.bundle.resources,e.stylesheetUrl].join("/");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",n),s.append(t)}function o(e){return void 0===e.theme||e.theme===n}var s=t.find("head"),a=t[0];i=i||".",e.filter(o).forEach(r)}return e}),n("platform/commonUI/general/src/controllers/TimeRangeController",[],function(){function e(e){return 100*e+"%"}function t(e,t,n){return Math.max(t,Math.min(n,e))}function n(e){return{start:e.start,end:e.end}}function i(e,t,n,i,r){this.$scope=e,this.formatService=n,this.defaultFormat=i,this.now=r,this.tickCount=2,this.innerMinimumSpan=1e3,this.outerMinimumSpan=1e3,this.initialDragValue=void 0,this.formatter=n.getFormat(i),this.formStartChanged=!1,this.formEndChanged=!1,this.$timeout=t,this.$scope.ticks=[],this.updateViewFromModel(this.$scope.ngModel),this.updateFormModel(),["updateViewFromModel","updateSpanWidth","updateOuterStart","updateOuterEnd","updateFormat","validateStart","validateEnd","onFormStartChange","onFormEndChange"].forEach(function(e){this[e]=this[e].bind(this)},this),this.$scope.$watchCollection("ngModel",this.updateViewFromModel),this.$scope.$watch("spanWidth",this.updateSpanWidth),this.$scope.$watch("ngModel.outer.start",this.updateOuterStart),this.$scope.$watch("ngModel.outer.end",this.updateOuterEnd),this.$scope.$watch("parameters.format",this.updateFormat),this.$scope.$watch("formModel.start",this.onFormStartChange),this.$scope.$watch("formModel.end",this.onFormEndChange)}var r=150;return i.prototype.formatTimestamp=function(e){return this.formatter.format(e)},i.prototype.updateTicks=function(){var e,t,n,i,r,o;for(r=this.$scope.ngModel.outer.end,i=this.$scope.ngModel.outer.start,o=r-i,this.$scope.ticks=[],e=0;e<this.tickCount;e+=1)t=e/(this.tickCount-1),n=t*o+i,this.$scope.ticks.push(this.formatTimestamp(n))},i.prototype.updateSpanWidth=function(e){this.tickCount=Math.max(Math.floor(e/r),2),this.updateTicks()},i.prototype.updateViewForInnerSpanFromModel=function(t){var n=t.outer.end-t.outer.start;this.$scope.startInnerText=this.formatTimestamp(t.inner.start),this.$scope.endInnerText=this.formatTimestamp(t.inner.end),this.$scope.startInnerPct=e((t.inner.start-t.outer.start)/n),this.$scope.endInnerPct=e((t.outer.end-t.inner.end)/n)},i.prototype.defaultBounds=function(){var e=this.now();return{start:e-864e5,end:e}},i.prototype.updateViewFromModel=function(e){e=e||{},e.outer=e.outer||this.defaultBounds(),e.inner=e.inner||n(e.outer),this.$scope.ngModel=e,this.updateViewForInnerSpanFromModel(e),this.updateTicks()},i.prototype.startLeftDrag=function(){this.initialDragValue=this.$scope.ngModel.inner.start},i.prototype.startRightDrag=function(){this.initialDragValue=this.$scope.ngModel.inner.end},i.prototype.startMiddleDrag=function(){this.initialDragValue={start:this.$scope.ngModel.inner.start,end:this.$scope.ngModel.inner.end}},i.prototype.toMillis=function(e){var t=this.$scope.ngModel.outer.end-this.$scope.ngModel.outer.start;return e/this.$scope.spanWidth*t},i.prototype.leftDrag=function(e){var n=this.toMillis(e);this.$scope.ngModel.inner.start=t(this.initialDragValue+n,this.$scope.ngModel.outer.start,this.$scope.ngModel.inner.end-this.innerMinimumSpan),this.updateViewFromModel(this.$scope.ngModel)},i.prototype.rightDrag=function(e){var n=this.toMillis(e);this.$scope.ngModel.inner.end=t(this.initialDragValue+n,this.$scope.ngModel.inner.start+this.innerMinimumSpan,this.$scope.ngModel.outer.end),this.updateViewFromModel(this.$scope.ngModel)},i.prototype.middleDrag=function(e){var n=this.toMillis(e),i=0>n?"start":"end",r=0>n?"end":"start";this.$scope.ngModel.inner[i]=t(this.initialDragValue[i]+n,this.$scope.ngModel.outer.start,this.$scope.ngModel.outer.end),this.$scope.ngModel.inner[r]=this.$scope.ngModel.inner[i]+this.initialDragValue[r]-this.initialDragValue[i],this.updateViewFromModel(this.$scope.ngModel)},i.prototype.updateFormModel=function(){this.$scope.formModel={start:((this.$scope.ngModel||{}).outer||{}).start,end:((this.$scope.ngModel||{}).outer||{}).end}},i.prototype.updateOuterStart=function(){var e=this.$scope.ngModel;e.inner.start=Math.max(e.outer.start,e.inner.start),e.inner.end=Math.max(e.inner.start+this.innerMinimumSpan,e.inner.end),this.updateFormModel(),this.updateViewForInnerSpanFromModel(e),this.updateTicks()},i.prototype.updateOuterEnd=function(){var e=this.$scope.ngModel;e.inner.end=Math.min(e.outer.end,e.inner.end),e.inner.start=Math.min(e.inner.end-this.innerMinimumSpan,e.inner.start),this.updateFormModel(),this.updateViewForInnerSpanFromModel(e),this.updateTicks()},i.prototype.updateFormat=function(e){this.formatter=this.formatService.getFormat(e||this.defaultFormat),this.updateViewForInnerSpanFromModel(this.$scope.ngModel),this.updateTicks()},i.prototype.updateBoundsFromForm=function(){var e=this;this.$timeout(function(){e.formStartChanged&&(e.$scope.ngModel.outer.start=e.$scope.ngModel.inner.start=e.$scope.formModel.start,e.formStartChanged=!1),e.formEndChanged&&(e.$scope.ngModel.outer.end=e.$scope.ngModel.inner.end=e.$scope.formModel.end,e.formEndChanged=!1)})},i.prototype.onFormStartChange=function(e,t){this.formStartChanged||e===t||(this.formStartChanged=!0)},i.prototype.onFormEndChange=function(e,t){this.formEndChanged||e===t||(this.formEndChanged=!0)},i.prototype.validateStart=function(e){return e<=this.$scope.formModel.end-this.outerMinimumSpan},i.prototype.validateEnd=function(e){return e>=this.$scope.formModel.start+this.outerMinimumSpan},i}),n("platform/commonUI/general/src/controllers/DateTimePickerController",["moment"],function(e){function t(t,o){function s(){var t,n,i=e.utc({year:u,month:d}).day(0),r=[];for(t=0;6>t;t+=1)for(r.push([]),n=0;7>n;n+=1)r[t].push({year:i.year(),month:i.month(),day:i.date(),dayOfYear:i.dayOfYear()}),i.add(1,"days");return r}function a(){t.month=i[d],t.year=u,t.table=s()}function c(n){var i;i=e.utc(n),t.date={year:i.year(),month:i.month(),day:i.date()},t.time={hours:i.hour(),minutes:i.minute(),seconds:i.second()},p||(u=i.year(),d=i.month(),a())}function l(){var n=e.utc({year:t.date.year,month:t.date.month,day:t.date.day,hour:t.time.hours,minute:t.time.minutes,second:t.time.seconds});t.ngModel[t.field]=n.valueOf()}var u,d,p=!1;t.isInCurrentMonth=function(e){return e.month===d},t.isSelected=function(e){var n=t.date||{};return e.day===n.day&&e.month===n.month&&e.year===n.year},t.select=function(e){t.date=t.date||{},t.date.month=e.month,t.date.year=e.year,t.date.day=e.day,l()},t.dateEquals=function(e,t){return e.year===t.year&&e.month===t.month&&e.day===t.day},t.changeMonth=function(e){d+=e,d>11&&(d=0,u+=1),0>d&&(d=11,u-=1),p=!0,a()},t.nameFor=function(e){return n[e]},t.optionsFor=function(e){return r[e]},a(),t.ngModel[t.field]=void 0===t.ngModel[t.field]?o():t.ngModel[t.field],t.$watch("ngModel[field]",c),t.$watchCollection("date",l),t.$watchCollection("time",l)}var n={hours:"Hour",minutes:"Minute",seconds:"Second"},i=e.months(),r=function(){for(var e=[];e.length<60;)e.push(e.length);return{hours:e.slice(0,24),minutes:e,seconds:e}}();return t}),n("platform/commonUI/general/src/controllers/DateTimeFieldController",[],function(){function e(e,t,n){function i(t){c.validate(e.textValue)&&c.parse(e.textValue)===t||(e.textValue=c.format(t),e.textInvalid=!1,e.lastValidValue=e.textValue),e.pickerModel={value:t}}function r(t){e.textInvalid=!c.validate(t),e.textInvalid||(e.ngModel[e.field]=c.parse(t),e.lastValidValue=e.textValue)}function o(t){t!==e.ngModel[e.field]&&(e.ngModel[e.field]=t,i(t),e.ngBlur&&e.ngBlur(),e.picker.active&&(e.structure.validate&&e.structure.validate(e.ngModel[e.field])?e.picker.active=!1:e.structure.validate||(e.picker.active=!1)))}function s(r){c=t.getFormat(r||n),i(e.ngModel[e.field])}function a(){e.textValue=e.lastValidValue,r(e.textValue)}var c=t.getFormat(n);e.restoreTextValue=a,e.picker={active:!1},e.$watch("structure.format",s),e.$watch("ngModel[field]",i),e.$watch("pickerModel.value",o),e.$watch("textValue",r)}return e}),n("platform/commonUI/general/src/controllers/TreeNodeController",[],function(){function e(e,t){function n(e){return e&&e.getId&&e.getId()}function i(e,t,n){return n=n||0,n>=e.length||t[n]===e[n]&&i(e,t,n+1)}function r(){var t,r,o=e.domainObject,c=a,l=o&&o.getCapability("context"),u=c&&c.getCapability("context");s.isSelectedFlag=!1,l&&u&&(t=l.getPath().map(n),r=u.getPath().map(n),r.length>=t.length&&i(t,r)&&(t.length===r.length?s.isSelectedFlag=!0:(e.toggle&&e.toggle.setState(!0),s.trackExpansion())))}function o(e){a=e,r()}var s=this,a=(e.ngModel||{}).selectedObject;this.isSelectedFlag=!1,this.hasBeenExpandedFlag=!1,this.$timeout=t,this.$scope=e,e.$watch("ngModel.selectedObject",o),e.$watch("domainObject",r)}return e.prototype.select=function(){this.$scope.ngModel&&(this.$scope.ngModel.selectedObject=this.$scope.domainObject),(this.$scope.parameters||{}).callback&&this.$scope.parameters.callback(this.$scope.domainObject)},e.prototype.trackExpansion=function(){var e=this;e.hasBeenExpanded()||e.$timeout(function(){e.hasBeenExpandedFlag=!0},0)},e.prototype.hasBeenExpanded=function(){return this.hasBeenExpandedFlag},e.prototype.isSelected=function(){return this.isSelectedFlag},e}),n("platform/commonUI/general/src/controllers/ActionGroupController",[],function(){function e(e){function t(t){function n(e){var t=e.getMetadata(),n=t.group;n?(i[n]=i[n]||[],i[n].push(e)):r.push(e)}var i={},r=[];(t||[]).forEach(n),e.ungrouped=r,e.groups=Object.keys(i).sort().map(function(e){return i[e]})}function n(){var n=e.action,i=e.parameters||{},r=i.category;t(n&&r?n.getActions({category:r}):[])}e.$watch("domainObject",n),e.$watch("action",n),e.$watch("parameters.category",n),e.ungrouped=[],e.groups=[]}return e}),n("platform/commonUI/general/src/controllers/ToggleController",[],function(){function e(){this.state=!1,this.setState=this.setState.bind(this)}return e.prototype.isActive=function(){return this.state},e.prototype.setState=function(e){this.state=e},e.prototype.toggle=function(){this.state=!this.state},e}),n("platform/commonUI/general/src/controllers/ContextMenuController",[],function(){function e(e){function t(){e.menuActions=e.action?e.action.getActions({category:"contextual"}):[]}e.$watch("action",t)}return e}),n("platform/commonUI/general/src/controllers/ClickAwayController",[],function(){function e(e,t){var n=this;this.state=!1,this.$document=e,this.clickaway=function(){t(function(){n.deactivate()})}}return e.prototype.deactivate=function(){this.state=!1,this.$document.off("mouseup",this.clickaway)},e.prototype.activate=function(){this.state=!0,this.$document.on("mouseup",this.clickaway)},e.prototype.isActive=function(){return this.state},e.prototype.setState=function(e){this.state!==e&&this.toggle()},e.prototype.toggle=function(){this.state?this.deactivate():this.activate()},e}),n("platform/commonUI/general/src/controllers/ViewSwitcherController",[],function(){function e(e,t){function n(e,t){var n;if(t)for(n=0;n<e.length;n+=1)if(e[n].key===t.key)return e[n];return e[0]}function i(i){Array.isArray(i)&&t(function(){e.ngModel.selected=n(i,(e.ngModel||{}).selected)},0)}e.$watch("view",i)}return e}),n("platform/commonUI/general/src/controllers/BottomBarController",[],function(){function e(e){function t(e){return{template:e.template||"indicator",ngModel:"function"==typeof e?new e:e}}this.indicators=e.map(t)}return e.prototype.getIndicators=function(){return this.indicators},e}),n("platform/commonUI/general/src/controllers/GetterSetterController",[],function(){function e(e){function t(){"function"==typeof e.ngModel&&(e.getterSetter.value=e.ngModel())}function n(){"function"==typeof e.ngModel&&e.ngModel(e.getterSetter.value)}e.$watch("ngModel()",t),e.$watch("getterSetter.value",n),e.getterSetter={}}return e}),n("platform/commonUI/general/src/controllers/SelectorController",[],function(){function e(e,n){function i(){return c.selectedObject}function r(e){u.rootObject=e[t]}function o(e){var t=e&&e.getCapability("type");t&&t.instanceOf(n.structure.type)||(c.selectedObject=a),a=c.selectedObject}function s(t){function n(e){function n(t){return e[t]}u.selectedObjects=t.filter(n).map(n)}e.getObjects(t).then(n)}var a,c={},l={},u=this;n.$watch(i,o),n.$watchCollection(function(){return u.getField()},s),e.getObjects([t]).then(r),this.$scope=n,this.selectedObjects=[],this.treeModel=c,this.listModel=l}var t="ROOT";return e.prototype.setField=function(e){this.$scope.ngModel[this.$scope.field]=e},e.prototype.getField=function(){return this.$scope.ngModel[this.$scope.field]||[]},e.prototype.root=function(){return this.rootObject},e.prototype.select=function(e){var t=e&&e.getId(),n=this.getField()||[];t&&-1===n.indexOf(t)&&this.setField(n.concat([t]))},e.prototype.deselect=function(e){var t=e&&e.getId(),n=this.getField()||[];t&&-1!==n.indexOf(t)&&(this.setField(n.filter(function(e){return e!==t})),delete this.listModel.selectedObject)},e.prototype.selected=function(){return this.selectedObjects},e}),n("platform/commonUI/general/src/controllers/ObjectInspectorController",[],function(){function e(e,t){function n(){var t,n=e.ngModel.selectedObject,i=[];for(t=n&&n.hasCapability("context")&&n.getCapability("context").getParent();t&&"root"!==t.getModel().type&&t.hasCapability("context");)i.unshift(t),n=t,t=n.getCapability("context").getParent();e.contextutalParents=i}function i(n){var r;n||(n=e.ngModel.selectedObject,e.primaryParents=[]),r=n.getModel().location,r&&"root"!==r&&t.getObjects([r]).then(function(t){var n=t[r];e.primaryParents.unshift(n),i(n)})}function r(){e.metadata=e.ngModel.selectedObject&&e.ngModel.selectedObject.hasCapability("metadata")&&e.ngModel.selectedObject.useCapability("metadata")}e.primaryParents=[],e.contextutalParents=[],e.$watch("ngModel.selectedObject",function(){e.isLink=e.ngModel.selectedObject&&e.ngModel.selectedObject.hasCapability("location")&&e.ngModel.selectedObject.getCapability("location").isLink(),e.isLink?(i(),n()):(e.primaryParents=[],n()),r()})}return e}),n("platform/commonUI/general/src/controllers/BannerController",[],function(){function e(e,t,n){e.active=t.active,e.action=function(e,t){return t.stopPropagation(),e()},e.dismiss=function(e,t){t.stopPropagation(),e.dismissOrMinimize()},e.maximize=function(e){if("info"!==e.model.severity){var t;e.model.cancel=function(){t.dismiss()},e.onDismiss(function(){t.dismiss()}),t=n.showBlockingMessage(e.model)}}}return e}),n("platform/commonUI/general/src/directives/MCTContainer",[],function(){function e(e){var t={};return e.forEach(function(e){t[e.key]=e}),{restrict:"E",transclude:!0,scope:!0,link:function(e,n,i){var r=i.key,o=t[r],s="container",a={};o&&(s=o.alias||s,(o.attributes||[]).forEach(function(e){a[e]=i[e]})),e[s]=a},template:function(e,n){var i=n.key,r=t[i];return r?r.template:""}}}return e}),n("platform/commonUI/general/src/directives/MCTDrag",[],function(){function e(e){function t(t,n,i){function r(e){t.$eval(i[e],{delta:d,$event:u}),t.$apply()}function o(e){var t=[e.pageX,e.pageY];l=l||t,d=t.map(function(e,t){return e-l[t]}),u=e}function s(e){return o(e),r("mctDrag"),e.preventDefault(),!1}function a(e){return p.off("mouseup",a),p.off("mousemove",s),s(e),r("mctDragUp"),l=void 0,e.preventDefault(),!1}function c(e){return p.on("mouseup",a),p.on("mousemove",s),o(e),r("mctDragDown"),r("mctDrag"),e.preventDefault(),!1}var l,u,d,p=e.find("body");n.on("mousedown",c)}return{restrict:"A",link:t}}return e}),n("platform/commonUI/general/src/directives/MCTClickElsewhere",[],function(){function e(e){function t(t,n,i){function r(e){var r=e.clientX,o=e.clientY,s=n[0].getBoundingClientRect(),a=s.left,c=a+s.width,l=s.top,u=l+s.height;(a>r||r>c||l>o||o>u)&&t.$apply(function(){t.$eval(i.mctClickElsewhere)})}var o=e.find("body");o.on("mousedown",r),t.$on("$destroy",function(){o.off("mousedown",r)})}return{restrict:"A",link:t}}return e}),n("platform/commonUI/general/src/directives/MCTResize",[],function(){function e(e){function n(n,i,r){function o(){return r.mctResizeInterval?n.$eval(r.mctResizeInterval):t}function s(e){l&&l.width===e.width&&l.height===e.height||(n.$eval(r.mctResize,{bounds:e}),u||n.$apply(),l=e)}function a(){s({width:i[0].offsetWidth,height:i[0].offsetHeight}),d&&e(a,o(),!1)}function c(){d=!1}var l,u=!0,d=!0;n.$on("$destroy",c),a(),u=!1}return{restrict:"A",link:n}}var t=100;return e}),n("platform/commonUI/general/src/directives/MCTPopup",[],function(){function e(e,n){function i(i,r,o,s,a){var c=e(t)(i),l=r.parent()[0].getBoundingClientRect(),u=[l.left,l.top],d=n.display(c,u);c.addClass("t-popup"),a(function(e){c.append(e)}),i.$on("$destroy",function(){d.dismiss()})}return{restrict:"E",transclude:!0,link:i,scope:{}}}var t="<div></div>";return e}),n("platform/commonUI/general/src/directives/MCTScroll",[],function(){function e(e,t,n){function i(i,r,o){function s(e){r[0][t]=e}function a(){l.assign(i,r[0][t]),i.$apply(c)}var c=o[n],l=e(c);l.assign(i,r[0][t]),i.$watch(c,s),r.on("scroll",a)}return{restrict:"A",link:i}}return e}),n("platform/commonUI/general/src/directives/MCTSplitPane",[],function(){function e(e,s,a){function c(c,l,u){function d(e){return"vertical"===y.orientation?e.offsetWidth:e.offsetHeight}function p(e){var t,n=e.eq(y.reversed?2:0),i=e.eq(1),r=e.eq(y.reversed?0:2),o=d(i[0]);n.css(y.edge,"0px"),n.css(y.dimension,b-o+"px"),t=d(n[0]),n.css(y.dimension,t+"px"),i.css(y.edge,t+"px"),i.css(y.opposite,"auto"),r.css(y.edge,t+o+"px"),r.css(y.opposite,"0px"),b=t+o}function f(){var e=l.children();return 3!==e.length||"mct-splitter"!==e[1].nodeName.toLowerCase()?void s.warn(i):void p(e)}function h(){b=Math.max(b,0),b=Math.min(b,d(l[0]))}function m(e){var t=b;return"number"==typeof e&&(b=e,h(),f(),S.assign&&b!==t&&S.assign(c,b)),b}function g(e){l.children().toggleClass(e)}var y,v,b,w=u.anchor||t,S=e(u.position);return o[w]||(s.warn(r),w=t),y=o[w],c.$watch(u.position,m),l.addClass("split-layout"),l.addClass(y.orientation),m(d(l.children().eq(y.reversed?2:0)[0])),v=a(function(){m(m())},n,0,!1),c.$on("$destroy",function(){a.cancel(v)}),{position:m,toggleClass:g,anchor:function(){return y}}}return{restrict:"E",controller:["$scope","$element","$attrs",c]}}var t="left",n=15,i=["Invalid mct-split-pane contents.","This element should contain exactly three","child elements, where the middle-most element","is an mct-splitter."].join(" "),r=["Unknown anchor provided to mct-split-pane,","defaulting to",t+"."].join(" "),o={left:{edge:"left",opposite:"right",dimension:"width",orientation:"vertical"},right:{edge:"right",opposite:"left",dimension:"width",orientation:"vertical",reversed:!0},top:{edge:"top",opposite:"bottom",dimension:"height",orientation:"horizontal"},bottom:{edge:"bottom",opposite:"top",dimension:"height",orientation:"horizontal",reversed:!0}};return e}),n("platform/commonUI/general/src/directives/MCTSplitter",[],function(){function e(){function e(e,t,n,i){var r;t.addClass("splitter"),e.splitter={startMove:function(){r=i.position(),
i.toggleClass("resizing")},move:function(e){var t=i.anchor(),n="vertical"===t.orientation?0:1,o=e[n]*(t.reversed?-1:1);i.position(r+o)},endMove:function(){i.toggleClass("resizing")}}}return{restrict:"E",require:"^mctSplitPane",link:e,template:t,scope:!0}}var t='<div class=\'abs\'mct-drag-down="splitter.startMove()" mct-drag="splitter.move(delta)" mct-drag-up="splitter.endMove()"></div>';return e}),function(e){n("zepto",[],function(){return function(){var t=function(){function e(e){return null==e?String(e):W[z.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function i(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function r(t){return"object"==e(t)}function o(e){return r(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function s(e){return"number"==typeof e.length}function a(e){return M.call(e,function(e){return null!=e})}function c(e){return e.length>0?C.fn.concat.apply([],e):e}function l(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function u(e){return e in L?L[e]:L[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function d(e,t){return"number"!=typeof t||N[l(e)]?t:t+"px"}function p(e){var t,n;return E[e]||(t=I.createElement(e),I.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),E[e]=n),E[e]}function f(e){return"children"in e?A.call(e.children):C.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function h(e,t,n){for(x in t)n&&(o(t[x])||X(t[x]))?(o(t[x])&&!o(e[x])&&(e[x]={}),X(t[x])&&!X(e[x])&&(e[x]=[]),h(e[x],t[x],n)):t[x]!==S&&(e[x]=t[x])}function m(e,t){return null==t?C(e):C(e).filter(t)}function g(e,n,i,r){return t(n)?n.call(e,i,r):n}function y(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function v(e,t){var n=e.className||"",i=n&&n.baseVal!==S;return t===S?i?n.baseVal:n:void(i?n.baseVal=t:e.className=t)}function b(e){try{return e?"true"==e||("false"==e?!1:"null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?C.parseJSON(e):e):e}catch(t){return e}}function w(e,t){t(e);for(var n=0,i=e.childNodes.length;i>n;n++)w(e.childNodes[n],t)}var S,x,C,O,k,$,T=[],A=T.slice,M=T.filter,I=window.document,E={},L={},N={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},j=/^\s*<(\w+|!)[^>]*>/,P=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,D=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,_=/^(?:body|html)$/i,R=/([A-Z])/g,U=["val","css","html","text","data","width","height","offset"],F=["after","prepend","before","append"],V=I.createElement("table"),B=I.createElement("tr"),q={tr:I.createElement("tbody"),tbody:V,thead:V,tfoot:V,td:B,th:B,"*":I.createElement("div")},Y=/complete|loaded|interactive/,H=/^[\w-]*$/,W={},z=W.toString,G={},K=I.createElement("div"),Z={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},X=Array.isArray||function(e){return e instanceof Array};return G.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,r=e.parentNode,o=!r;return o&&(r=K).appendChild(e),i=~G.qsa(r,t).indexOf(e),o&&K.removeChild(e),i},k=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},$=function(e){return M.call(e,function(t,n){return e.indexOf(t)==n})},G.fragment=function(e,t,n){var i,r,s;return P.test(e)&&(i=C(I.createElement(RegExp.$1))),i||(e.replace&&(e=e.replace(D,"<$1></$2>")),t===S&&(t=j.test(e)&&RegExp.$1),t in q||(t="*"),s=q[t],s.innerHTML=""+e,i=C.each(A.call(s.childNodes),function(){s.removeChild(this)})),o(n)&&(r=C(i),C.each(n,function(e,t){U.indexOf(e)>-1?r[e](t):r.attr(e,t)})),i},G.Z=function(e,t){return e=e||[],e.__proto__=C.fn,e.selector=t||"",e},G.isZ=function(e){return e instanceof G.Z},G.init=function(e,n){var i;if(!e)return G.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&j.test(e))i=G.fragment(e,RegExp.$1,n),e=null;else{if(n!==S)return C(n).find(e);i=G.qsa(I,e)}else{if(t(e))return C(I).ready(e);if(G.isZ(e))return e;if(X(e))i=a(e);else if(r(e))i=[e],e=null;else if(j.test(e))i=G.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==S)return C(n).find(e);i=G.qsa(I,e)}}return G.Z(i,e)},C=function(e,t){return G.init(e,t)},C.extend=function(e){var t,n=A.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){h(e,n,t)}),e},G.qsa=function(e,t){var n,r="#"==t[0],o=!r&&"."==t[0],s=r||o?t.slice(1):t,a=H.test(s);return i(e)&&a&&r?(n=e.getElementById(s))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:A.call(a&&!r?o?e.getElementsByClassName(s):e.getElementsByTagName(t):e.querySelectorAll(t))},C.contains=I.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},C.type=e,C.isFunction=t,C.isWindow=n,C.isArray=X,C.isPlainObject=o,C.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},C.inArray=function(e,t,n){return T.indexOf.call(t,e,n)},C.camelCase=k,C.trim=function(e){return null==e?"":String.prototype.trim.call(e)},C.uuid=0,C.support={},C.expr={},C.map=function(e,t){var n,i,r,o=[];if(s(e))for(i=0;i<e.length;i++)n=t(e[i],i),null!=n&&o.push(n);else for(r in e)n=t(e[r],r),null!=n&&o.push(n);return c(o)},C.each=function(e,t){var n,i;if(s(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(i in e)if(t.call(e[i],i,e[i])===!1)return e;return e},C.grep=function(e,t){return M.call(e,t)},window.JSON&&(C.parseJSON=JSON.parse),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){W["[object "+t+"]"]=t.toLowerCase()}),C.fn={forEach:T.forEach,reduce:T.reduce,push:T.push,sort:T.sort,indexOf:T.indexOf,concat:T.concat,map:function(e){return C(C.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return C(A.apply(this,arguments))},ready:function(e){return Y.test(I.readyState)&&I.body?e(C):I.addEventListener("DOMContentLoaded",function(){e(C)},!1),this},get:function(e){return e===S?A.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return T.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):C(M.call(this,function(t){return G.matches(t,e)}))},add:function(e,t){return C($(this.concat(C(e,t))))},is:function(e){return this.length>0&&G.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==S)this.each(function(t){e.call(this,t)||n.push(this)});else{var i="string"==typeof e?this.filter(e):s(e)&&t(e.item)?A.call(e):C(e);this.forEach(function(e){i.indexOf(e)<0&&n.push(e)})}return C(n)},has:function(e){return this.filter(function(){return r(e)?C.contains(this,e):C(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!r(e)?e:C(e)},last:function(){var e=this[this.length-1];return e&&!r(e)?e:C(e)},find:function(e){var t,n=this;return t=e?"object"==typeof e?C(e).filter(function(){var e=this;return T.some.call(n,function(t){return C.contains(t,e)})}):1==this.length?C(G.qsa(this[0],e)):this.map(function(){return G.qsa(this,e)}):C()},closest:function(e,t){var n=this[0],r=!1;for("object"==typeof e&&(r=C(e));n&&!(r?r.indexOf(n)>=0:G.matches(n,e));)n=n!==t&&!i(n)&&n.parentNode;return C(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=C.map(n,function(e){return(e=e.parentNode)&&!i(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return m(t,e)},parent:function(e){return m($(this.pluck("parentNode")),e)},children:function(e){return m(this.map(function(){return f(this)}),e)},contents:function(){return this.map(function(){return A.call(this.childNodes)})},siblings:function(e){return m(this.map(function(e,t){return M.call(f(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return C.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=p(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var i=C(e).get(0),r=i.parentNode||this.length>1;return this.each(function(t){C(this).wrapAll(n?e.call(this,t):r?i.cloneNode(!0):i)})},wrapAll:function(e){if(this[0]){C(this[0]).before(e=C(e));for(var t;(t=e.children()).length;)e=t.first();C(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var i=C(this),r=i.contents(),o=n?e.call(this,t):e;r.length?r.wrapAll(o):i.append(o)})},unwrap:function(){return this.parent().each(function(){C(this).replaceWith(C(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=C(this);(e===S?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return C(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return C(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;C(this).empty().append(g(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=g(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(r(e))for(x in e)y(this,x,e[x]);else y(this,e,g(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:S},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){y(this,e)},this)})},prop:function(e,t){return e=Z[e]||e,1 in arguments?this.each(function(n){this[e]=g(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(R,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,t):this.attr(n);return null!==i?b(i):S},val:function(e){return 0 in arguments?this.each(function(t){this.value=g(this,e,t,this.value)}):this[0]&&(this[0].multiple?C(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=C(this),i=g(this,e,t,n.offset()),r=n.offsetParent().offset(),o={top:i.top-r.top,left:i.left-r.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(!this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var i,r=this[0];if(!r)return;if(i=getComputedStyle(r,""),"string"==typeof t)return r.style[k(t)]||i.getPropertyValue(t);if(X(t)){var o={};return C.each(t,function(e,t){o[t]=r.style[k(t)]||i.getPropertyValue(t)}),o}}var s="";if("string"==e(t))n||0===n?s=l(t)+":"+d(t,n):this.each(function(){this.style.removeProperty(l(t))});else for(x in t)t[x]||0===t[x]?s+=l(x)+":"+d(x,t[x])+";":this.each(function(){this.style.removeProperty(l(x))});return this.each(function(){this.style.cssText+=";"+s})},index:function(e){return e?this.indexOf(C(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return e?T.some.call(this,function(e){return this.test(v(e))},u(e)):!1},addClass:function(e){return e?this.each(function(t){if("className"in this){O=[];var n=v(this),i=g(this,e,t,n);i.split(/\s+/g).forEach(function(e){C(this).hasClass(e)||O.push(e)},this),O.length&&v(this,n+(n?" ":"")+O.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===S)return v(this,"");O=v(this),g(this,e,t,O).split(/\s+/g).forEach(function(e){O=O.replace(u(e)," ")}),v(this,O.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var i=C(this),r=g(this,e,n,v(this));r.split(/\s+/g).forEach(function(e){(t===S?!i.hasClass(e):t)?i.addClass(e):i.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===S?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===S?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),i=_.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(C(e).css("margin-top"))||0,n.left-=parseFloat(C(e).css("margin-left"))||0,i.top+=parseFloat(C(t[0]).css("border-top-width"))||0,i.left+=parseFloat(C(t[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||I.body;e&&!_.test(e.nodeName)&&"static"==C(e).css("position");)e=e.offsetParent;return e})}},C.fn.detach=C.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});C.fn[e]=function(r){var o,s=this[0];return r===S?n(s)?s["inner"+t]:i(s)?s.documentElement["scroll"+t]:(o=this.offset())&&o[e]:this.each(function(t){s=C(this),s.css(e,g(this,r,t,s[e]()))})}}),F.forEach(function(t,n){var i=n%2;C.fn[t]=function(){var t,r,o=C.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:G.fragment(n)}),s=this.length>1;return o.length<1?this:this.each(function(e,t){r=i?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var a=C.contains(I.documentElement,r);o.forEach(function(e){if(s)e=e.cloneNode(!0);else if(!r)return C(e).remove();r.insertBefore(e,t),a&&w(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},C.fn[i?t+"To":"insert"+(n?"Before":"After")]=function(e){return C(e)[t](this),this}}),G.Z.prototype=C.fn,G.uniq=$,G.deserializeValue=b,C.zepto=G,C}();return window.Zepto=t,void 0===window.$&&(window.$=t),function(e){function t(e){return e._zid||(e._zid=p++)}function n(e,n,o,s){if(n=i(n),n.ns)var a=r(n.ns);return(g[t(e)]||[]).filter(function(e){return!(!e||n.e&&e.e!=n.e||n.ns&&!a.test(e.ns)||o&&t(e.fn)!==t(o)||s&&e.sel!=s)})}function i(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function r(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function o(e,t){return e.del&&!v&&e.e in b||!!t}function s(e){return w[e]||v&&b[e]||e}function a(n,r,a,c,u,p,f){var h=t(n),m=g[h]||(g[h]=[]);r.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(a);var r=i(t);r.fn=a,r.sel=u,r.e in w&&(a=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?r.fn.apply(this,arguments):void 0}),r.del=p;var h=p||a;r.proxy=function(e){if(e=l(e),!e.isImmediatePropagationStopped()){e.data=c;var t=h.apply(n,e._args==d?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},r.i=m.length,m.push(r),"addEventListener"in n&&n.addEventListener(s(r.e),r.proxy,o(r,f))})}function c(e,i,r,a,c){var l=t(e);(i||"").split(/\s/).forEach(function(t){n(e,t,r,a).forEach(function(t){delete g[l][t.i],"removeEventListener"in e&&e.removeEventListener(s(t.e),t.proxy,o(t,c))})})}function l(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(O,function(e,i){var r=n[e];t[e]=function(){return this[i]=S,r&&r.apply(n,arguments)},t[i]=x}),(n.defaultPrevented!==d?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=S)),t}function u(e){var t,n={originalEvent:e};for(t in e)C.test(t)||e[t]===d||(n[t]=e[t]);return l(n,e)}var d,p=1,f=Array.prototype.slice,h=e.isFunction,m=function(e){return"string"==typeof e},g={},y={},v="onfocusin"in window,b={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};y.click=y.mousedown=y.mouseup=y.mousemove="MouseEvents",e.event={add:a,remove:c},e.proxy=function(n,i){var r=2 in arguments&&f.call(arguments,2);if(h(n)){var o=function(){return n.apply(i,r?r.concat(f.call(arguments)):arguments)};return o._zid=t(n),o}if(m(i))return r?(r.unshift(n[i],n),e.proxy.apply(null,r)):e.proxy(n[i],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,i){return this.on(e,t,n,i,1)};var S=function(){return!0},x=function(){return!1},C=/^([A-Z]|returnValue$|layer[XY]$)/,O={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,i,r,o){var s,l,p=this;return t&&!m(t)?(e.each(t,function(e,t){p.on(e,n,i,t,o)}),p):(m(n)||h(r)||r===!1||(r=i,i=n,n=d),(h(i)||i===!1)&&(r=i,i=d),r===!1&&(r=x),p.each(function(d,p){o&&(s=function(e){return c(p,e.type,r),r.apply(this,arguments)}),n&&(l=function(t){var i,o=e(t.target).closest(n,p).get(0);return o&&o!==p?(i=e.extend(u(t),{currentTarget:o,liveFired:p}),(s||r).apply(o,[i].concat(f.call(arguments,1)))):void 0}),a(p,t,r,i,n,l||s)}))},e.fn.off=function(t,n,i){var r=this;return t&&!m(t)?(e.each(t,function(e,t){r.off(e,n,t)}),r):(m(n)||h(i)||i===!1||(i=n,n=d),i===!1&&(i=x),r.each(function(){c(this,t,i,n)}))},e.fn.trigger=function(t,n){return t=m(t)||e.isPlainObject(t)?e.Event(t):l(t),t._args=n,this.each(function(){t.type in b&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,i){var r,o;return this.each(function(s,a){r=u(m(t)?e.Event(t):t),r._args=i,r.target=a,e.each(n(a,t.type||t),function(e,t){return o=t.proxy(r),r.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){m(e)||(t=e,e=t.type);var n=document.createEvent(y[e]||"Events"),i=!0;if(t)for(var r in t)"bubbles"==r?i=!!t[r]:n[r]=t[r];return n.initEvent(e,i,!0),l(n)}}(t),function(e){function t(t,n,i){var r=e.Event(n);return e(t).trigger(r,i),!r.isDefaultPrevented()}function n(e,n,i,r){return e.global?t(n||v,i,r):void 0}function i(t){t.global&&0===e.active++&&n(t,null,"ajaxStart")}function r(t){t.global&&!--e.active&&n(t,null,"ajaxStop")}function o(e,t){var i=t.context;return t.beforeSend.call(i,e,t)===!1||n(t,i,"ajaxBeforeSend",[e,t])===!1?!1:void n(t,i,"ajaxSend",[e,t])}function s(e,t,i,r){var o=i.context,s="success";i.success.call(o,e,s,t),r&&r.resolveWith(o,[e,s,t]),n(i,o,"ajaxSuccess",[t,i,e]),c(s,t,i)}function a(e,t,i,r,o){var s=r.context;r.error.call(s,i,t,e),o&&o.rejectWith(s,[i,t,e]),n(r,s,"ajaxError",[i,r,e||t]),c(t,i,r)}function c(e,t,i){var o=i.context;i.complete.call(o,t,e),n(i,o,"ajaxComplete",[t,i]),r(i)}function l(){}function u(e){return e&&(e=e.split(";",2)[0]),e&&(e==C?"html":e==x?"json":w.test(e)?"script":S.test(e)&&"xml")||"text"}function d(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function p(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=d(t.url,t.data),t.data=void 0)}function f(t,n,i,r){return e.isFunction(n)&&(r=i,i=n,n=void 0),e.isFunction(i)||(r=i,i=void 0),{url:t,data:n,success:i,dataType:r}}function h(t,n,i,r){var o,s=e.isArray(n),a=e.isPlainObject(n);e.each(n,function(n,c){o=e.type(c),r&&(n=i?r:r+"["+(a||"object"==o||"array"==o?n:"")+"]"),!r&&s?t.add(c.name,c.value):"array"==o||!i&&"object"==o?h(t,c,i,n):t.add(n,c)})}var m,g,y=0,v=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,S=/^(?:text|application)\/xml/i,x="application/json",C="text/html",O=/^\s*$/,k=v.createElement("a");k.href=window.location.href,e.active=0,e.ajaxJSONP=function(t,n){if(!("type"in t))return e.ajax(t);var i,r,c=t.jsonpCallback,l=(e.isFunction(c)?c():c)||"jsonp"+ ++y,u=v.createElement("script"),d=window[l],p=function(t){e(u).triggerHandler("error",t||"abort")},f={abort:p};return n&&n.promise(f),e(u).on("load error",function(o,c){clearTimeout(r),e(u).off().remove(),"error"!=o.type&&i?s(i[0],f,t,n):a(null,c||"error",f,t,n),window[l]=d,i&&e.isFunction(d)&&d(i[0]),d=i=void 0}),o(f,t)===!1?(p("abort"),f):(window[l]=function(){i=arguments},u.src=t.url.replace(/\?(.+)=\?/,"?$1="+l),v.head.appendChild(u),t.timeout>0&&(r=setTimeout(function(){p("timeout")},t.timeout)),f)},e.ajaxSettings={type:"GET",beforeSend:l,success:l,error:l,complete:l,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:x,xml:"application/xml, text/xml",html:C,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(t){var n,r=e.extend({},t||{}),c=e.Deferred&&e.Deferred();for(m in e.ajaxSettings)void 0===r[m]&&(r[m]=e.ajaxSettings[m]);i(r),r.crossDomain||(n=v.createElement("a"),n.href=r.url,n.href=n.href,r.crossDomain=k.protocol+"//"+k.host!=n.protocol+"//"+n.host),r.url||(r.url=window.location.toString()),p(r);var f=r.dataType,h=/\?.+=\?/.test(r.url);if(h&&(f="jsonp"),r.cache!==!1&&(t&&t.cache===!0||"script"!=f&&"jsonp"!=f)||(r.url=d(r.url,"_="+Date.now())),"jsonp"==f)return h||(r.url=d(r.url,r.jsonp?r.jsonp+"=?":r.jsonp===!1?"":"callback=?")),e.ajaxJSONP(r,c);var y,b=r.accepts[f],w={},S=function(e,t){w[e.toLowerCase()]=[e,t]},x=/^([\w-]+:)\/\//.test(r.url)?RegExp.$1:window.location.protocol,C=r.xhr(),$=C.setRequestHeader;if(c&&c.promise(C),r.crossDomain||S("X-Requested-With","XMLHttpRequest"),S("Accept",b||"*/*"),(b=r.mimeType||b)&&(b.indexOf(",")>-1&&(b=b.split(",",2)[0]),C.overrideMimeType&&C.overrideMimeType(b)),(r.contentType||r.contentType!==!1&&r.data&&"GET"!=r.type.toUpperCase())&&S("Content-Type",r.contentType||"application/x-www-form-urlencoded"),r.headers)for(g in r.headers)S(g,r.headers[g]);if(C.setRequestHeader=S,C.onreadystatechange=function(){if(4==C.readyState){C.onreadystatechange=l,clearTimeout(y);var t,n=!1;if(C.status>=200&&C.status<300||304==C.status||0==C.status&&"file:"==x){f=f||u(r.mimeType||C.getResponseHeader("content-type")),t=C.responseText;try{"script"==f?(1,eval)(t):"xml"==f?t=C.responseXML:"json"==f&&(t=O.test(t)?null:e.parseJSON(t))}catch(i){n=i}n?a(n,"parsererror",C,r,c):s(t,C,r,c)}else a(C.statusText||null,C.status?"error":"abort",C,r,c)}},o(C,r)===!1)return C.abort(),a(null,"abort",C,r,c),C;if(r.xhrFields)for(g in r.xhrFields)C[g]=r.xhrFields[g];var T="async"in r?r.async:!0;C.open(r.type,r.url,T,r.username,r.password);for(g in w)$.apply(C,w[g]);return r.timeout>0&&(y=setTimeout(function(){C.onreadystatechange=l,C.abort(),a(null,"timeout",C,r,c)},r.timeout)),C.send(r.data?r.data:null),C},e.get=function(){return e.ajax(f.apply(null,arguments))},e.post=function(){var t=f.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=f.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,i){if(!this.length)return this;var r,o=this,s=t.split(/\s/),a=f(t,n,i),c=a.success;return s.length>1&&(a.url=s[0],r=s[1]),a.success=function(t){o.html(r?e("<div>").html(t.replace(b,"")).find(r):t),c&&c.apply(o,arguments)},e.ajax(a),this};var $=encodeURIComponent;e.param=function(t,n){var i=[];return i.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push($(t)+"="+$(n))},h(i,t,n),i.join("&").replace(/%20/g,"+")}}(t),function(e){e.fn.serializeArray=function(){var t,n,i=[],r=function(e){return e.forEach?e.forEach(r):void i.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,function(i,o){n=o.type,t=o.name,t&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&r(e(o).val())}),i},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(t),function(e){"__proto__"in{}||e.extend(e.zepto,{Z:function(t,n){return t=t||[],e.extend(t,e.fn),t.selector=n||"",t.__Z=!0,t},isZ:function(t){return"array"===e.type(t)&&"__Z"in t}});try{getComputedStyle(void 0)}catch(t){var n=getComputedStyle;window.getComputedStyle=function(e){try{return n(e)}catch(t){return null}}}}(t),e.Zepto=t}.apply(e,arguments)})}(this),n("text!platform/commonUI/general/res/templates/tree/node.html",[],function(){return'<span class="tree-item menus-to-left">\n</span>\n<span class="tree-item-subtree">\n</span>\n'}),n("text!platform/commonUI/general/res/templates/tree/toggle.html",[],function(){return"<span class='ui-symbol view-control flex-elem'>\n</span>\n"}),n("platform/commonUI/general/src/ui/ToggleView",["zepto","text!../../res/templates/tree/toggle.html"],function(e,t){function n(n){this.expanded=!!n,this.callbacks=[],this.el=e(t),this.el.on("click",function(){this.value(!this.expanded)}.bind(this))}return n.prototype.value=function(e){this.expanded=e,e?this.el.addClass("expanded"):this.el.removeClass("expanded"),this.callbacks.forEach(function(t){t(e)})},n.prototype.observe=function(e){return this.callbacks.push(e),function(){this.callbacks=this.callbacks.filter(function(t){return t!==e})}.bind(this)},n.prototype.elements=function(){return this.el},n}),n("text!platform/commonUI/general/res/templates/tree/tree-label.html",[],function(){return'<span class="rep-object-label">\n    <div class="t-object-label l-flex-row flex-elem grows">\n        <div class="t-item-icon flex-elem"></div>\n        <div class=\'t-title-label flex-elem grows\'></div>\n    </div>\n</span>\n'}),n("platform/commonUI/general/src/ui/TreeLabelView",["zepto","text!../../res/templates/tree/tree-label.html"],function(e,t){function n(n){this.el=e(t),this.gestureService=n}function i(e){var t=e.getCapability("location");return t.isLink()}function r(e){var t=e.getCapability("type");return t.getCssClass()}return n.prototype.updateView=function(e){var t=this.el.find(".t-title-label"),n=this.el.find(".t-item-icon");t.text(e?e.getModel().name:""),n.addClass(e?r(e):""),e&&i(e)?n.addClass("l-icon-link"):n.removeClass("l-icon-link")},n.prototype.model=function(e){this.unlisten&&(this.unlisten(),delete this.unlisten),this.activeGestures&&(this.activeGestures.destroy(),delete this.activeGestures),this.updateView(e),e&&(this.unlisten=e.getCapability("mutation").listen(this.updateView.bind(this,e)),this.activeGestures=this.gestureService.attachGestures(this.elements(),e,["info","menu","drag"]))},n.prototype.elements=function(){return this.el},n}),n("platform/commonUI/general/src/ui/TreeNodeView",["zepto","text!../../res/templates/tree/node.html","./ToggleView","./TreeLabelView"],function(e,t,n,i){function r(r,o,s){this.li=e("<li>"),this.statusClasses=[],this.toggleView=new n(!1),this.toggleView.observe(function(t){t?(this.subtreeView||(this.subtreeView=o(),this.subtreeView.model(this.activeObject),this.li.find(".tree-item-subtree").eq(0).append(e(this.subtreeView.elements()))),e(this.subtreeView.elements()).removeClass("hidden")):this.subtreeView&&e(this.subtreeView.elements()).addClass("hidden")}.bind(this)),this.labelView=new i(r),e(this.labelView.elements()).on("click",function(e){s(this.activeObject,e)}.bind(this)),this.li.append(e(t)),this.li.find("span").eq(0).append(e(this.toggleView.elements())).append(e(this.labelView.elements())),this.model(void 0)}function o(e){function t(e){return e.getId()}var n=e&&e.getCapability("context");return n?n.getPath().map(t):[]}return r.prototype.updateStatusClasses=function(e){this.statusClasses.forEach(function(e){this.li.removeClass(e)}.bind(this)),this.statusClasses=e.map(function(e){return"s-status-"+e}),this.statusClasses.forEach(function(e){this.li.addClass(e)}.bind(this))},r.prototype.model=function(t){this.unlisten&&this.unlisten(),this.activeObject=t,t&&t.hasCapability("composition")?e(this.toggleView.elements()).addClass("has-children"):e(this.toggleView.elements()).removeClass("has-children"),t&&t.hasCapability("status")&&(this.unlisten=t.getCapability("status").listen(this.updateStatusClasses.bind(this)),this.updateStatusClasses(t.getCapability("status").list())),this.labelView.model(t),this.subtreeView&&this.subtreeView.model(t)},r.prototype.value=function(e){var t=o(this.activeObject),n=o(e);this.onSelectionPath&&(this.li.find(".tree-item").eq(0).removeClass("selected"),this.subtreeView&&this.subtreeView.value(void 0)),this.onSelectionPath=!!e&&!!this.activeObject&&t.length<=n.length&&t.every(function(e,t){return n[t]===e}),this.onSelectionPath&&(t.length===n.length?this.li.find(".tree-item").eq(0).addClass("selected"):(this.toggleView.value(!0),this.subtreeView.value(e)))},r.prototype.elements=function(){return this.li},r}),n("text!platform/commonUI/general/res/templates/tree/wait-node.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<li class=\'tree-item t-wait-node loading\'>\n    <span class="t-title-label">Loading...</span>\n</li>\n'}),n("platform/commonUI/general/src/ui/TreeView",["zepto","./TreeNodeView","text!../../res/templates/tree/wait-node.html"],function(e,t,n){function i(t,n){this.ul=e('<ul class="tree"></ul>'),this.nodeViews=[],this.callbacks=[],this.selectFn=n||this.value.bind(this),this.gestureService=t,this.pending=!1}return i.prototype.newTreeView=function(){return new i(this.gestureService,this.selectFn)},i.prototype.setSize=function(n){for(var i;this.nodeViews.length<n;)i=new t(this.gestureService,this.newTreeView.bind(this),this.selectFn),this.nodeViews.push(i),this.ul.append(e(i.elements()));for(;this.nodeViews.length>n;)i=this.nodeViews.pop(),e(i.elements()).remove()},i.prototype.loadComposition=function(){function e(e,t){n.nodeViews[t].model(e)}function t(t){n.pending&&(n.pending=!1,n.nodeViews=[],n.ul.empty()),i===n.activeObject&&(n.setSize(t.length),
t.forEach(e),n.updateNodeViewSelection())}var n=this,i=this.activeObject;i.useCapability("composition").then(t)},i.prototype.model=function(t){this.unlisten&&this.unlisten(),this.activeObject=t,this.ul.empty(),t&&t.hasCapability("composition")?(this.pending=!0,this.ul.append(e(n)),this.unlisten=t.getCapability("mutation").listen(this.loadComposition.bind(this)),this.loadComposition(t)):this.setSize(0)},i.prototype.updateNodeViewSelection=function(){this.nodeViews.forEach(function(e){e.value(this.selectedObject)}.bind(this))},i.prototype.value=function(e,t){this.selectedObject=e,this.updateNodeViewSelection(),this.callbacks.forEach(function(n){n(e,t)})},i.prototype.observe=function(e){return this.callbacks.push(e),function(){this.callbacks=this.callbacks.filter(function(t){return t!==e})}.bind(this)},i.prototype.elements=function(){return this.ul},i}),n("platform/commonUI/general/src/directives/MCTTree",["angular","../ui/TreeView"],function(e,t){function n(n){function i(i,r){function o(e,t){if(s!==e){if(!i.allowSelection(e))return void a.value(s);s=e,i.onSelection(e),i.selectedObject=e,t&&t instanceof MouseEvent&&i.$apply()}}i.allowSelection||(i.allowSelection=function(){return!0}),i.onSelection||(i.onSelection=function(){});var s=i.selectedObject,a=new t(n),c=a.observe(o);r.append(e.element(a.elements())),i.$watch("selectedObject",function(e){s=e,a.value(e)}),i.$watch("rootObject",a.model.bind(a)),i.$on("$destroy",c)}return{restrict:"E",link:i,scope:{rootObject:"=",selectedObject:"=",onSelection:"=?",allowSelection:"=?"}}}return n}),n("platform/commonUI/general/src/filters/ReverseFilter",[],function(){function e(){return function(e){return e&&e.toString().split("").reverse().join("")}}return e}),n("text!platform/commonUI/general/res/templates/bottombar.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class=\'abs bottom-bar ue-bottom-bar mobile-disable-select\' ng-controller="BottomBarController as bar">\n    <div id=\'status\' class=\'status-holder\'>\n        <mct-include ng-repeat="indicator in bar.getIndicators()"\n                     ng-model="indicator.ngModel"\n                     key="indicator.template"\n                     class="status-block-holder"\n                     ng-class=\'indicator.ngModel.getGlyphClass()\'>\n        </mct-include>\n    </div>\n    <mct-include key="\'message-banner\'"></mct-include>\n    <mct-include key="\'about-logo\'"></mct-include>\n</div>\n'}),n("text!platform/commonUI/general/res/templates/controls/action-button.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<a class="s-button key-{{parameters.action.getMetadata().key}} {{parameters.action.getMetadata().cssClass}}"\n   ng-class="{ labeled: parameters.labeled }"\n   title="{{parameters.action.getMetadata().description}}"\n   ng-click="parameters.action.perform()">\n    <span class="title-label" ng-if="parameters.labeled">\n        {{parameters.action.getMetadata().name}}\n    </span>\n</a>\n'}),n("text!platform/commonUI/general/res/templates/controls/input-filter.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<!-- look at action-button for example -->\n<span class="t-filter l-filter s-filter"\n      ng-controller="GetterSetterController">\n	<input type="search"\n           class="t-filter-input"\n           ng-model="getterSetter.value"/>\n	<a class="clear-icon icon-x-in-circle"\n       ng-class="{show: !(getterSetter.value === \'\' || getterSetter.value === undefined)}"\n       ng-click="getterSetter.value = \'\'">\n    </a>\n</span>\n'}),n("text!platform/commonUI/general/res/templates/indicator.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<!-- DO NOT ADD SPACES BETWEEN THE SPANS - IT ADDS WHITE SPACE!! -->\n<div class=\'status block\'\n	 title="{{ngModel.getDescription()}}"\n	 ng-click=\'ngModel.configure()\'\n	 ng-show="ngModel.getText().length > 0">\n	<span class="status-indicator {{ngModel.getCssClass()}}"></span><span class="label"\n		  ng-class=\'ngModel.getTextClass()\'>\n		{{ngModel.getText()}}\n        <a class="s-button icon-gear" ng-if="ngModel.configure"></a>\n	</span><span class="count">\n	</span>\n</div>\n'}),n("text!platform/commonUI/general/res/templates/message-banner.html",[],function(){return'<div ng-controller="BannerController" ng-show="active.notification"\n     class="l-message-banner s-message-banner {{active.notification.model.severity}}" ng-class="{\n     \'minimized\': active.notification.model.minimized,\n     \'new\': !active.notification.model.minimized}"\n     ng-click="maximize(active.notification)">\n    <span class="banner-elem label">\n        {{active.notification.model.title}}\n    </span>\n    <span ng-show="active.notification.model.progress !== undefined || active.notification.model.unknownProgress">\n        <mct-include key="\'progress-bar\'" class="banner-elem"\n                     ng-model="active.notification.model">\n        </mct-include>\n    </span>\n    <a ng-hide="active.notification.model.primaryOption === undefined"\n       class="banner-elem l-action s-action"\n       ng-click="action(active.notification.model.primaryOption.callback, $event)">\n        {{active.notification.model.primaryOption.label}}\n    </a>\n    <a class="banner-elem close icon-x" ng-click="dismiss(active.notification, $event)"></a>\n</div>\n'}),n("text!platform/commonUI/general/res/templates/progress-bar.html",[],function(){return'<span class="l-progress-bar s-progress-bar"\n      ng-class="{ indeterminate:ngModel.unknownProgress }">\n    <span class="progress-amt-holder">\n        <span class="progress-amt" style="width: {{ngModel.progress}}%"></span>\n    </span>\n</span>\n<div class="progress-info hint" ng-hide="ngModel.progressText === undefined">\n    <span class="progress-amt-text" ng-show="ngModel.progress > 0">{{ngModel.progress}}% complete. </span>\n    {{ngModel.progressText}}\n</div>\n'}),n("text!platform/commonUI/general/res/templates/controls/time-controller.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="TimeRangeController as trCtrl" class="l-flex-col">\n    <form class="l-time-range-inputs-holder l-flex-row flex-elem"\n          ng-submit="trCtrl.updateBoundsFromForm()">\n        <span class="l-time-range-inputs-elem flex-elem icon-clock"></span>\n        <span class="l-time-range-inputs-elem t-inputs-w l-flex-row flex-elem">\n            <span class="l-time-range-input-w flex-elem">\n                <mct-control key="\'datetime-field\'"\n                             structure="{\n                                 format: parameters.format,\n                                 validate: trCtrl.validateStart\n                             }"\n                             ng-model="formModel"\n                             ng-blur="trCtrl.updateBoundsFromForm()"\n                             field="\'start\'"\n                             class="time-range-start">\n                </mct-control>\n            </span>\n\n            <span class="l-time-range-inputs-elem lbl flex-elem">to</span>\n\n            <span class="l-time-range-input-w flex-elem" ng-controller="ToggleController as t2">\n                <mct-control key="\'datetime-field\'"\n                             structure="{\n                                 format: parameters.format,\n                                 validate: trCtrl.validateEnd\n                             }"\n                             ng-model="formModel"\n                             ng-blur="trCtrl.updateBoundsFromForm()"\n                             field="\'end\'"\n                             class="time-range-end">\n                </mct-control>\n            </span>\n        </span>\n        <input type="submit" class="hidden">\n    </form>\n\n    <div class="l-time-range-slider-holder flex-elem">\n        <div class="l-time-range-slider">\n            <div class="slider"\n                 mct-resize="spanWidth = bounds.width">\n                <div class="knob knob-l"\n                     mct-drag-down="trCtrl.startLeftDrag()"\n                     mct-drag="trCtrl.leftDrag(delta[0])"\n                     ng-style="{ left: startInnerPct }">\n                    <div class="range-value">{{startInnerText}}</div>\n                </div>\n                <div class="knob knob-r"\n                     mct-drag-down="trCtrl.startRightDrag()"\n                     mct-drag="trCtrl.rightDrag(delta[0])"\n                     ng-style="{ right: endInnerPct }">\n                    <div class="range-value">{{endInnerText}}</div>\n                </div>\n                <div class="slot range-holder">\n                    <div class="range"\n                         mct-drag-down="trCtrl.startMiddleDrag()"\n                         mct-drag="trCtrl.middleDrag(delta[0])"\n                         ng-style="{\n                             left: startInnerPct,\n                             right: endInnerPct\n                         }">\n                        <div class="toi-line"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="l-time-range-ticks-holder flex-elem">\n        <div class="l-time-range-ticks">\n            <div\n                ng-repeat="tick in ticks track by $index"\n                ng-style="{ left: $index * (100 / (ticks.length - 1)) + \'%\' }"\n                class="tick tick-x"\n                >\n                <span class="l-time-range-tick-label">{{tick}}</span>\n            </div>\n        </div>\n    </div>\n</div>\n'}),n("text!platform/commonUI/general/res/templates/containers/accordion.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div\n    class="accordion-head"\n    ng-click="toggle.toggle()"\n    ng-class="{ expanded:!toggle.isActive() }"\n    >\n    {{container.label}}\n</div>\n<div\n    class="accordion-contents"\n    ng-show="!toggle.isActive()"\n    ng-transclude\n    >\n</div>\n'}),n("text!platform/commonUI/general/res/templates/subtree.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<mct-tree root-object="domainObject"\n    selected-object="ngModel.selectedObject"\n    on-selection="ngModel.onSelection"\n    allow-selection="ngModel.allowSelection">\n</mct-tree>\n\n'}),n("text!platform/commonUI/general/res/templates/tree.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<ul class="tree">\n    <li>\n        <mct-representation key="\'tree-node\'"\n                            mct-object="domainObject"\n                            ng-model="ngModel"\n                            parameters="parameters">\n        </mct-representation>\n    </li>\n</ul>\n'}),n("text!platform/commonUI/general/res/templates/tree-node.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="ToggleController as toggle">\n    <span ng-controller="TreeNodeController as treeNode">\n        <span\n            class="tree-item menus-to-left"\n            ng-class="{selected: treeNode.isSelected()}"\n            >\n            <span\n                class=\'ui-symbol view-control flex-elem\'\n                ng-class="{ \'has-children\': model.composition !== undefined, expanded: toggle.isActive() }"\n                ng-click="toggle.toggle(); treeNode.trackExpansion()"\n                >\n            </span>\n            <mct-representation\n                class="rep-object-label"\n                key="\'label\'"\n                mct-object="domainObject"\n                parameters="{suppressMenuOnEdit: true}"\n                ng-click="treeNode.select()"\n                >\n            </mct-representation>\n        </span>\n        <span\n            class="tree-item-subtree"\n            ng-show="toggle.isActive()"\n            ng-if="model.composition !== undefined"\n            >\n\n            <mct-representation key="\'subtree\'"\n                                ng-model="ngModel"\n                                parameters="parameters"\n                                mct-object="treeNode.hasBeenExpanded() && domainObject">\n            </mct-representation>\n\n        </span>\n    </span>\n</span>\n'}),n("text!platform/commonUI/general/res/templates/label.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="t-object-label l-flex-row flex-elem grows">\n    <div class="t-item-icon flex-elem {{type.getCssClass()}}" ng-class="{ \'l-icon-link\':location.isLink() }"></div>\n    <div class=\'t-title-label flex-elem grows\'>{{model.name}}</div>\n</div>\n'}),n("text!platform/commonUI/general/res/templates/controls/action-group.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="ActionGroupController">\n    <span ng-repeat="action in ungrouped">\n        <mct-include key="\'action-button\'" parameters="{ action: action }"></mct-include>\n    </span>\n    <span class="l-btn-set" ng-repeat="group in groups">\n        <span ng-repeat="action in group">\n            <mct-include key="\'action-button\'"\n                         parameters="{ action: action }"\n                         ng-class="{ first:$index == 0, last:$index == group.length - 1 }"\n	            >\n            </mct-include>\n        </span>\n    </span>\n</span>\n'}),n("text!platform/commonUI/general/res/templates/menu/context-menu.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="menu-element context-menu-wrapper mobile-disable-select" ng-controller="ContextMenuController">\n    <div class="menu context-menu">\n        <ul>\n            <li ng-repeat="menuAction in menuActions"\n                ng-click="menuAction.perform()"\n                title="{{menuAction.getMetadata().description}}"\n                class="{{menuAction.getMetadata().cssClass}}">\n                {{menuAction.getMetadata().name}}\n            </li>\n        </ul>\n    </div>\n</div>\n'}),n("text!platform/commonUI/general/res/templates/controls/switcher.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="ViewSwitcherController">\n    <div class="view-switcher menu-element s-menu-button {{ngModel.selected.cssClass}}"\n	    ng-if="view.length > 1"\n	    ng-controller="ClickAwayController as toggle">\n\n        <span class="l-click-area"\n	        ng-click="toggle.toggle()"\n	        title="{{ngModel.selected.name}}"></span>\n        <span class="title-label">{{ngModel.selected.name}}</span>\n\n        <div class="menu" ng-show="toggle.isActive()">\n            <ul>\n                <li ng-repeat="option in view"\n                    ng-click="ngModel.selected = option; toggle.setState(false)"\n                    class="{{option.cssClass}}">\n                    {{option.name}}\n                </li>\n            </ul>\n        </div>\n    </div>\n</span>\n'}),n("text!platform/commonUI/general/res/templates/object-inspector.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span class="l-inspect">\n    <div ng-controller="PaneController">\n        <mct-split-pane class=\'abs contents split-layout\' anchor=\'bottom\'>\n            <div class="split-pane-component pane top">\n                <div class="abs holder holder-inspector l-flex-col">\n                    <div class="pane-header flex-elem">Inspection</div>\n                    <mct-representation\n                            key="\'inspector-region\'"\n                            mct-object="domainObject"\n                            ng-model="ngModel"\n                            class="flex-elem grows vscroll l-flex-col">\n                    </mct-representation>\n                </div>\n            </div>\n            <mct-splitter class="splitter-inspect-panel mobile-hide"></mct-splitter>\n            <div class="split-pane-component pane bottom">\n                <div class="abs holder holder-elements l-flex-col">\n                    <em class="flex-elem t-inspector-part-header">Elements</em>\n                    <mct-representation\n                            key="\'edit-elements\'"\n                            mct-object="domainObject"\n                            class="flex-elem l-flex-col holder grows current-elements">\n                    </mct-representation>\n                </div>\n            </div>\n        </mct-split-pane>\n    </div>\n</span>\n'}),n("text!platform/commonUI/general/res/templates/controls/selector.html",[],function(){return"<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n \"License\"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class='form-control complex channel-selector cols cols-32'\n     ng-controller=\"SelectorController as selector\">\n    <div class='col col-15'>\n        <div class='line field-hints'>Available</div>\n        <!--div id='_form_filter' class='line filter'>\n            <input type='text' class='control filter' name='filter-available' />\n            <a class='icon ui-symbol t-available-trigger'\n               href=''\n               title=\"Filter is case sensitive\">M</a>\n        </div>\n\n        <div class=\"line\">\n            Showing {{shown}} of {{count}} available options.\n        </div -->\n\n        <div class='line treeview' name='available'>\n            <mct-representation key=\"'tree'\"\n                                mct-object=\"selector.root()\"\n                                ng-model=\"selector.treeModel\">\n            </mct-representation>\n        </div>\n    </div>\n    <div class='col col-2'>\n        <div class='btn-holder valign-mid btns-add-remove'>\n            <a class='s-button major'\n               ng-click=\"selector.select(selector.treeModel.selectedObject)\">\n                <span class='ui-symbol'>&gt;</span>\n            </a>\n            <a class='s-button major'\n               ng-click=\"selector.deselect(selector.listModel.selectedObject)\">\n                <span class='ui-symbol'>&lt;</span>\n            </a>\n        </div>\n    </div>\n    <div class='col col-15'>\n        <div class='line field-hints'>Selected</div>\n        <!-- div id='_form_filter' class='line filter'>\n            <input type='text' class='control filter' name='filter-selected' />\n            <a class='icon ui-symbol t-selected-trigger'\n               href=''\n               title=\"Filter is case sensitive\">\n                M\n            </a>\n        </div>\n        <div class=\"line\">\n            Showing {{shown}} of {{count}} available options.\n        </div -->\n\n        <div class='line treeview l-tree-item-flat-list' name='selected'>\n            <ul class=\"tree\">\n                <li ng-repeat=\"selectedObject in selector.selected()\">\n	                <span\n		                class=\"tree-item\"\n		                ng-class=\"{selected: selector.listModel.selectedObject === selectedObject }\"\n		                >\n                    <mct-representation\n	                    key=\"'label'\"\n	                    mct-object=\"selectedObject\"\n	                    ng-click=\"selector.listModel.selectedObject = selectedObject\"\n	                    >\n                    </mct-representation>\n					</span>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>\n";
}),n("text!platform/commonUI/general/res/templates/controls/datetime-picker.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n\n<div ng-controller="DateTimePickerController" class="l-datetime-picker s-datetime-picker s-menu">\n	<div class="holder">\n		<div class="l-month-year-pager">\n			<a class="pager prev" ng-click="changeMonth(-1)"></a>\n			<span class="val">{{month}} {{year}}</span>\n			<a class="pager next" ng-click="changeMonth(1)"></a>\n		</div>\n		<div class="l-calendar">\n			<ul class="l-cal-row l-header">\n				<li ng-repeat="day in [\'Su\',\'Mo\',\'Tu\',\'We\',\'Th\',\'Fr\',\'Sa\']">{{day}}</li>\n			</ul>\n			<ul class="l-cal-row l-body" ng-repeat="row in table">\n				<li ng-repeat="cell in row"\n					ng-click="select(cell)"\n					ng-class=\'{ "in-month": isInCurrentMonth(cell), selected: isSelected(cell) }\'>\n					<div class="prime">{{cell.day}}</div>\n					<div class="sub">{{cell.dayOfYear}}</div>\n				</li>\n			</ul>\n		</div>\n	</div>\n	<div class="l-time-selects complex datetime"\n			ng-show="options">\n		<div class="field-hints">\n			<span class="hint time md"\n				  ng-repeat="key in [\'hours\', \'minutes\', \'seconds\']"\n				  ng-if="options[key]">\n				{{nameFor(key)}}\n			</span>\n		</div>\n		<div>\n			<span class="field control time md"\n				  ng-repeat="key in [\'hours\', \'minutes\', \'seconds\']"\n				  ng-if="options[key]">\n				<div class=\'form-control select\'>\n					<select size="1"\n							ng-model="time[key]"\n							ng-options="i for i in optionsFor(key)">\n					</select>\n				</div>\n			</span>\n		</div>\n	</div>\n</div>\n'}),n("text!platform/commonUI/general/res/templates/controls/datetime-field.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="DateTimeFieldController">\n    <input type="text"\n           ng-model="textValue"\n           ng-blur="restoreTextValue(); ngBlur()"\n           ng-mouseup="ngMouseup()"\n           ng-disabled="ngDisabled"\n           ng-class="{\n                        error: textInvalid ||\n                            (structure.validate &&\n                                !structure.validate(ngModel[field])),\n                        \'picker-icon\': structure.format === \'utc\' || !structure.format\n                     }">\n    </input>\n    <a class="ui-symbol icon icon-calendar"\n       ng-if="!picker.active && (structure.format === \'utc\' || !structure.format)"\n       ng-click="picker.active = !picker.active"></a>\n    <!-- If picker active show icon with no onclick to prevent double registration of clicks -->\n    <a class="ui-symbol icon icon-calendar" ng-if="picker.active"></a>\n    <mct-popup ng-if="picker.active">\n        <div mct-click-elsewhere="picker.active = false">\n            <mct-control key="\'datetime-picker\'"\n                         ng-model="pickerModel"\n                         field="\'value\'">\n            </mct-control>\n        </div>\n    </mct-popup>\n</span>\n'}),n("platform/commonUI/general/bundle",["./src/services/UrlService","./src/services/PopupService","./src/SplashScreenManager","./src/StyleSheetLoader","./src/controllers/TimeRangeController","./src/controllers/DateTimePickerController","./src/controllers/DateTimeFieldController","./src/controllers/TreeNodeController","./src/controllers/ActionGroupController","./src/controllers/ToggleController","./src/controllers/ContextMenuController","./src/controllers/ClickAwayController","./src/controllers/ViewSwitcherController","./src/controllers/BottomBarController","./src/controllers/GetterSetterController","./src/controllers/SelectorController","./src/controllers/ObjectInspectorController","./src/controllers/BannerController","./src/directives/MCTContainer","./src/directives/MCTDrag","./src/directives/MCTClickElsewhere","./src/directives/MCTResize","./src/directives/MCTPopup","./src/directives/MCTScroll","./src/directives/MCTSplitPane","./src/directives/MCTSplitter","./src/directives/MCTTree","./src/filters/ReverseFilter","text!./res/templates/bottombar.html","text!./res/templates/controls/action-button.html","text!./res/templates/controls/input-filter.html","text!./res/templates/indicator.html","text!./res/templates/message-banner.html","text!./res/templates/progress-bar.html","text!./res/templates/controls/time-controller.html","text!./res/templates/containers/accordion.html","text!./res/templates/subtree.html","text!./res/templates/tree.html","text!./res/templates/tree-node.html","text!./res/templates/label.html","text!./res/templates/controls/action-group.html","text!./res/templates/menu/context-menu.html","text!./res/templates/controls/switcher.html","text!./res/templates/object-inspector.html","text!./res/templates/controls/selector.html","text!./res/templates/controls/datetime-picker.html","text!./res/templates/controls/datetime-field.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,h,m,g,y,v,b,w,S,x,C,O,k,$,T,A,M,I,E,L,N,j,P,D,_,R,U,F,V,B,q,Y,H,W,z){z.register("platform/commonUI/general",{name:"General UI elements",description:"General UI elements, meant to be reused across modes",resources:"res",extensions:{services:[{key:"urlService",implementation:e,depends:["$location"]},{key:"popupService",implementation:t,depends:["$document","$window"]}],runs:[{implementation:i,depends:["stylesheets[]","$document","THEME","ASSETS_PATH"]},{implementation:n,depends:["$document"]}],filters:[{implementation:T,key:"reverse"}],stylesheets:[{stylesheetUrl:"css/normalize.min.css",priority:"mandatory"}],templates:[{key:"bottombar",template:A},{key:"action-button",template:M},{key:"input-filter",template:I},{key:"indicator",template:E},{key:"message-banner",template:L},{key:"progress-bar",template:N},{key:"time-controller",template:j}],controllers:[{key:"TimeRangeController",implementation:r,depends:["$scope","$timeout","formatService","DEFAULT_TIME_FORMAT","now"]},{key:"DateTimePickerController",implementation:o,depends:["$scope","now"]},{key:"DateTimeFieldController",implementation:s,depends:["$scope","formatService","DEFAULT_TIME_FORMAT"]},{key:"TreeNodeController",implementation:a,depends:["$scope","$timeout","navigationService"]},{key:"ActionGroupController",implementation:c,depends:["$scope"]},{key:"ToggleController",implementation:l},{key:"ContextMenuController",implementation:u,depends:["$scope"]},{key:"ClickAwayController",implementation:d,depends:["$document","$timeout"]},{key:"ViewSwitcherController",implementation:p,depends:["$scope","$timeout"]},{key:"BottomBarController",implementation:f,depends:["indicators[]"]},{key:"GetterSetterController",implementation:h,depends:["$scope"]},{key:"SelectorController",implementation:m,depends:["objectService","$scope"]},{key:"ObjectInspectorController",implementation:g,depends:["$scope","objectService"]},{key:"BannerController",implementation:y,depends:["$scope","notificationService","dialogService"]}],directives:[{key:"mctContainer",implementation:v,depends:["containers[]"]},{key:"mctDrag",implementation:b,depends:["$document"]},{key:"mctClickElsewhere",implementation:w,depends:["$document"]},{key:"mctResize",implementation:S,depends:["$timeout"]},{key:"mctPopup",implementation:x,depends:["$compile","popupService"]},{key:"mctScrollX",implementation:C,depends:["$parse","MCT_SCROLL_X_PROPERTY","MCT_SCROLL_X_ATTRIBUTE"]},{key:"mctScrollY",implementation:C,depends:["$parse","MCT_SCROLL_Y_PROPERTY","MCT_SCROLL_Y_ATTRIBUTE"]},{key:"mctSplitPane",implementation:O,depends:["$parse","$log","$interval"]},{key:"mctSplitter",implementation:k},{key:"mctTree",implementation:$,depends:["gestureService"]}],constants:[{key:"MCT_SCROLL_X_PROPERTY",value:"scrollLeft"},{key:"MCT_SCROLL_X_ATTRIBUTE",value:"mctScrollX"},{key:"MCT_SCROLL_Y_PROPERTY",value:"scrollTop"},{key:"MCT_SCROLL_Y_ATTRIBUTE",value:"mctScrollY"},{key:"THEME",value:"unspecified",priority:"fallback"},{key:"ASSETS_PATH",value:".",priority:"fallback"}],containers:[{key:"accordion",template:P,attributes:["label"]}],representations:[{key:"tree",template:D,uses:["composition"],type:"root",priority:"preferred"},{key:"tree",template:_},{key:"subtree",template:D,uses:["composition"]},{key:"tree-node",template:R,uses:["action"]},{key:"label",template:U,uses:["type","location"],gestures:["drag","menu","info"]},{key:"node",template:U,uses:["type"],gestures:["drag","menu"]},{key:"action-group",template:F,uses:["action"]},{key:"context-menu",template:V,uses:["action"]},{key:"switcher",template:B,uses:["view"]},{key:"object-inspector",template:q}],controls:[{key:"selector",template:Y},{key:"datetime-picker",template:H},{key:"datetime-field",template:W}],licenses:[{name:"Normalize.css",version:"1.1.2",description:"Browser style normalization",author:"Nicolas Gallagher, Jonathan Neal",website:"http://necolas.github.io/normalize.css/",copyright:"Copyright (c) Nicolas Gallagher and Jonathan Neal",license:"license-mit",link:"https://github.com/necolas/normalize.css/blob/v1.1.2/LICENSE.md"},{name:"Zepto",version:"1.1.6",description:"DOM manipulation",author:"Thomas Fuchs",website:"http://zeptojs.com/",copyright:"Copyright (c) 2010-2016 Thomas Fuchs",license:"license-mit",link:"https://github.com/madrobby/zepto/blob/master/MIT-LICENSE"}]}})}),n("platform/commonUI/inspect/src/gestures/InfoGesture",[],function(){function e(e,t,n,i,r,o){var s=this;this.showBubbleCallback=function(e){s.showBubble(e)},this.hideBubbleCallback=function(e){s.hideBubble(e)},this.trackPositionCallback=function(e){s.trackPosition(e)},this.element=r,this.$timeout=e,this.infoService=n,this.delay=i,this.domainObject=o,t.isMobile()||r.on("mouseenter",this.showBubbleCallback)}return e.prototype.trackPosition=function(e){this.mousePosition=[e.clientX,e.clientY]},e.prototype.hideBubble=function(){this.dismissBubble&&(this.dismissBubble(),this.element.off("mouseleave",this.hideBubbleCallback),this.dismissBubble=void 0),this.pendingBubble&&(this.$timeout.cancel(this.pendingBubble),this.element.off("mousemove",this.trackPositionCallback),this.element.off("mouseleave",this.hideBubbleCallback),this.pendingBubble=void 0),this.mousePosition=void 0},e.prototype.showBubble=function(e){function t(){n.dismissBubble=n.infoService.display("info-table",n.domainObject.getModel().name,n.domainObject.useCapability("metadata"),n.mousePosition),n.element.off("mousemove",n.trackPositionCallback),n.pendingBubble=void 0}var n=this;this.trackPosition(e),this.pendingBubble||(this.element.on("mousemove",this.trackPositionCallback),this.pendingBubble=this.$timeout(t,this.delay),this.element.on("mouseleave",this.hideBubbleCallback))},e.prototype.destroy=function(){this.hideBubble(),this.element.off("mouseenter",this.showBubbleCallback)},e}),n("platform/commonUI/inspect/src/gestures/InfoButtonGesture",[],function(){function e(e,t,n,i,r){function o(e){l=[e.clientX-22,e.clientY]}function s(){c&&(c(),c=void 0),u.off("touchstart",s)}function a(e){o(e),e.stopPropagation(),c=n.display("info-table",r.getModel().name,r.useCapability("metadata"),l),u.on("touchstart",function(e){e.preventDefault(),s(),u.unbind("touchstart")})}var c,l,u=e.find("body");return t.isMobile()&&i.on("click",a),{destroy:function(){s(),i.off("click",a)}}}return e}),n("platform/commonUI/inspect/src/InfoConstants",{BUBBLE_TEMPLATE:'<mct-container key="bubble" bubble-title="{{bubbleTitle}}" bubble-layout="{{bubbleLayout}}"><mct-include key="bubbleTemplate" ng-model="bubbleModel"></mct-include></mct-container>',BUBBLE_OPTIONS:{offsetX:0,offsetY:-26},BUBBLE_MOBILE_POSITION:[0,-25],BUBBLE_MARGIN_LR:10,BUBBLE_MAX_WIDTH:300}),n("platform/commonUI/inspect/src/services/InfoService",["../InfoConstants"],function(e){function t(e,t,n,i){this.$compile=e,this.$rootScope=t,this.popupService=n,this.agentService=i}var n=e.BUBBLE_TEMPLATE,i=e.BUBBLE_MOBILE_POSITION,r=e.BUBBLE_OPTIONS;return t.prototype.display=function(t,o,s,a){var c,l,u,d=this.$compile,p=this.$rootScope,f=p.$new(),h=d("<span></span>")(f),m=e.BUBBLE_MARGIN_LR+e.BUBBLE_MAX_WIDTH;return c=Object.create(r),c.marginX=-m,this.agentService.isPhone()&&(a=i,c={}),l=this.popupService.display(h,a,c),f.bubbleModel=s,f.bubbleTemplate=t,f.bubbleTitle=o,f.bubbleLayout=[l.goesUp()?"arw-btm":"arw-top",l.goesLeft()?"arw-right":"arw-left"].join(" "),u=d(n)(f),h.append(u),function(){l.dismiss(),f.$destroy()}},t}),n("text!platform/commonUI/inspect/res/info-table.html",[],function(){return'<table>\n    <tr ng-repeat="property in ngModel">\n        <td class="label">{{property.name}}</td>\n        <td title="{{property.value}}" class="value align-{{property.align}}">\n            {{property.value}}\n        </td>\n    </tr>\n</table>\n'}),n("text!platform/commonUI/inspect/res/info-bubble.html",[],function(){return'<mct-container\n	key="bubble"\n	bubble-title="{{parameters.title}}"\n	bubble-layout="{{parameters.layout}}"\n	>\n    <mct-include key="info-table"\n                 ng-model="ngModel">\n    </mct-include>\n</mct-container>\n'}),n("text!platform/commonUI/inspect/res/bubble.html",[],function(){return'    <div class="t-infobubble s-infobubble l-infobubble-wrapper {{bubble.bubbleLayout}}">\n        <div class="l-infobubble">\n            <div ng-show="bubble.bubbleTitle.length > 0"\n                 class="title">\n                {{bubble.bubbleTitle}}\n            </div>\n            <span ng-transclude></span>\n        </div>\n    </div>\n'}),n("text!platform/commonUI/inspect/res/templates/info-button.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n\n<!--The icon for the info button appearing in a grid item (list in folder)-->\n<a class=\'s-icon-button icon-info\'></a>\n'}),n("platform/commonUI/inspect/bundle",["./src/gestures/InfoGesture","./src/gestures/InfoButtonGesture","./src/services/InfoService","text!./res/info-table.html","text!./res/info-bubble.html","text!./res/bubble.html","text!./res/templates/info-button.html","legacyRegistry"],function(e,t,n,i,r,o,s,a){a.register("platform/commonUI/inspect",{extensions:{templates:[{key:"info-table",template:i},{key:"info-bubble",template:r}],containers:[{key:"bubble",template:o,attributes:["bubbleTitle","bubbleLayout"],alias:"bubble"}],gestures:[{key:"info",implementation:e,depends:["$timeout","agentService","infoService","INFO_HOVER_DELAY"]},{key:"infobutton",implementation:t,depends:["$document","agentService","infoService"]}],services:[{key:"infoService",implementation:n,depends:["$compile","$rootScope","popupService","agentService"]}],constants:[{key:"INFO_HOVER_DELAY",value:2e3}],representations:[{key:"info-button",template:s,gestures:["infobutton"]}]}})}),n("platform/commonUI/mobile/src/DeviceMatchers",[],function(){return{mobile:function(e){return e.isMobile()},phone:function(e){return e.isPhone()},tablet:function(e){return e.isTablet()},desktop:function(e){return!e.isMobile()},portrait:function(e){return e.isPortrait()},landscape:function(e){return e.isLandscape()},touch:function(e){return e.isTouch()}}}),n("platform/commonUI/mobile/src/MCTDevice",["./DeviceMatchers"],function(e){function t(t){function n(n){return n=n||"",n.split(" ").every(function(n){var i=e[n];return i&&i(t)})}function i(e,t,i,r,o){n(i.mctDevice)&&o(function(e){t.replaceWith(e)})}return{link:i,transclude:"element",priority:601,terminal:!0,restrict:"A"}}return t}),n("platform/commonUI/mobile/src/AgentService",[],function(){function e(e){var t=e.navigator.userAgent,n=t.match(/iPad|iPhone|Android/i)||[];this.userAgent=t,this.mobileName=n[0],this.$window=e,this.touchEnabled=void 0!==e.ontouchstart}return e.prototype.isMobile=function(){return!!this.mobileName},e.prototype.isPhone=function(){return"iPhone"===this.mobileName},e.prototype.isTablet=function(){return this.isMobile()&&!this.isPhone()},e.prototype.isPortrait=function(){return this.$window.innerWidth<this.$window.innerHeight},e.prototype.isLandscape=function(){return!this.isPortrait()},e.prototype.isTouch=function(){return this.touchEnabled},e.prototype.isBrowser=function(e){return e=e.toLowerCase(),-1!==this.userAgent.toLowerCase().indexOf(e)},e}),n("platform/commonUI/mobile/src/DeviceClassifier",["./DeviceMatchers"],function(e){function t(t,n){var i=n.find("body");Object.keys(e).forEach(function(n){e[n](t)&&i.addClass(n)})}return t}),n("platform/commonUI/mobile/bundle",["./src/MCTDevice","./src/AgentService","./src/DeviceClassifier","legacyRegistry"],function(e,t,n,i){i.register("platform/commonUI/mobile",{extensions:{directives:[{key:"mctDevice",implementation:e,depends:["agentService"]}],services:[{key:"agentService",implementation:t,depends:["$window"]}],runs:[{implementation:n,depends:["agentService","$document"]}]}})}),n("platform/commonUI/notification/src/NotificationIndicatorController",[],function(){function e(e,t,n){e.notifications=t.notifications,e.highest=t.highest,e.showNotificationsList=function(){n.getDialogResponse("overlay-message-list",{dialog:{title:"Messages",messages:t.notifications}})}}return e}),n("platform/commonUI/notification/src/NotificationIndicator",[],function(){function e(){}return e.template="notificationIndicatorTemplate",e}),n("platform/commonUI/notification/src/NotificationService",[],function(){function e(e,t,n,i){this.notifications=[],this.$timeout=e,this.highest={severity:"info"},this.AUTO_DISMISS_TIMEOUT=n,this.MINIMIZE_ANIMATION_TIMEOUT=i,this.topic=t,this.active={}}return e.prototype.minimize=function(e,t){var n=e.notifications.indexOf(t);e.active.timeout&&(e.$timeout.cancel(e.active.timeout),delete e.active.timeout),n>=0&&(t.model.minimized=!0,e.$timeout(function(){e.setActiveNotification(e.selectNextNotification())},e.MINIMIZE_ANIMATION_TIMEOUT))},e.prototype.dismiss=function(e,t){var n=e.notifications.indexOf(t);e.active.timeout&&(e.$timeout.cancel(e.active.timeout),delete e.active.timeout),n>=0&&e.notifications.splice(n,1),e.setActiveNotification(e.selectNextNotification()),this.setHighestSeverity()},e.prototype.dismissOrMinimize=function(e){var t=e.model;"info"===t.severity?t.autoDismiss===!1?e.minimize():e.dismiss():e.minimize()},e.prototype.getActiveNotification=function(){return this.active.notification},e.prototype.info=function(e){var t="string"==typeof e?{title:e}:e;return t.severity="info",this.notify(t)},e.prototype.alert=function(e){var t="string"==typeof e?{title:e}:e;return t.severity="alert",this.notify(t)},e.prototype.error=function(e){var t="string"==typeof e?{title:e}:e;return t.severity="error",this.notify(t)},e.prototype.setHighestSeverity=function(){var e={info:1,alert:2,error:3};this.highest.severity=this.notifications.reduce(function(t,n){return e[n.model.severity]>e[t]?n.model.severity:t},"info")},e.prototype.notify=function(e){var t,n=this,i=n.active.notification,r=this.topic();return e.severity=e.severity||"info",t={model:e,minimize:function(){n.minimize(n,t)},dismiss:function(){n.dismiss(n,t),r.notify()},dismissOrMinimize:function(){n.dismissOrMinimize(t)},onDismiss:function(e){r.listen(e)}},e.dismissable!==!1&&(e.options=e.options||[],e.options.unshift({label:"Dismiss",callback:function(){t.dismiss()}})),this.notifications.push(t),this.setHighestSeverity(),this.active.notification?this.active.timeout||(this.active.timeout=this.$timeout(function(){i.dismissOrMinimize()},this.AUTO_DISMISS_TIMEOUT)):this.setActiveNotification(t),t},e.prototype.setActiveNotification=function(e){var t;return this.active.notification=e,e?(t="info"===e.model.severity?!0:e.model.autoDismiss,void(t||this.selectNextNotification()?this.active.timeout=this.$timeout(function(){e.dismissOrMinimize()},this.AUTO_DISMISS_TIMEOUT):delete this.active.timeout)):void delete this.active.timeout},e.prototype.selectNextNotification=function(){for(var e,t=0;t<this.notifications.length;t++)if(e=this.notifications[t],!e.model.minimized&&e!==this.active.notification)return e},e}),n("text!platform/commonUI/notification/res/notification-indicator.html",[],function(){return'<!-- DO NOT ADD SPACES BETWEEN THE SPANS - IT ADDS WHITE SPACE!! -->\n<a ng-click="showNotificationsList()" ng-show="notifications.length > 0" class="status block"\n      ng-class="highest.severity"\n      ng-controller="NotificationIndicatorController">\n    <span class="status-indicator icon-bell"></span><span class="label">\n      {{notifications.length}} Notifications\n    </span><span class="count">{{notifications.length}}</span>\n\n</a>\n'}),n("platform/commonUI/notification/bundle",["./src/NotificationIndicatorController","./src/NotificationIndicator","./src/NotificationService","text!./res/notification-indicator.html","legacyRegistry"],function(e,t,n,i,r){r.register("platform/commonUI/notification",{extensions:{constants:[{key:"DEFAULT_AUTO_DISMISS",value:3e3},{key:"FORCE_AUTO_DISMISS",value:1e3},{key:"MINIMIZE_TIMEOUT",value:300}],templates:[{key:"notificationIndicatorTemplate",template:i}],controllers:[{key:"NotificationIndicatorController",implementation:e,depends:["$scope","notificationService","dialogService"]}],indicators:[{implementation:t,priority:"fallback"}],services:[{key:"notificationService",implementation:n,depends:["$timeout","topic","DEFAULT_AUTO_DISMISS","MINIMIZE_TIMEOUT"]}]}})}),n("platform/commonUI/regions/src/InspectorController",["../../browse/src/InspectorRegion"],function(e){function t(t,n){function i(e){return e.regions&&e.regions.filter(function(e){return n.allow("region",e,s)})}function r(){t.regions=i(a.getDefinition().inspector||new e)}var o,s=t.domainObject,a=s.getCapability("type");o=s.getCapability("status").listen(r),t.$on("$destroy",function(){o()}),r()}return t}),n("platform/commonUI/regions/src/EditableRegionPolicy",[],function(){function e(){}return e.prototype.allow=function(e,t){return e.modes?t.hasCapability("editor")&&t.getCapability("editor").inEditContext()?-1!==e.modes.indexOf("edit"):-1!==e.modes.indexOf("browse"):!0},e}),n("platform/commonUI/regions/bundle",["./src/InspectorController","./src/EditableRegionPolicy","legacyRegistry"],function(e,t,n){n.register("platform/commonUI/regions",{extensions:{controllers:[{key:"InspectorController",implementation:e,depends:["$scope","policyService"]}],policies:[{category:"region",implementation:t}]}})}),n("platform/commonUI/themes/espresso/bundle",["legacyRegistry"],function(e){e.register("platform/commonUI/themes/espresso",{name:"Espresso",description:"Espresso theme: dark and rich",extensions:{stylesheets:[{stylesheetUrl:"css/theme-espresso.css",priority:1e3}],constants:[{key:"THEME",value:"espresso"}]}})}),n("platform/commonUI/themes/snow/bundle",["legacyRegistry"],function(e){e.register("platform/commonUI/themes/snow",{name:"Snow",description:"Snow theme: light and cool",extensions:{stylesheets:[{stylesheetUrl:"css/theme-snow.css",priority:1e3}],constants:[{key:"THEME",value:"snow"}]}})}),n("platform/containment/src/CompositionPolicy",[],function(){function e(){}return e.prototype.allow=function(e,t){var n=e.getCapability("type").getDefinition();return n.contains?n.contains.some(function(e){return"string"==typeof e?e===t.getCapability("type").getKey():(Array.isArray(e.has)||(e.has=[e.has]),e.has.every(function(e){return t.hasCapability(e)}))}):!0},e}),n("platform/containment/src/CompositionMutabilityPolicy",[],function(){function e(){}return e.prototype.allow=function(e){return e.getCapability("type").hasFeature("creation")},e}),n("platform/containment/src/CompositionModelPolicy",[],function(){function e(){}return e.prototype.allow=function(e){var t=e.getCapability("type");return Array.isArray((t.getInitialModel()||{}).composition)},e}),n("platform/containment/src/ComposeActionPolicy",[],function(){function e(e){this.getPolicyService=function(){return e.get("policyService")}}return e.prototype.allowComposition=function(e,t){return this.policyService=this.policyService||this.getPolicyService(),e.getId()!==t.getId()&&this.policyService.allow("composition",e,t)},e.prototype.allow=function(e,t){return"compose"===e.getMetadata().key?this.allowComposition((t||{}).domainObject,(t||{}).selectedObject):!0},e}),n("platform/containment/src/PersistableCompositionPolicy",["../../../src/api/objects/object-utils"],function(e){function t(e){this.openmct=e}return t.prototype.allow=function(t){if(!t.hasCapability("editor")||!t.getCapability("editor").isEditContextRoot()){var n=e.parseKeyString(t.getId()),i=this.openmct.objects.getProvider(n);return void 0!==i.save}return!0},t}),n("platform/containment/bundle",["./src/CompositionPolicy","./src/CompositionMutabilityPolicy","./src/CompositionModelPolicy","./src/ComposeActionPolicy","./src/PersistableCompositionPolicy","legacyRegistry"],function(e,t,n,i,r,o){o.register("platform/containment",{extensions:{policies:[{category:"composition",implementation:e,message:"Objects of this type cannot contain objects of that type."},{category:"composition",implementation:t,message:"Objects of this type cannot be modified."},{category:"composition",implementation:n,message:"Objects of this type cannot contain other objects."},{category:"action",implementation:i,depends:["$injector"],message:"Objects of this type cannot contain objects of that type."},{category:"composition",implementation:r,depends:["openmct"],message:"Change cannot be made to composition of non-persistable object"}]}})}),n("platform/core/src/objects/DomainObjectProvider",[],function(){function e(e,t){this.modelService=e,this.instantiate=t}return e.prototype.getObjects=function(e){function t(t){var n={};return e.forEach(function(e){t[e]&&(n[e]=i(t[e],e))}),n}var n=this.modelService,i=this.instantiate;return n.getModels(e).then(t)},e}),n("platform/core/src/capabilities/CoreCapabilityProvider",[],function(){function e(e,t){function n(t,n){return e.filter(function(e){return e.appliesTo?e.appliesTo(t,n):!0})}function i(e){var n={};return e.forEach(function(e){e.key?n[e.key]=n[e.key]||e:t.warn("No key defined for capability; skipping.")}),n}function r(e,t){return i(n(e,t))}return{getCapabilities:r}}return e}),n("platform/core/src/models/StaticModelProvider",[],function(){function e(e,t,n){function i(e){"object"!=typeof e||"string"!=typeof e.id||"object"!=typeof e.model?n.warn(["Skipping malformed domain object model exposed by ",((e||{}).bundle||{}).path].join("")):r[e.id]=e.model}var r={};e.forEach(i),this.modelMap=r,this.$q=t}return e.prototype.getModels=function(e){var t=this.modelMap,n={};return e.forEach(function(e){n[e]=t[e]}),this.$q.when(n)},e}),n("platform/core/src/models/ModelAggregator",[],function(){function e(e,t){this.providers=t,this.$q=e}function t(e,t){var n=(e||{}).modified||Number.NEGATIVE_INFINITY,i=(t||{}).modified||Number.NEGATIVE_INFINITY;return n>i?e:t||e}function n(e,n){var i={};return n.forEach(function(n){e.forEach(function(e){e[n]&&(i[n]=t(i[n],e[n]))})}),i}return e.prototype.getModels=function(e){return this.$q.all(this.providers.map(function(t){return t.getModels(e)})).then(function(t){return n(t,e)})},e}),n("platform/core/src/models/ModelCacheService",[],function(){function e(){this.cache={}}return e.prototype.put=function(e,t){this.cache[e]=t},e.prototype.get=function(e){return this.cache[e]},e.prototype.has=function(e){return this.cache.hasOwnProperty(e)},e.prototype.remove=function(e){delete this.cache[e]},e.prototype.all=function(){return this.cache},e.prototype.flush=function(){this.cache={}},e}),n("platform/core/src/models/PersistedModelProvider",[],function(){function e(e,t,n,i){this.persistenceService=e,this.$q=t,this.now=n,this.defaultSpace=i}return e.prototype.getModels=function(e){function t(e){return a.readObject(e.space,e.key)}function n(e){return e&&void 0===e.persisted&&(e.persisted=void 0!==e.modified?e.modified:l()),e}function i(e,t){var n={};return e.forEach(function(e,i){var r=e.id;t[i]&&(n[r]=t[i])}),n}function r(e){return c.all(e.map(t)).then(function(t){return i(e,t.map(n))})}function o(e){return s.filter(function(t){return-1!==e.indexOf(t.space)})}var s,a=this.persistenceService,c=this.$q,l=this.now,u=this.defaultSpace;return s=e.map(function(e){var t=e.split(":");return t.length>1?{id:e,space:t[0],key:t.slice(1).join(":")}:{id:e,space:u,key:e}}),a.listSpaces().then(o).then(r)},e}),n("platform/core/src/models/CachingModelDecorator",[],function(){function e(e,t){this.cacheService=e,this.modelService=t}return e.prototype.getModels=function(e){var t=e.filter(function(e){return this.cacheService.has(e)},this),n=e.filter(function(e){return!this.cacheService.has(e)},this);return t.length?this.modelService.getModels(n).then(function(e){return t.forEach(function(t){e[t]=this.cacheService.get(t)},this),e}.bind(this)):this.modelService.getModels(n)},e}),n("platform/core/src/models/MissingModelDecorator",[],function(){function e(e){this.modelService=e}function t(e){return{type:"unknown",name:"Missing: "+e}}return e.prototype.getModels=function(e){function n(n){var i={};return e.forEach(function(e){i[e]=n[e]||t(e)}),i}return this.modelService.getModels(e).then(n)},e}),n("platform/core/src/types/TypePropertyConversion",[],function(){function e(e){return{toModelValue:function(t){return t&&t.map(e.toModelValue)},toFormValue:function(t){return t&&t.map(e.toFormValue)}}}function t(r){if(r&&r.length>i.length&&-1!==r.indexOf(i,r.length-i.length))return new e(new t(r.substring(0,r.length-i.length)));
if(!n[r])throw new Error("Unknown conversion type: "+r);return n[r]}var n={number:{toModelValue:parseFloat,toFormValue:function(e){return"number"==typeof e?e.toString(10):void 0}},identity:{toModelValue:function(e){return e},toFormValue:function(e){return e}}},i="[]";return t}),n("platform/core/src/types/TypeProperty",["./TypePropertyConversion"],function(e){function t(t){this.conversion=new e(t.conversion||"identity"),this.propertyDefinition=t}function n(e){var t;if(!Array.isArray(e)||0===e.length)return!1;for(t=0;t<e.length;t+=1)if(void 0!==e[t])return!1;return!0}function i(e,t,n){Array.isArray(t)?t.length>1?(e[t[0]]=e[t[0]]||{},i(e[t[0]],t.slice(1),n)):1===t.length&&(e[t[0]]=n):e[t]=n}function r(e,t){var n;if(e)return Array.isArray(t)?t.length>0?(n=e[t[0]],t.length>1?r(n,t.slice(1)):n):void 0:e[t]}return t.prototype.getValue=function(e){var t=this.propertyDefinition.property||this.propertyDefinition.key,n=t&&r(e,t);return Array.isArray(this.propertyDefinition.items)&&(n=n||new Array(this.propertyDefinition.items.length)),this.conversion.toFormValue(n)},t.prototype.setValue=function(e,t){var r=this.propertyDefinition.property||this.propertyDefinition.key;return t=n(t)?void 0:t,t=this.conversion.toModelValue(t),r?i(e,r,t):void 0},t.prototype.getDefinition=function(){return this.propertyDefinition},t}),n("platform/core/src/types/TypeImpl",["./TypeProperty"],function(e){function t(e){var t=e.inherits||[],n={};(e.features||[]).forEach(function(e){n[e]=!0}),this.typeDef=e,this.featureSet=n,this.inheritList=t}return t.prototype.getKey=function(){return this.typeDef.key},t.prototype.getName=function(){return this.typeDef.name},t.prototype.getDescription=function(){return this.typeDef.description},t.prototype.getCssClass=function(){return this.typeDef.cssClass},t.prototype.getProperties=function(){return(this.typeDef.properties||[]).map(function(t){return new e(t)})},t.prototype.getInitialModel=function(){return JSON.parse(JSON.stringify(this.typeDef.model||{}))},t.prototype.getDefinition=function(){return this.typeDef},t.prototype.instanceOf=function(e){var t=this.typeDef,n=this.inheritList;return e===t.key?!0:n.indexOf(e)>-1?!0:e?null!==e&&"object"==typeof e&&e.getKey?this.instanceOf(e.getKey()):!1:!0},t.prototype.hasFeature=function(e){return this.featureSet[e]||!1},t}),n("platform/core/src/types/MergeModels",[],function(){function e(t,n,i){function r(e,t){return e.concat(t)}function o(t,n){var r={};return Object.keys(t).forEach(function(o){r[o]=n.hasOwnProperty(o)?e(t[o],n[o],(i||{})[o]):t[o]}),Object.keys(n).forEach(function(e){t.hasOwnProperty(e)||(r[e]=n[e])}),r}function s(e,t){return t}var a;return(a=i&&Function.isFunction(i)?i:Array.isArray(t)&&Array.isArray(n)?r:t instanceof Object&&n instanceof Object?o:s)(t,n)}return e}),n("platform/core/src/types/TypeProvider",["./TypeImpl","./MergeModels"],function(e,t){function n(e,t){Object.keys(t).forEach(function(n){e[n]=t[n]})}function i(e){var t={};return e?e.filter(function(e){return e instanceof Object&&!(e instanceof String)?!0:t[e]?!1:t[e]=!0}):e}function r(e){var r=e.reduce(function(e,i){var r={};return n(r,e),n(r,i),a.forEach(function(n){e[n]&&i[n]&&(r[n]=t(e[n],i[n]))}),s.forEach(function(t){(e[t]||i[t])&&(r[t]=(e[t]||[]).concat(i[t]||[]))}),r},{});return s.forEach(function(e){r[e]&&(r[e]=i(r[e]))}),r}function o(e){var t=e,n=function(e){var t={};return e.forEach(function(e){var n=e.key;n&&(t[n]=(t[n]||[]).concat(e))}),t}(t);this.typeMap={},this.typeDefinitions=n,this.rawTypeDefinitions=e}var s=["inherits","capabilities","properties","features"],a=["model"];return o.prototype.listTypes=function(){var e=this;return i(this.rawTypeDefinitions.filter(function(e){return e.key}).map(function(e){return e.key}).map(function(t){return e.getType(t)}))},o.prototype.getType=function(t){function n(){return a.undefinedType=a.undefinedType||r(a.rawTypeDefinitions.filter(function(e){return!e.key}))}function i(e){return Array.isArray(e)?e:[e]}function o(e){function t(e){var t=s[e]||[],a=t.map(function(e){return i(e.inherits||[])}).reduce(function(e,t){return e.concat(t)},[]),c=r([n()].concat(a.map(o)).concat(t));return c.model=c.model||{},c.model.name=c.model.name||"Unnamed "+(c.name||"Object"),c}return a.typeMap[e]=a.typeMap[e]||t(e)}var s=this.typeDefinitions,a=this;return new e(o(t))},o}),n("platform/core/src/actions/ActionProvider",[],function(){function e(e,t){var n=this;this.$log=t,this.actions=e,this.actionsByKey={},this.actionsByCategory={},e.forEach(function(e){var t=e.category||[];t=Array.isArray(t)?t:[t],t.forEach(function(t){n.actionsByCategory[t]=n.actionsByCategory[t]||[],n.actionsByCategory[t].push(e)}),e.key&&(n.actionsByKey[e.key]=n.actionsByKey[e.key]||[],n.actionsByKey[e.key].push(e))})}return e.prototype.getActions=function(e){function t(e,t){var n,i=new e(t);return i.getMetadata||(n=Object.create(e.definition||{}),n.context=t,i.getMetadata=function(){return n}),i}function n(e,n){function i(e){return e.appliesTo?e.appliesTo(n):!0}function r(e){try{return t(e,n)}catch(i){return void a.error(["Could not instantiate action",e.key,"due to:",i.message].join(" "))}}function o(e){return void 0!==e}return(e||[]).filter(i).map(r).filter(o)}var i,r=e||{},o=r.category,s=r.key,a=this.$log;return i=this.actions,s?(i=this.actionsByKey[s],o&&(i=i.filter(function(e){return e.category===o}))):o&&(i=this.actionsByCategory[o]),n(i,r)},e}),n("platform/core/src/actions/ActionAggregator",[],function(){function e(e){this.actionProviders=e}return e.prototype.getActions=function(e){return this.actionProviders.map(function(t){return t.getActions(e)}).reduce(function(e,t){return e.concat(t)},[])},e}),n("platform/core/src/actions/LoggingActionDecorator",[],function(){function e(e,t){this.$log=e,this.actionService=t}return e.prototype.getActions=function(){function e(e){var t=Object.create(e),i=e.getMetadata()||{},r=i.context||{},o=r.domainObject;return t.perform=function(){return n.info(["Performing action ",i.key," upon ",o&&o.getId()].join("")),e.perform.apply(e,arguments)},t}var t=this.actionService,n=this.$log;return t.getActions.apply(t,arguments).map(e)},e}),n("platform/core/src/views/ViewProvider",[],function(){function e(e,t){function n(e){var n=e.key;return n||t.warn(["No key specified for view in ",(e.bundle||{}).path,"; omitting this view."].join("")),n}this.views=e.filter(n)}return e.prototype.getViews=function(e){function t(e,t,n){function i(t){return e.hasCapability(t)||n&&o.doesDelegateCapability(t)}function r(e,t){return e&&t}var o=e.getCapability("delegation");return n=n&&void 0!==o,t.map(i).reduce(r,!0)}function n(e,t){var n=t&&(t.getDefinition()||{}).views,i=!0;return e.type&&(i=i&&t&&t.instanceOf(e.type)),Array.isArray(n)&&(i=i&&n.indexOf(e.key)>-1),i}var i=e.useCapability("type");return this.views.filter(function(r){return n(r,i)&&t(e,r.needs||[],r.delegation||!1)})},e}),function(e){"use strict";function i(){var t=e.crypto||e.msCrypto;if(!l&&t&&t.getRandomValues)try{var n=new Uint8Array(16);p=l=function(){return t.getRandomValues(n),n},l()}catch(i){}if(!l){var r=new Array(16);u=l=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function r(){if("function"==typeof t)try{var e=t("crypto").randomBytes;d=l=e&&function(){return e(16)},l()}catch(n){}}function o(e,t,n){var i=t&&n||0,r=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>r&&(t[i+r++]=g[e])});16>r;)t[i+r++]=0;return t}function s(e,t){var n=t||0,i=m;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}function a(e,t,n){var i=t&&n||0,r=t||[];e=e||{};var o=null!=e.clockseq?e.clockseq:w,a=null!=e.msecs?e.msecs:(new Date).getTime(),c=null!=e.nsecs?e.nsecs:x+1,l=a-S+(c-x)/1e4;if(0>l&&null==e.clockseq&&(o=o+1&16383),(0>l||a>S)&&null==e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");S=a,x=c,w=o,a+=122192928e5;var u=(1e4*(268435455&a)+c)%4294967296;r[i++]=u>>>24&255,r[i++]=u>>>16&255,r[i++]=u>>>8&255,r[i++]=255&u;var d=a/4294967296*1e4&268435455;r[i++]=d>>>8&255,r[i++]=255&d,r[i++]=d>>>24&15|16,r[i++]=d>>>16&255,r[i++]=o>>>8|128,r[i++]=255&o;for(var p=e.node||b,f=0;6>f;f++)r[i+f]=p[f];return t?t:s(r)}function c(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new h(16):null,e=null),e=e||{};var r=e.random||(e.rng||l)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var o=0;16>o;o++)t[i+o]=r[o];return t||s(r)}var l,u,d,p,f;e?i():r();for(var h="function"==typeof Buffer?Buffer:Array,m=[],g={},y=0;256>y;y++)m[y]=(y+256).toString(16).substr(1),g[m[y]]=y;var v=l(),b=[1|v[0],v[1],v[2],v[3],v[4],v[5]],w=16383&(v[6]<<8|v[7]),S=0,x=0,C=c;C.v1=a,C.v4=c,C.parse=o,C.unparse=s,C.BufferClass=h,C._rng=l,C._mathRNG=u,C._nodeRNG=d,C._whatwgRNG=p,"undefined"!=typeof module&&module.exports?module.exports=C:"function"==typeof n&&n.amd?n("uuid",[],function(){return C}):(f=e.uuid,C.noConflict=function(){return e.uuid=f,C},e.uuid=C)}("undefined"!=typeof window?window:null),n("platform/core/src/identifiers/Identifier",[],function(){function e(e,n){var i=e.indexOf(t);i>-1?(this.key=e.substring(i+1),this.space=e.substring(0,i),this.definedSpace=this.space):(this.key=e,this.space=n,this.definedSpace=void 0)}var t=":";return e.prototype.getKey=function(){return this.key},e.prototype.getSpace=function(){return this.space},e.prototype.getDefinedSpace=function(){return this.definedSpace},e}),n("platform/core/src/identifiers/IdentifierProvider",["uuid","./Identifier"],function(e,t){function n(e){this.defaultSpace=e}return n.prototype.generate=function(t){var n=e();return void 0!==t&&(n=t+":"+n),n},n.prototype.parse=function(e){return new t(e,this.defaultSpace)},n}),n("platform/core/src/capabilities/CompositionCapability",["./ContextualDomainObject"],function(e){function t(e,t){this.injectObjectService=function(){this.objectService=e.get("objectService")},this.domainObject=t}return t.prototype.add=function(e,t){function n(e){var t;for(t=0;t<e.length;t+=1)if(e[t].getId()===s)return e[t]}function i(e){return e&&o.invoke().then(n)}function r(e){t=isNaN(t)?c.length:t,t=Math.min(c.length,t),-1!==l&&e.composition.splice(l,1),e.composition.splice(t,0,s)}var o=this,s="string"==typeof e?e:e.getId(),a=o.domainObject.getModel(),c=a.composition,l=c.indexOf(s);return isNaN(t)&&-1!==l||t===l?i(!0):this.domainObject.useCapability("mutation",r).then(i)},t.prototype.invoke=function(){function t(t){return n.filter(function(e){return t[e]}).map(function(n){return new e(t[n],i)})}var n,i=this.domainObject,r=i.getModel();return this.objectService||this.injectObjectService(),this.lastPromise&&this.lastModified===r.modified||(n=r.composition||[],this.lastModified=r.modified,this.lastPromise=this.objectService.getObjects(n).then(t)),this.lastPromise},t.appliesTo=function(e){return Array.isArray((e||{}).composition)},t}),n("platform/core/src/capabilities/RelationshipCapability",[],function(){function e(e,t){this.injectObjectService=function(){this.objectService=e.get("objectService")},this.lastPromise={},this.domainObject=t}return e.prototype.listRelationships=function(){function e(e){return Array.isArray(t[e])}var t=(this.domainObject.getModel()||{}).relationships||{};return Object.keys(t).filter(e).sort()},e.prototype.getRelatedObjects=function(e){function t(e){return n.map(function(t){return e[t]}).filter(function(e){return e})}var n,i=this.domainObject.getModel();return this.lastModified!==i.modified&&(this.lastPromise={},this.lastModified=i.modified),this.lastPromise[e]||(n=(i.relationships||{})[e]||[],this.lastModified=i.modified,this.objectService||this.injectObjectService(),this.lastPromise[e]=this.objectService.getObjects(n).then(t)),this.lastPromise[e]},e.appliesTo=function(e){return!!(e||{}).relationships},e}),n("platform/core/src/types/TypeCapability",[],function(){function e(e,t){var n=t.getModel().type,i=e.getType(n);return Object.create(i)}return e}),n("platform/core/src/actions/ActionCapability",[],function(){function e(e,t,n){this.$q=e,this.actionService=t,this.domainObject=n}return e.prototype.getActions=function(e){var t="string"==typeof e?{key:e}:e||{},n=Object.create(t);return n.domainObject=this.domainObject,this.actionService.getActions(n)},e.prototype.perform=function(e){var t=this.getActions(e);return this.$q.when(t&&t.length>0?t[0].perform():void 0)},e}),n("platform/core/src/views/ViewCapability",[],function(){function e(e,t){this.viewService=e,this.domainObject=t}return e.prototype.invoke=function(){return this.viewService.getViews(this.domainObject)},e}),n("platform/core/src/capabilities/PersistenceCapability",[],function(){function e(e,t,n,i,r,o){this.modified=o.getModel().modified,this.domainObject=o,this.cacheService=e,this.identifierService=n,this.persistenceService=t,this.notificationService=i,this.$q=r}function t(e,t){return e?e:t.reject("Error persisting object")}function n(e){return e&&e.message?e.message:e&&"string"==typeof e?e:"unknown error"}function i(e,t,i,r){var o="Unable to persist "+t.getModel().name;return e&&(o+=": "+n(e)),i.error({title:"Error persisting "+t.getModel().name,hint:o,dismissable:!0}),r.reject(e)}return e.prototype.persist=function(){var e=this,n=this.domainObject,r=n.getModel(),o=r.modified,s=r.persisted,a=this.persistenceService,c=void 0!==s?this.persistenceService.updateObject:this.persistenceService.createObject;return void 0!==s&&s===o?this.$q.when(!0):(n.useCapability("mutation",function(e){e.persisted=o},o),c.apply(a,[this.getSpace(),this.getKey(),n.getModel()]).then(function(n){return t(n,e.$q)})["catch"](function(t){return i(t,n,e.notificationService,e.$q)}))},e.prototype.refresh=function(){function e(e){if(void 0===e)return n.reject("Got empty object model");var i=e.modified;return t.useCapability("mutation",function(){return e},i)}var t=this.domainObject,n=this.$q;return void 0===t.getModel().persisted?this.$q.when(!0):this.persistenceService.readObject(this.getSpace(),this.getKey()).then(e)},e.prototype.getSpace=function(){var e=this.domainObject.getId();return this.identifierService.parse(e).getSpace()},e.prototype.persisted=function(){return void 0!==this.domainObject.getModel().persisted},e.prototype.getKey=function(){var e=this.domainObject.getId();return this.identifierService.parse(e).getKey()},e}),n("platform/core/src/capabilities/MetadataCapability",["moment"],function(e){function t(e){this.domainObject=e}var n="YYYY-MM-DD HH:mm:ss";return t.prototype.invoke=function(){function t(e){var t=typeof e.value;return"string"===t||"number"===t}function i(t){return"number"==typeof t?e.utc(t).format(n)+" UTC":void 0}function r(){function e(e){return{name:e.getDefinition().name,value:e.getValue(a)}}var t=s.getCapability("type");return(t?t.getProperties():[]).map(e)}function o(){var e=s.getCapability("type");return[{name:"Updated",value:i(a.modified)},{name:"Type",value:e&&e.getName()}]}var s=this.domainObject,a=s.getModel();return r().concat(o()).filter(t)},t}),n("platform/core/src/capabilities/MutationCapability",[],function(){function e(e,t){Object.keys(e).forEach(function(t){delete e[t]}),Object.keys(t).forEach(function(n){e[n]=t[n]})}function t(e){return(e||{}).then?e:{then:function(n){return t(n(e))}}}function n(e,t,n){this.generalMutationTopic=e(i),this.specificMutationTopic=e(r+n.getId()),this.now=t,this.domainObject=n}var i="mutation",r="mutation:";return n.prototype.mutate=function(n,i){function r(e){c.notify(s),l.notify(e)}function o(t){var n=t||d;return t!==!1&&(u!==n&&e(u,n),u.modified=p?i:a(),r(u)),t!==!1}var s=this.domainObject,a=this.now,c=this.generalMutationTopic,l=this.specificMutationTopic,u=s.getModel(),d=JSON.parse(JSON.stringify(u)),p=arguments.length>1;return t(n(d)).then(o)},n.prototype.listen=function(e){return this.specificMutationTopic.listen(e)},n.prototype.invoke=n.prototype.mutate,n}),n("platform/core/src/capabilities/DelegationCapability",[],function(){function e(e,t){var n=t.getCapability("type"),i=this;this.$q=e,this.delegateCapabilities={},this.domainObject=t,n&&n.getDefinition&&(n.getDefinition().delegates||[]).forEach(function(e){i.delegateCapabilities[e]=!0})}return e.prototype.getDelegates=function(e){function t(e){return function(t){return t.filter(function(t){return t.hasCapability(e)})}}function n(){return i.useCapability("composition")}var i=this.domainObject;return this.doesDelegateCapability(e)?n().then(t(e)):this.$q.when([])},e.prototype.doesDelegateCapability=function(e){return!!this.delegateCapabilities[e]},e.prototype.invoke=e.prototype.getDelegates,e}),n("platform/core/src/capabilities/InstantiationCapability",["./ContextualDomainObject"],function(e){function t(e,t,n,i){this.$injector=e,this.identifierService=t,this.domainObject=i,this.now=n}return t.prototype.instantiate=function(t){var n=this.identifierService.parse(this.domainObject.getId()),i=n.getDefinedSpace(),r=this.identifierService.generate(i);t.modified=this.now(),this.instantiateFn=this.instantiateFn||this.$injector.get("instantiate");var o=this.instantiateFn(t,r);return new e(o,this.domainObject)},t.prototype.invoke=t.prototype.instantiate,t}),n("platform/core/src/runs/TransactingMutationListener",[],function(){function e(e,t,n){function i(e){var t=e.getModel();return void 0===t.persisted||t.modified>t.persisted}var r=e("mutation");r.listen(function(e){var r=e.getCapability("persistence"),o=t.isActive();n.put(e.getId(),e.getModel()),i(e)&&(o||t.startTransaction(),t.addToTransaction(r.persist.bind(r),r.refresh.bind(r)),o||t.commit())})}return e}),n("platform/core/src/services/Now",[],function(){function e(){return function(){return Date.now()}}return e}),n("platform/core/src/services/Throttle",[],function(){function e(e){return function(t,n,i){function r(){return o=void 0,t.apply(null,s)}var o,s=[];return n=n||0,i=i||!1,function(){return s=Array.prototype.slice.apply(arguments,[0]),o=o||e(r,n,i)}}}return e}),n("platform/core/src/services/Topic",[],function(){function e(e){function n(){var n=[];return{listen:function(e){return n.push(e),function(){n=n.filter(function(t){return t!==e})}},notify:function(i){n.forEach(function(n){try{n(i)}catch(r){e.error(t+r.message),e.error(r)}})}}}var i={};return function(e){return arguments.length<1?n():(i[e]=i[e]||n(),i[e])}}var t="Error when notifying listener: ";return e}),n("platform/core/src/services/Instantiate",["../objects/DomainObjectImpl"],function(e){function t(t,n,i){return function(r,o){var s=t.getCapabilities(r);return o=o||n.generate(),i.put(o,r),new e(o,r,s)}}return t}),n("platform/core/bundle",["./src/objects/DomainObjectProvider","./src/capabilities/CoreCapabilityProvider","./src/models/StaticModelProvider","./src/models/ModelAggregator","./src/models/ModelCacheService","./src/models/PersistedModelProvider","./src/models/CachingModelDecorator","./src/models/MissingModelDecorator","./src/types/TypeProvider","./src/actions/ActionProvider","./src/actions/ActionAggregator","./src/actions/LoggingActionDecorator","./src/views/ViewProvider","./src/identifiers/IdentifierProvider","./src/capabilities/CompositionCapability","./src/capabilities/RelationshipCapability","./src/types/TypeCapability","./src/actions/ActionCapability","./src/views/ViewCapability","./src/capabilities/PersistenceCapability","./src/capabilities/MetadataCapability","./src/capabilities/MutationCapability","./src/capabilities/DelegationCapability","./src/capabilities/InstantiationCapability","./src/runs/TransactingMutationListener","./src/services/Now","./src/services/Throttle","./src/services/Topic","./src/services/Instantiate","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,h,m,g,y,v,b,w,S,x,C,O,k,$,T,A,M){M.register("platform/core",{name:"Open MCT Core",description:"Defines core concepts of Open MCT.",sources:"src",configuration:{paths:{uuid:"uuid"}},extensions:{versions:[{name:"Version",value:"0.12.1-SNAPSHOT",priority:999},{name:"Built",value:"2017-05-23T21:00:49Z",description:"The date on which this version of the client was built.",priority:990},{name:"Revision",value:"1bdc0497c73167d38d3a74bbe9506adacd808036",description:"A unique revision identifier for the client sources.",priority:995},{name:"Branch",value:"master",description:"The name of the branch that was used during the build.",priority:994}],components:[{provides:"objectService",type:"provider",implementation:e,depends:["modelService","instantiate"]},{provides:"capabilityService",type:"provider",implementation:t,depends:["capabilities[]","$log"]},{provides:"modelService",type:"provider",implementation:n,depends:["models[]","$q","$log"]},{provides:"modelService",type:"aggregator",implementation:i,depends:["$q"]},{provides:"modelService",type:"provider",implementation:o,depends:["persistenceService","$q","now","PERSISTENCE_SPACE"]},{provides:"modelService",type:"decorator",implementation:s,depends:["cacheService"]},{provides:"modelService",type:"decorator",priority:"fallback",implementation:a},{provides:"typeService",type:"provider",implementation:c,depends:["types[]"]},{provides:"actionService",type:"provider",implementation:l,depends:["actions[]","$log"]},{provides:"actionService",type:"aggregator",implementation:u},{provides:"actionService",type:"decorator",implementation:d,depends:["$log"]},{provides:"viewService",type:"provider",implementation:p,depends:["views[]","$log"]},{provides:"identifierService",type:"provider",implementation:f,depends:["PERSISTENCE_SPACE"]}],types:[{properties:[{control:"textfield",name:"Title",key:"name",property:"name",pattern:"\\S+",required:!0,cssClass:"l-input-lg"},{name:"Notes",key:"notes",property:"notes",control:"textarea",required:!1,cssClass:"l-textarea-sm"}]},{key:"root",name:"Root",cssClass:"icon-folder"},{key:"folder",name:"Folder",cssClass:"icon-folder",features:"creation",description:"Create folders to organize other objects or links to objects.",priority:1e3,model:{composition:[]}},{key:"unknown",name:"Unknown Type",cssClass:"icon-object-unknown"},{name:"Unknown Type",cssClass:"icon-object-unknown"}],capabilities:[{key:"composition",implementation:h,depends:["$injector"]},{key:"relationship",implementation:m,depends:["$injector"]},{key:"type",implementation:g,depends:["typeService"]},{key:"action",implementation:y,depends:["$q","actionService"]},{key:"view",implementation:v,depends:["viewService"]},{key:"persistence",implementation:b,depends:["cacheService","persistenceService","identifierService","notificationService","$q"]},{key:"metadata",implementation:w},{key:"mutation",implementation:S,depends:["topic","now"]},{key:"delegation",implementation:x,depends:["$q"]},{key:"instantiation",implementation:C,depends:["$injector","identifierService","now"]}],services:[{key:"cacheService",implementation:r},{key:"now",implementation:k},{key:"throttle",implementation:$,depends:["$timeout"]},{key:"topic",implementation:T,depends:["$log"]},{key:"instantiate",implementation:A,depends:["capabilityService","identifierService","cacheService"]}],runs:[{implementation:O,depends:["topic","transactionService","cacheService"]}],constants:[{key:"PERSISTENCE_SPACE",value:"mct"}],licenses:[{name:"Math.uuid.js",version:"1.4.7",description:"Unique identifer generation (code adapted.)",author:"Robert Kieffer",website:"https://github.com/broofa/node-uuid",copyright:"Copyright (c) 2010-2012 Robert Kieffer",license:"license-mit",link:"http://opensource.org/licenses/MIT"}]}})}),n("platform/entanglement/src/actions/CancelError",[],function(){function e(){Error.apply(this,arguments),this.name=e}return e.prototype=Object.create(Error.prototype),e}),n("platform/entanglement/src/actions/AbstractComposeAction",["./CancelError"],function(e){function t(e,t,n,i,r,o){i.selectedObject?(this.newParent=i.domainObject,this.object=i.selectedObject):this.object=i.domainObject,this.currentParent=this.object.getCapability("context").getParent(),this.context=i,this.policyService=e,this.locationService=t,this.composeService=n,this.verb=r||"Compose",this.suffix=o||"To a New Location"}var n="User cancelled location selection.";return t.prototype.cloneContext=function(){var e={},t=this.context;return Object.keys(t).forEach(function(n){e[n]=t[n]}),e},t.prototype.perform=function(){var t,i,r,o=this,s=this.locationService,a=this.composeService,c=this.currentParent,l=this.newParent,u=this.object;return l?a.perform(u,l):(t=[this.verb,u.getModel().name,this.suffix].join(" "),i=this.verb+" To",r=function(e){var t=o.cloneContext();return t.selectedObject=u,t.domainObject=e,a.validate(u,e)&&o.policyService.allow("action",o,t)},s.getLocationFromUser(t,i,r,c).then(function(e){return a.perform(u,e)},function(){return Promise.reject(new e(n))}.bind(this)))},t.appliesTo=function(e){var t=e.selectedObject||e.domainObject;return!(!t||!t.hasCapability("context"))},t}),n("platform/entanglement/src/actions/MoveAction",["./AbstractComposeAction"],function(e){function t(t,n,i,r){e.apply(this,[t,n,i,r,"Move"])}return t.prototype=Object.create(e.prototype),t.appliesTo=e.appliesTo,t}),n("platform/entanglement/src/actions/CopyAction",["./AbstractComposeAction","./CancelError"],function(e,t){function n(t,n,i,r,o,s,a){this.dialog=void 0,this.notification=void 0,this.dialogService=o,this.notificationService=s,this.$log=t,e.call(this,n,i,r,a,"Duplicate","To a Location")}return n.prototype=Object.create(e.prototype),n.prototype.progress=function(e,t,n){"preparing"!==e.toLowerCase()||this.dialog?"copying"===e.toLowerCase()&&(this.dialog&&this.dialog.dismiss(),this.notification||(this.notification=this.notificationService.notify({title:"Copying objects",unknownProgress:!1,severity:"info"})),this.notification.model.progress=n/t*100,this.notification.model.title=["Copied ",n,"of ",t,"objects"].join(" ")):this.dialog=this.dialogService.showBlockingMessage({title:"Preparing to copy objects",hint:"Do not navigate away from this page or close this browser tab while this message is displayed.",unknownProgress:!0,severity:"info"})},n.prototype.perform=function(){function n(){o.notification.dismiss(),o.notificationService.info("Copying complete.")}function i(e){if(!(e instanceof t)){var n,i={title:"Error copying objects.",severity:"error",hint:e.message,minimized:!0,options:[{label:"OK",callback:function(){n.dismiss()}}]};o.dialog.dismiss(),o.notification&&o.notification.dismiss(),o.$log.error("Error copying objects. ",e),o.notificationService.notify(i),n=o.dialogService.showBlockingMessage(i)}}function r(e){o.progress(e.phase,e.totalObjects,e.processed)}var o=this;return e.prototype.perform.call(this).then(n,i,r)},n.appliesTo=e.appliesTo,n}),n("platform/entanglement/src/actions/LinkAction",["./AbstractComposeAction"],function(e){function t(t,n,i,r){e.apply(this,[t,n,i,r,"Link"])}return t.prototype=Object.create(e.prototype),t.appliesTo=e.appliesTo,t}),n("platform/entanglement/src/actions/GoToOriginalAction",[],function(){function e(e){this.domainObject=e.domainObject}return e.prototype.perform=function(){return this.domainObject.getCapability("location").getOriginal().then(function(e){var t=e.getCapability("action");return t&&t.perform("navigate")})},e.appliesTo=function(e){var t=e.domainObject;return t&&t.hasCapability("location")&&t.getCapability("location").isLink()},e}),n("platform/entanglement/src/actions/SetPrimaryLocationAction",[],function(){function e(e){this.domainObject=e.domainObject}return e.prototype.perform=function(){var e=this.domainObject.getCapability("location");return e.setPrimaryLocation(e.getContextualLocation())},e.appliesTo=function(e){var t=e.domainObject;return t&&t.hasCapability("location")&&void 0===t.getModel().location},e}),n("platform/entanglement/src/services/LocatingCreationDecorator",[],function(){function e(e){this.creationService=e}return e.prototype.createObject=function(e,t){return t&&t.getId&&(e.location=t.getId()),this.creationService.createObject(e,t)},e}),n("platform/entanglement/src/services/LocatingObjectDecorator",["../../../core/src/capabilities/ContextualDomainObject"],function(e){function t(e,t,n){this.$log=t,this.objectService=n,this.$q=e}return t.prototype.getObjects=function(t){function n(t,i){function s(o){var s=(o||{})[t],a=s&&s.getModel(),c=(a||{}).location;return c?i[t]?(r.warn(["LocatingObjectDecorator detected a cycle","while attempted to define a context for",t+";","no context will be added and unexpected behavior","may follow."].join(" ")),s):(i[t]=!0,n(c,i).then(function(t){return new e(s,t)})):s}return o.getObjects([t]).then(s)}var i=this.$q,r=this.$log,o=this.objectService,s={};return t.forEach(function(e){s[e]=n(e,{})}),i.all(s)},t}),n("platform/entanglement/src/policies/CopyPolicy",[],function(){function e(){}function t(e){var t=e&&e.getCapability("type");return!(!t||!t.hasFeature("creation"))}function n(e){return e.selectedObject||e.domainObject}return e.prototype.allow=function(e,i){var r=e.getMetadata().key;return"copy"===r?t(n(i)):!0},e}),n("platform/entanglement/src/policies/CrossSpacePolicy",[],function(){function e(){}function t(e){var t=e&&e.getCapability("persistence");return t&&t.getSpace()}function n(e){var n=e.domainObject,i=e.selectedObject;return void 0!==i&&void 0!==n&&t(n)!==t(i)}var i=["move"];return e.prototype.allow=function(e,t){var r=e.getMetadata().key;return-1!==i.indexOf(r)?!n(t):!0},e}),n("platform/entanglement/src/policies/MovePolicy",[],function(){function e(){}function t(e){var t=e.getCapability("context");return t&&t.getParent()}function n(e){var t=e&&e.getCapability("type");return!(!t||!t.hasFeature("creation"))}function i(e){return e.selectedObject||e.domainObject}return e.prototype.allow=function(e,r){var o=e.getMetadata().key;return"move"===o?n(i(r))&&n(t(i(r))):!0},e}),n("platform/entanglement/src/capabilities/LocationCapability",[],function(){function e(e,t,n){return this.domainObject=n,this.$q=e,this.$injector=t,this}return e.prototype.getOriginal=function(){var e;return this.isOriginal()?this.$q.when(this.domainObject):(e=this.domainObject.getId(),this.objectService=this.objectService||this.$injector.get("objectService"),this.objectService.getObjects([e]).then(function(t){return t[e]}))},e.prototype.setPrimaryLocation=function(e){return this.domainObject.useCapability("mutation",function(t){t.location=e})},e.prototype.getContextualLocation=function(){var e=this.domainObject.getCapability("context");if(e)return e.getParent().getId()},e.prototype.isLink=function(){var e=this.domainObject.getModel();return e.location!==this.getContextualLocation()},e.prototype.isOriginal=function(){return!this.isLink()},e}),n("platform/entanglement/src/services/MoveService",[],function(){function e(e,t){this.policyService=e,this.linkService=t}return e.prototype.validate=function(e,t){var n=e.getCapability("context").getParent();return t&&t.getId?t.getId()===n.getId()?!1:t.getId()===e.getId()?!1:-1!==t.getModel().composition.indexOf(e.getId())?!1:this.policyService.allow("composition",t,e):!1},e.prototype.perform=function(e,t){function n(t){var n=t.getCapability("location"),i=e.getCapability("location");if(n&&i)return i.isOriginal()?n.setPrimaryLocation(n.getContextualLocation()):void 0}if(!this.validate(e,t))throw new Error("Tried to move objects without validating first.");return this.linkService.perform(e,t).then(n).then(function(){return e.getCapability("action").perform("remove")})},e}),n("platform/entanglement/src/services/LinkService",[],function(){function e(e){this.policyService=e}return e.prototype.validate=function(e,t){return t&&t.getId?t.getId()===e.getId()?!1:t.hasCapability("composition")?-1!==t.getModel().composition.indexOf(e.getId())?!1:this.policyService.allow("composition",t,e):!1:!1},e.prototype.perform=function(e,t){if(!this.validate(e,t))throw new Error("Tried to link objects without validating first.");return t.getCapability("composition").add(e)},e}),n("platform/entanglement/src/services/CopyTask",[],function(){function e(e,t,n,i){this.domainObject=e,this.parent=t,this.firstClone=void 0,
this.$q=i,this.deferred=void 0,this.filter=n,this.persisted=0,this.clones=[],this.idMap={}}function t(e,t,n){return t.getModel().composition.push(e.getId()),n&&void 0===e.getModel().location&&(e.getModel().location=t.getId()),e}function n(e){var t=JSON.parse(JSON.stringify(e));return t.composition&&(t.composition=[]),delete t.persisted,delete t.modified,delete t.location,t}function i(e){return e.$q.all(e.clones.map(function(t){return t.getCapability("persistence").persist().then(function(){e.deferred.notify({phase:"copying",totalObjects:e.clones.length,processed:++e.persisted})})})).then(function(){return e})}function r(e){return e.parent.getCapability("composition").add(e.firstClone).then(function(t){return e.parent.getCapability("persistence").persist().then(function(){return t})})}return e.prototype.rewriteIdentifiers=function(e,t){function n(e){return"string"==typeof e&&t[e]||e}Array.isArray(e)?e.forEach(function(i,r){e[r]=n(i),this.rewriteIdentifiers(e[r],t)},this):e&&"object"==typeof e&&Object.keys(e).forEach(function(i){var r=e[i];e[i]=n(r),t[i]&&(delete e[i],e[t[i]]=r),this.rewriteIdentifiers(r,t)},this)},e.prototype.copyComposees=function(e,n,i){var r=this,o={};return(e||[]).reduce(function(e,s){return e.then(function(){return r.copy(s,i).then(function(e){return o[s.getId()]=e.getId(),t(e,n,e!==s)})})},r.$q.when(void 0)).then(function(){return r.rewriteIdentifiers(n.getModel(),o),r.clones.push(n),n})},e.prototype.copy=function(e){var t,i=this;return this.filter(e)?(t=this.parent.useCapability("instantiation",n(e.getModel())),this.$q.when(e.useCapability("composition")).then(function(n){return i.deferred.notify({phase:"preparing"}),i.copyComposees(n,t,e)})):i.$q.when(e)},e.prototype.buildCopyPlan=function(){var e=this;return this.copy(e.domainObject,e.parent).then(function(t){return t!==e.domainObject&&(t.getModel().location=e.parent.getId()),e.firstClone=t,e})},e.prototype.perform=function(){return this.deferred=this.$q.defer(),this.buildCopyPlan().then(i).then(r).then(this.deferred.resolve,this.deferred.reject),this.deferred.promise},e}),n("platform/entanglement/src/services/CopyService",["./CopyTask"],function(e){function t(e,t){this.$q=e,this.policyService=t}return t.prototype.validate=function(e,t){return t&&t.getId?t.getId()===e.getId()?!1:this.policyService.allow("composition",t,e):!1},t.prototype.perform=function(t,n,i){function r(e){return(!i||i(e))&&o.allow("creation",e.getCapability("type"))}var o=this.policyService;if(this.validate(t,n))return new e(t,n,r,this.$q).perform();throw new Error("Tried to copy objects without validating first.")},t}),n("platform/entanglement/src/services/LocationService",[],function(){function e(e){return{getLocationFromUser:function(t,n,i,r){var o,s;return o={sections:[{name:"Location",cssClass:"grows",rows:[{name:n,control:"locator",validate:i,key:"location"}]}],name:t},s={location:r},e.getUserInput(o,s).then(function(e){return e.location})}}}return e}),n("platform/entanglement/bundle",["./src/actions/MoveAction","./src/actions/CopyAction","./src/actions/LinkAction","./src/actions/GoToOriginalAction","./src/actions/SetPrimaryLocationAction","./src/services/LocatingCreationDecorator","./src/services/LocatingObjectDecorator","./src/policies/CopyPolicy","./src/policies/CrossSpacePolicy","./src/policies/MovePolicy","./src/capabilities/LocationCapability","./src/services/MoveService","./src/services/LinkService","./src/services/CopyService","./src/services/LocationService","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,h,m){m.register("platform/entanglement",{name:"Entanglement",description:"Tools to assist you in entangling the world of WARP.",configuration:{},extensions:{actions:[{key:"move",name:"Move",description:"Move object to another location.",cssClass:"icon-move",category:"contextual",implementation:e,depends:["policyService","locationService","moveService"]},{key:"copy",name:"Duplicate",description:"Duplicate object to another location.",cssClass:"icon-duplicate",category:"contextual",implementation:t,depends:["$log","policyService","locationService","copyService","dialogService","notificationService"]},{key:"link",name:"Create Link",description:"Create Link to object in another location.",cssClass:"icon-link",category:"contextual",implementation:n,depends:["policyService","locationService","linkService"]},{key:"follow",name:"Go To Original",description:"Go to the original, un-linked instance of this object.",cssClass:"",category:"contextual",implementation:i},{key:"locate",name:"Set Primary Location",description:"Set a domain object's primary location.",cssClass:"",category:"contextual",implementation:r}],components:[{type:"decorator",provides:"creationService",implementation:o},{type:"decorator",provides:"objectService",implementation:s,depends:["$q","$log"]}],policies:[{category:"action",implementation:c},{category:"action",implementation:a},{category:"action",implementation:l}],capabilities:[{key:"location",name:"Location Capability",description:"Provides a capability for retrieving the location of an object based upon it's context.",implementation:u,depends:["$q","$injector"]}],services:[{key:"moveService",name:"Move Service",description:"Provides a service for moving objects",implementation:d,depends:["policyService","linkService","$q"]},{key:"linkService",name:"Link Service",description:"Provides a service for linking objects",implementation:p,depends:["policyService"]},{key:"copyService",name:"Copy Service",description:"Provides a service for copying objects",implementation:f,depends:["$q","policyService","now"]},{key:"locationService",name:"Location Service",description:"Provides a service for prompting a user for locations.",implementation:h,depends:["dialogService"]}],licenses:[]}})}),n("platform/execution/src/WorkerService",[],function(){function e(e,t){function n(e){var t=e.key;if(!i[t]){if(e.scriptUrl)i[t]=[e.bundle.path,e.bundle.sources,e.scriptUrl].join("/");else if(e.scriptText){var n=new Blob([e.scriptText],{type:"application/javascript"});i[t]=URL.createObjectURL(n)}r[t]=e.shared}}var i={},r={};(t||[]).forEach(n),this.workerUrls=i,this.sharedWorkers=r,this.Worker=e.Worker,this.SharedWorker=e.SharedWorker}return e.prototype.run=function(e){var t=this.workerUrls[e],n=this.sharedWorkers[e]?this.SharedWorker:this.Worker;return t&&n&&new n(t)},e}),n("platform/execution/bundle",["./src/WorkerService","legacyRegistry"],function(e,t){t.register("platform/execution",{extensions:{services:[{key:"workerService",implementation:e,depends:["$window","workers[]"]}]}})}),!function(e,t){"function"==typeof n&&n.amd?n("csv",[],t):"object"==typeof module&&module.exports?module.exports=t():e.CSV=t()}(this,function(){"use strict";function e(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function t(e){return"string"==typeof e}function n(e){return!isNaN(+e)}function i(e){return 0==e||1==e}function r(e){return null==e}function o(e){return null!=e}function s(e,t){return o(e)?e:t}function a(e,t){for(var n=0,i=e.length;i>n&&t(e[n],n)!==!1;n+=1);}function c(e){return e.replace(/"/g,'\\"')}function l(e){return"attrs["+e+"]"}function u(e,t){return n(e)?"Number("+l(t)+")":i(e)?"Boolean("+l(t)+" == true)":"String("+l(t)+")"}function d(e,n,i,r){var o=[];return 3==arguments.length?(n?g(n)?a(i,function(i,r){t(n[r])?n[r]=n[r].toLowerCase():e[n[r]]=n[r],o.push("deserialize[cast["+r+"]]("+l(r)+")")}):a(i,function(e,t){o.push(u(e,t))}):a(i,function(e,t){o.push(l(t))}),o="return ["+o.join(",")+"]"):(n?g(n)?a(i,function(i,s){t(n[s])?n[s]=n[s].toLowerCase():e[n[s]]=n[s],o.push('"'+c(r[s])+'": deserialize[cast['+s+"]]("+l(s)+")")}):a(i,function(e,t){o.push('"'+c(r[t])+'": '+u(e,t))}):a(i,function(e,t){o.push('"'+c(r[t])+'": '+l(t))}),o="return {"+o.join(",")+"}"),Function("attrs","deserialize","cast",o)}function p(e,t){var n,i=0;return a(t,function(t){var r,o=t;-1!=f.indexOf(t)&&(o="\\"+o),r=e.match(RegExp(o,"g")),r&&r.length>i&&(i=r.length,n=t)}),n||t[0]}var f=["|","^"],h=[",",";","  ","|","^"],m=["\r\n","\r","\n"],g=Array.isArray||function(e){return"[object Array]"===toString.call(e)},y=function(){function n(e,n){if(n||(n={}),g(e))this.mode="encode";else{if(!t(e))throw Error("Incompatible format!");this.mode="parse"}this.data=e,this.options={header:s(n.header,!1),cast:s(n.cast,!0)};var i=n.lineDelimiter||n.line,r=n.cellDelimiter||n.delimiter;this.isParser()?(this.options.lineDelimiter=i||p(this.data,m),this.options.cellDelimiter=r||p(this.data,h),this.data=o(this.data,this.options.lineDelimiter)):this.isEncoder()&&(this.options.lineDelimiter=i||"\r\n",this.options.cellDelimiter=r||",")}function i(e,t,n,i,r){e(new t(n,i,r))}function o(e,t){return e.slice(-t.length)!=t&&(e+=t),e}function c(n){return g(n)?"array":e(n)?"object":t(n)?"string":r(n)?"null":"primitive"}return n.prototype.set=function(e,t){return this.options[e]=t},n.prototype.isParser=function(){return"parse"==this.mode},n.prototype.isEncoder=function(){return"encode"==this.mode},n.prototype.parse=function(e){function t(){c={escaped:!1,quote:!1,cell:!0}}function n(){m.cell=""}function r(){m.line=[]}function o(e){m.line.push(c.escaped?e.slice(1,-1).replace(/""/g,'"'):e),n(),t()}function s(e){o(e.slice(0,1-f.lineDelimiter.length))}function a(){h?g(h)?(l=d(y,f.cast,m.line,h),(a=function(){i(e,l,m.line,y,f.cast)})()):h=m.line:(l||(l=d(y,f.cast,m.line)),(a=function(){i(e,l,m.line,y,f.cast)})())}if("parse"==this.mode){if(0===this.data.trim().length)return[];var c,l,u,p=this.data,f=this.options,h=f.header,m={cell:"",line:[]},y=this.deserialize;e||(u=[],e=function(e){u.push(e)}),1==f.lineDelimiter.length&&(s=o);var v,b,w,S=p.length,x=f.cellDelimiter.charCodeAt(0),C=f.lineDelimiter.charCodeAt(f.lineDelimiter.length-1);for(t(),v=0,b=0;S>v;v++)w=p.charCodeAt(v),c.cell&&(c.cell=!1,34==w)?c.escaped=!0:c.escaped&&34==w?c.quote=!c.quote:(c.escaped&&c.quote||!c.escaped)&&(w==x?(o(m.cell+p.slice(b,v)),b=v+1):w==C&&(s(m.cell+p.slice(b,v)),b=v+1,(m.line.length>1||""!==m.line[0])&&a(),r()));return u?u:this}},n.prototype.deserialize={string:function(e){return e+""},number:function(e){return+e},"boolean":function(e){return!!e}},n.prototype.serialize={object:function(e){var t=this,n=Object.keys(e),i=Array(n.length);return a(n,function(n,r){i[r]=t[c(e[n])](e[n])}),i},array:function(e){var t=this,n=Array(e.length);return a(e,function(e,i){n[i]=t[c(e)](e)}),n},string:function(e){return'"'+(e+"").replace(/"/g,'""')+'"'},"null":function(){return""},primitive:function(e){return e}},n.prototype.encode=function(e){function n(e){return e.join(s.cellDelimiter)}if("encode"==this.mode){if(0==this.data.length)return"";var i,r,o=this.data,s=this.options,l=s.header,u=o[0],d=this.serialize,p=0;e||(r=Array(o.length),e=function(e,t){r[t+p]=e}),l&&(g(l)||(i=Object.keys(u),l=i),e(n(d.array(l)),0),p=1);var f,h=c(u);return"array"==h?(g(s.cast)?(f=Array(s.cast.length),a(s.cast,function(e,n){t(e)?f[n]=e.toLowerCase():(f[n]=e,d[e]=e)})):(f=Array(u.length),a(u,function(e,t){f[t]=c(e)})),a(o,function(t,i){var r=Array(f.length);a(t,function(e,t){r[t]=d[f[t]](e)}),e(n(r),i)})):"object"==h&&(i=Object.keys(u),g(s.cast)?(f=Array(s.cast.length),a(s.cast,function(e,n){t(e)?f[n]=e.toLowerCase():(f[n]=e,d[e]=e)})):(f=Array(i.length),a(i,function(e,t){f[t]=c(u[e])})),a(o,function(t,r){var o=Array(i.length);a(i,function(e,n){o[n]=d[f[n]](t[e])}),e(n(o),r)})),r?r.join(s.lineDelimiter):this}},n.prototype.forEach=function(e){return this[this.mode](e)},n}();return y.parse=function(e,t){return new y(e,t).parse()},y.encode=function(e,t){return new y(e,t).encode()},y.forEach=function(e,t,n){return 2==arguments.length&&(n=t),new y(e,t).forEach(n)},y}),n("platform/exporters/ExportService",["csv"],function(e){function t(e){this.saveAs=e}return t.prototype.exportCSV=function(t,n){var i=n&&n.headers||Object.keys(t[0]||{}).sort(),r=n&&n.filename||"export.csv",o=new e(t,{header:i}).encode(),s=new Blob([o],{type:"text/csv"});this.saveAs(s,r)},t}),function(e,t){"use strict";"function"==typeof n&&n.amd?n("saveAs",[],function(){return t(e)}):e.saveAs=e.saveAs||t(e)}(this,function(e,t){"use strict";function n(t,n){return e.navigator.msSaveOrOpenBlob(l(t),n)}function i(e,t){return new r(e,t)}function r(e,n){function i(){S=u().createObjectURL(e),m.href=S,m.download=n,x(function(){f(),s(O),d(S),O.readyState=O.DONE},0)}function r(){if(h.chrome&&k&&k!==b){var t=e.slice||e.webkitSlice;e=t.call(e,0,e.size,b),$=!0}}function o(){y&&"download"!==n&&(n+=".download"),(k===b||y)&&(C=h)}function p(){($||!S)&&(S=u().createObjectURL(e)),w(S)}function w(e,n,i){if(C)C.location.href=e;else{var r=h.open(e,"_blank");r===t&&(h.location.href=e)}O.readyState=O.DONE,i?a(O,"writeend",i):s(O),d(n||e)}this.blob=e=l(e),this.saveUsingObjectURLs=p,this.execSave=w;var S,C,O=this,k=e.type,$=!1;return O.readyState=O.INIT,n=n||"download",g?i():(r(),o(),v?c(O):p())}function o(){var e=this;e.readyState=e.DONE,a(e,"abort")}function s(e){a(e,"writestart progress write writeend".split(" "))}function a(e,t,n){t=[].concat(t);for(var i=t.length;i--;){var r=e["on"+t[i]];if("function"==typeof r)try{r.call(e,n||e)}catch(o){p(o)}}}function c(e){function t(t){t.root.getDirectory("temp",r,i(n),e.saveUsingObjectURLs)}function n(t){function n(e){e.remove(function(){s()})}function o(t){"NotFoundError"===t.name?s():e.saveUsingObjectURLs()}function s(){t.getFile(name,r,i(a),e.saveUsingObjectURLs)}function a(t){function n(n){function i(n){e.execSave(t.toURL(),t,n)}function r(){var t=n.error;t.code!==t.ABORT_ERR&&e.saveUsingObjectURLs()}function o(){"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=e["on"+t]})}function s(){n.abort(),e.readyState=e.DONE}n.onwriteend=i,n.onerror=r,o(),n.write(blob),e.abort=s,e.readyState=e.WRITING}t.createWriter(i(n),e.saveUsingObjectURLs)}t.getFile(name,{create:!1},i(n),i(o))}function i(t){return function(){return e.readyState!==e.DONE?t.apply(this,arguments):void 0}}w+=e.blob.size;var r={create:!0,exclusive:!1};v(h.TEMPORARY,w,i(t),e.saveUsingObjectURLs)}function l(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function u(){return h.URL||h.webkitURL||h}function d(e){function t(){"string"==typeof e?u().revokeObjectURL(e):e.remove(function(){})}setTimeout(t,S)}function p(e){x(function(){throw e},0)}function f(){var e=new MouseEvent("click");m.dispatchEvent(e)}if(e.navigator!==t){if(/MSIE [1-9]\./.test(e.navigator.userAgent))return;if(e.navigator.msSaveOrOpenBlob)return n}var h=e.self||e.window||e.content,m=h.document.createElementNS("http://www.w3.org/1999/xhtml","a"),g="download"in m,y=h.webkitRequestFileSystem,v=h.requestFileSystem||y||h.mozRequestFileSystem,b="application/octet-stream",w=0,S=500,x=h.setImmediate||h.setTimeout,C=r.prototype;return C.abort=o,C.INIT=0,C.WRITING=1,C.DONE=2,C.readyState=C.INIT,C.error=null,C.onwritestart=null,C.onprogress=null,C.onwrite=null,C.onabort=null,C.onerror=null,C.onwriteend=null,i}),n("platform/exporters/bundle",["./ExportService","saveAs","legacyRegistry"],function(e,t,n){n.register("platform/exporters",{extensions:{services:[{key:"exportService",implementation:function(){return new e(t)}}],licenses:[{name:"CSV.js",version:"3.6.4",author:"Kash Nouroozi",description:"Encoder for CSV (comma separated values) export",website:"https://github.com/knrz/CSV.js",copyright:"Copyright (c) 2014 Kash Nouroozi",license:"license-mit",link:"https://github.com/knrz/CSV.js/blob/3.6.4/LICENSE"},{name:"FileSaver.js",version:"0.0.2",author:"Eli Grey",description:"File download initiator (for file exports)",website:"https://github.com/eligrey/FileSaver.js/",copyright:"Copyright © 2015 Eli Grey.",license:"license-mit",link:"https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md"}]}})}),n("platform/features/clock/src/indicators/ClockIndicator",["moment"],function(e){function t(t,n){var i=this;this.text="",t.listen(function(t){i.text=e.utc(t).format(n)+" UTC"})}return t.prototype.getGlyphClass=function(){return"no-collapse float-right subdued"},t.prototype.getCssClass=function(){return"icon-clock"},t.prototype.getText=function(){return this.text},t.prototype.getDescription=function(){return""},t}),n("platform/features/clock/src/services/TickerService",[],function(){function e(e,t){function n(){var r=t(),o=r%1e3;r>=i.last+1e3&&(i.callbacks.forEach(function(e){e(r)}),i.last=r-o),e(n,1e3-o,!0)}var i=this;n(),this.callbacks=[],this.last=t()-1e3}return e.prototype.listen=function(e){var t=this;return t.callbacks.push(e),e(this.last),function(){t.callbacks=t.callbacks.filter(function(t){return t!==e})}},e}),n("platform/features/clock/src/controllers/ClockController",["moment"],function(e){function t(t,n){function i(){var t=e.utc(s);l.textValue=c&&t.format(c),l.ampmValue=t.format("A")}function r(e){s=e,i()}function o(e){var t;void 0!==e&&(t=e[0],l.use24="clock24"===e[1],c=l.use24?t.replace("hh","HH"):t,i())}var s,a,c,l=this;t.$watch("model.clockFormat",o),a=n.listen(r),t.$on("$destroy",a)}return t.prototype.zone=function(){return"UTC"},t.prototype.text=function(){return this.textValue},t.prototype.ampm=function(){return this.use24?"":this.ampmValue},t}),function(e){n("moment-duration-format",["moment"],function(){return function(){!function(e,n){function i(e){var t="";if(e=parseInt(e,10),!e||1>e)return t;for(;e;)t+="0",e-=1;return t}function r(e,t,n){return null==e&&(e=""),e=""+e,(n?e:"")+i(t-e.length)+(n?"":e)}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function s(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){for(var n=e.length;n-=1;)if(t(e[n]))return e[n]}function c(e,t){var n,i=0,r=e.length;for("function"!=typeof t&&(n=t,t=function(e){return e===n});r>i;){if(t(e[i]))return e[i];i+=1}}function l(e,t){var n=0,i=e.length;if(e&&i)for(;i>n;){if(t(e[n],n)===!1)return;n+=1}}function u(e,t){var n=0,i=e.length,r=[];if(!e||!i)return r;for(;i>n;)r[n]=t(e[n],n),n+=1;return r}function d(e,t){return u(e,function(e){return e[t]})}function p(e){var t=[];return l(e,function(e){e&&t.push(e)}),t}function f(e){var t=[];return l(e,function(e){c(t,e)||t.push(e)}),t}function h(e,t){var n=[];return l(e,function(e){l(t,function(t){e===t&&n.push(e)})}),f(n)}function m(e,t){var n=[];return l(e,function(i,r){return t(i)?void 0:(n=e.slice(r),!1)}),n}function g(e,t){var n=e.slice().reverse();return m(n,t).reverse()}function y(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var v;if("function"==typeof t)try{v=t("moment")}catch(b){}if(!v&&e.moment&&(v=e.moment),!v)throw"Moment Duration Format cannot find Moment.js";v.duration.fn.format=function(){var e,t,n,a,b,w,S=[].slice.call(arguments),x=y({},this.format.defaults),C=v.duration(this);return x.duration=this,l(S,function(e){return"string"==typeof e||"function"==typeof e?void(x.template=e):"number"==typeof e?void(x.precision=e):void(s(e)&&y(x,e))}),n=x.types=o(x.types)?x.types:x.types.split(" "),"function"==typeof x.template&&(x.template=x.template.apply(x)),e=new RegExp(u(n,function(e){return x[e].source}).join("|"),"g"),a=function(e){return c(n,function(t){return x[t].test(e)})},t=u(x.template.match(e),function(e,t){var n=a(e),i=e.length;return{index:t,length:i,token:"escape"===n?e.replace(x.escape,"$1"):e,type:"escape"===n||"general"===n?null:n}},this),b=h(n,f(p(d(t,"type")))),b.length?(l(b,function(e,n){var i,r,o,s,a;i=C.as(e),r=i>0?Math.floor(i):Math.ceil(i),o=i-r,s=n+1===b.length,a=!n,l(t,function(t){t.type===e&&(y(t,{value:i,wholeValue:r,decimalValue:o,isLeast:s,isMost:a}),a&&null==x.forceLength&&t.length>1&&(x.forceLength=!0))}),C.subtract(r,e)}),x.trim&&(t=("left"===x.trim?m:g)(t,function(e){return!(e.isLeast||null!=e.type&&e.wholeValue)})),w=!1,"right"===x.trim&&t.reverse(),t=u(t,function(e){var t,n;if(!e.type)return e.token;if(t=e.isLeast&&x.precision<0?(Math.floor(e.wholeValue*Math.pow(10,x.precision))*Math.pow(10,-x.precision)).toString():e.wholeValue.toString(),t=t.replace(/^\-/,""),e.length>1&&(w||e.isMost||x.forceLength)&&(t=r(t,e.length)),e.isLeast&&x.precision>0)switch(n=e.decimalValue.toString().replace(/^\-/,"").split(/\.|e\-/),n.length){case 1:t+="."+r(n[0],x.precision,!0).slice(0,x.precision);break;case 2:t+="."+r(n[1],x.precision,!0).slice(0,x.precision);break;case 3:t+="."+r(i(+n[2]-1)+(n[0]||"0")+n[1],x.precision,!0).slice(0,x.precision);break;default:throw"Moment Duration Format: unable to parse token decimal value."}return e.isMost&&e.value<0&&(t="-"+t),w=!0,t}),"right"===x.trim&&t.reverse(),t.join("")):d(t,"token").join("")},v.duration.fn.format.defaults={escape:/\[(.+?)\]/,years:/[Yy]+/,months:/M+/,weeks:/[Ww]+/,days:/[Dd]+/,hours:/[Hh]+/,minutes:/m+/,seconds:/s+/,milliseconds:/S+/,general:/.+?/,types:"escape years months weeks days hours minutes seconds milliseconds general",trim:"left",precision:0,forceLength:null,template:function(){var e=this.types,t=this.duration,n=a(e,function(e){return t._data[e]});switch(n){case"seconds":return"h:mm:ss";case"minutes":return"d[d] h:mm";case"hours":return"d[d] h[h]";case"days":return"M[m] d[d]";case"weeks":return"y[y] w[w]";case"months":return"y[y] M[m]";case"years":return"y[y]";default:return"y[y] M[m] d[d] h:mm:ss"}}}}(this)}.apply(e,arguments)})}(this),n("platform/features/clock/src/controllers/TimerFormatter",["moment","moment-duration-format"],function(e){function t(){}function n(e){return Math.abs(1e3*Math.floor(e/1e3))}var i="HH:mm:ss",r="d[D] HH:mm:ss";return t.prototype["short"]=function(t){return e.duration(n(t),"ms").format(i,{trim:!1})},t.prototype["long"]=function(t){return e.duration(n(t),"ms").format(r,{trim:!1})},t}),n("platform/features/clock/src/controllers/TimerController",["./TimerFormatter"],function(e){function t(e,t,i){function r(){var e=f-p;d&&!isNaN(e)?(m.textValue=d(e),m.signValue=0>e?"-":e>=1e3?"+":"",m.signCssClass=0>e?"icon-minus":e>=1e3?"icon-plus":""):(m.textValue="",m.signValue="",m.signCssClass="")}function o(e){d=n[e]||n["long"]}function s(e){p=e}function a(e){var t=e.getModel(),n=t.timestamp,i=t.timerFormat,a=e.getCapability("action"),c=void 0===n?"timer.start":"timer.restart";o(i),s(n),m.relevantAction=a&&a.getActions(c)[0],r()}function c(e){e&&a(e)}function l(){c(e.domainObject)}function u(){var n=m.signValue,o=m.textValue;f=i(),r(),(n!==m.signValue||o!==m.textValue)&&e.$apply(),h&&t.requestAnimationFrame(u)}var d,p,f,h=!0,m=this;t.requestAnimationFrame(u),e.$watch("domainObject",c),e.$watch("model.modified",l),e.$on("$destroy",function(){h=!1}),this.$scope=e,this.signValue="",this.textValue="",this.updateObject=a}var n=new e;return t.prototype.buttonCssClass=function(){return this.relevantAction?this.relevantAction.getMetadata().cssClass:""},t.prototype.buttonText=function(){return this.relevantAction?this.relevantAction.getMetadata().name:""},t.prototype.clickButton=function(){this.relevantAction&&(this.relevantAction.perform(),this.updateObject(this.$scope.domainObject))},t.prototype.sign=function(){return this.signValue},t.prototype.signClass=function(){return this.signCssClass},t.prototype.text=function(){return this.textValue},t}),n("platform/features/clock/src/controllers/RefreshingController",[],function(){function e(e,t){function n(){var t=e.domainObject&&e.domainObject.getCapability("persistence");return t&&t.refresh()}var i;i=t.listen(n),e.$on("$destroy",i)}return e}),n("platform/features/clock/src/actions/AbstractStartTimerAction",[],function(){function e(e,t){this.domainObject=t.domainObject,this.now=e}return e.prototype.perform=function(){function e(e){e.timestamp=n()}var t=this.domainObject,n=this.now;return t.useCapability("mutation",e)},e}),n("platform/features/clock/src/actions/StartTimerAction",["./AbstractStartTimerAction"],function(e){function t(t,n){e.apply(this,[t,n])}return t.prototype=Object.create(e.prototype),t.appliesTo=function(e){var t=e.domainObject&&e.domainObject.getModel()||{};return"timer"===t.type&&void 0===t.timestamp},t}),n("platform/features/clock/src/actions/RestartTimerAction",["./AbstractStartTimerAction"],function(e){function t(t,n){e.apply(this,[t,n])}return t.prototype=Object.create(e.prototype),t.appliesTo=function(e){var t=e.domainObject&&e.domainObject.getModel()||{};return"timer"===t.type&&void 0!==t.timestamp},t}),n("text!platform/features/clock/res/templates/clock.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2009-2016, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="l-time-display l-digital l-clock s-clock" ng-controller="ClockController as clock">\n	<div class="l-elem-wrapper">\n	    <span class="l-elem timezone">\n	        {{clock.zone()}}\n	    </span>\n	    <span class="l-elem value active">\n	        {{clock.text()}}\n	    </span>\n	    <span class="l-elem ampm">\n	        {{clock.ampm()}}\n	    </span>\n	</div>\n</div>\n'}),n("text!platform/features/clock/res/templates/timer.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2009-2016, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="l-time-display l-digital l-timer s-timer" ng-controller="TimerController as timer">\n	<div class="l-elem-wrapper l-flex-row">\n		<a ng-click="timer.clickButton()"\n			title="{{timer.buttonText()}}"\n			class="flex-elem control s-icon-button {{timer.buttonCssClass()}}"></a>\n	    <span class="flex-elem l-value {{timer.signClass()}}">\n	        <span class="value"\n		        ng-class="{ active:timer.text() }">{{timer.text() || "--:--:--"}}\n            </span>\n	    </span>\n	    <span ng-controller="RefreshingController"></span>\n	</div>\n</div>\n'}),n("platform/features/clock/bundle",["./src/indicators/ClockIndicator","./src/services/TickerService","./src/controllers/ClockController","./src/controllers/TimerController","./src/controllers/RefreshingController","./src/actions/StartTimerAction","./src/actions/RestartTimerAction","text!./res/templates/clock.html","text!./res/templates/timer.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l){l.register("platform/features/clock",{name:"Clocks/Timers",descriptions:"Domain objects for displaying current & relative times.",configuration:{paths:{"moment-duration-format":"moment-duration-format"},shim:{"moment-duration-format":{deps:["moment"]}}},extensions:{constants:[{key:"CLOCK_INDICATOR_FORMAT",value:"YYYY/MM/DD HH:mm:ss"}],indicators:[{implementation:e,depends:["tickerService","CLOCK_INDICATOR_FORMAT"],priority:"preferred"}],services:[{key:"tickerService",implementation:t,depends:["$timeout","now"]}],controllers:[{key:"ClockController",implementation:n,depends:["$scope","tickerService"]},{key:"TimerController",implementation:i,depends:["$scope","$window","now"]},{key:"RefreshingController",implementation:r,depends:["$scope","tickerService"]}],views:[{key:"clock",type:"clock",editable:!1,template:a},{key:"timer",type:"timer",editable:!1,template:c}],actions:[{key:"timer.start",implementation:o,depends:["now"],category:"contextual",name:"Start",cssClass:"icon-play",priority:"preferred"},{key:"timer.restart",implementation:s,depends:["now"],category:"contextual",name:"Restart at 0",cssClass:"icon-refresh",priority:"preferred"}],types:[{key:"clock",name:"Clock",cssClass:"icon-clock",description:"A UTC-based clock that supports a variety of display formats. Clocks can be added to Display Layouts.",priority:101,features:["creation"],properties:[{key:"clockFormat",name:"Display Format",control:"composite",items:[{control:"select",options:[{value:"YYYY/MM/DD hh:mm:ss",name:"YYYY/MM/DD hh:mm:ss"},{value:"YYYY/DDD hh:mm:ss",name:"YYYY/DDD hh:mm:ss"},{value:"hh:mm:ss",name:"hh:mm:ss"}],cssClass:"l-inline"},{control:"select",options:[{value:"clock12",name:"12hr"},{value:"clock24",name:"24hr"}],cssClass:"l-inline"}]}],model:{clockFormat:["YYYY/MM/DD hh:mm:ss","clock12"]}},{key:"timer",name:"Timer",cssClass:"icon-timer",description:"A timer that counts up or down to a datetime. Timers can be started, stopped and reset whenever needed, and support a variety of display formats. Each Timer displays the same value to all users. Timers can be added to Display Layouts.",priority:100,features:["creation"],properties:[{key:"timestamp",control:"datetime",name:"Target"},{key:"timerFormat",control:"select",name:"Display Format",options:[{value:"long",name:"DDD hh:mm:ss"},{value:"short",name:"hh:mm:ss"}]}],model:{timerFormat:"DDD hh:mm:ss"}}],licenses:[{name:"moment-duration-format",version:"1.3.0",author:"John Madhavan-Reese",description:"Duration parsing/formatting",website:"https://github.com/jsmreese/moment-duration-format",copyright:"Copyright 2014 John Madhavan-Reese",license:"license-mit",link:"https://github.com/jsmreese/moment-duration-format/blob/master/LICENSE"}]}})}),n("text!platform/features/layout/res/templates/fixed.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="t-fixed-position l-fixed-position"\n     ng-controller="FixedController as controller">\n\n    <!-- Background grid -->\n    <div class="l-grid-holder" ng-click="controller.clearSelection()">\n        <div class="l-grid l-grid-x"\n             ng-style="{ \'background-size\': controller.getGridSize() [0] + \'px 100%\' }"></div>\n        <div class="l-grid l-grid-y"\n             ng-style="{ \'background-size\': \'100% \' + controller.getGridSize() [1] + \'px\' }"></div>\n    </div>\n\n    <!-- Fixed position elements -->\n    <div ng-repeat="element in controller.getElements()"\n         class="l-fixed-position-item"\n         ng-class="{ \'s-not-selected\': controller.selected() && !controller.selected(element) }"\n         ng-style="element.style"\n         ng-click="controller.select(element)">\n        <mct-include key="element.template"\n                     parameters="{ gridSize: controller.getGridSize() }"\n                     ng-model="element">\n        </mct-include>\n    </div>\n\n    <!-- Selection highlight, handles -->\n    <span ng-if="controller.selected()">\n        <div class="l-fixed-position-item s-selectable s-selected s-moveable"\n             mct-drag-down="controller.moveHandle().startDrag(controller.selected())"\n             mct-drag="controller.moveHandle().continueDrag(delta)"\n             mct-drag-up="controller.moveHandle().endDrag()"\n             ng-style="controller.selected().style">\n        </div>\n        <div ng-repeat="handle in controller.handles()"\n             class="l-fixed-position-item-handle"\n             ng-style="handle.style()"\n             mct-drag-down="handle.startDrag()"\n             mct-drag="handle.continueDrag(delta)"\n             mct-drag-up="handle.endDrag()">\n        </div>\n    </span>\n\n</div>\n';
}),n("platform/features/fixed/bundle",["text!../layout/res/templates/fixed.html","legacyRegistry"],function(e,t){t.register("platform/features/fixed",{name:"Fixed position components.",description:"Plug in adding Fixed Position object type.",extensions:{views:[{key:"fixed-display",name:"Fixed Position Display",cssClass:"icon-box-with-dashed-lines",type:"telemetry.fixed",template:e,uses:["composition"],editable:!0,toolbar:{sections:[{items:[{method:"add",cssClass:"icon-plus",control:"menu-button",text:"Add",options:[{name:"Box",cssClass:"icon-box",key:"fixed.box"},{name:"Line",cssClass:"icon-line-horz",key:"fixed.line"},{name:"Text",cssClass:"icon-T",key:"fixed.text"},{name:"Image",cssClass:"icon-image",key:"fixed.image"}]}]},{items:[{method:"order",cssClass:"icon-layers",control:"menu-button",title:"Layering",description:"Move the selected object above or below other objects",options:[{name:"Move to Top",cssClass:"icon-arrow-double-up",key:"top"},{name:"Move Up",cssClass:"icon-arrow-up",key:"up"},{name:"Move Down",cssClass:"icon-arrow-down",key:"down"},{name:"Move to Bottom",cssClass:"icon-arrow-double-down",key:"bottom"}]},{property:"fill",cssClass:"icon-paint-bucket",title:"Fill color",description:"Set fill color",control:"color"},{property:"stroke",cssClass:"icon-line-horz",title:"Border color",description:"Set border color",control:"color"},{property:"color",cssClass:"icon-T",title:"Text color",description:"Set text color",mandatory:!0,control:"color"},{property:"url",cssClass:"icon-image",control:"dialog-button",title:"Image Properties",description:"Edit image properties",dialog:{control:"textfield",name:"Image URL",cssClass:"l-input-lg",required:!0}},{property:"text",cssClass:"icon-gear",control:"dialog-button",title:"Text Properties",description:"Edit text properties",dialog:{control:"textfield",name:"Text",required:!0}},{method:"showTitle",cssClass:"icon-two-parts-both",control:"button",title:"Show title",description:"Show telemetry element title"},{method:"hideTitle",cssClass:"icon-two-parts-one-only",control:"button",title:"Hide title",description:"Hide telemetry element title"}]},{items:[{method:"remove",control:"button",cssClass:"icon-trash"}]}]}}],types:[{key:"telemetry.fixed",name:"Fixed Position Display",cssClass:"icon-box-with-dashed-lines",description:"Collect and display telemetry elements in alphanumeric format in a simple canvas workspace. Elements can be positioned and sized. Lines, boxes and images can be added as well.",priority:899,delegates:["telemetry"],features:"creation",contains:[{has:"telemetry"}],model:{layoutGrid:[64,16],composition:[]},properties:[{name:"Layout Grid",control:"composite",items:[{name:"Horizontal grid (px)",control:"textfield",cssClass:"l-input-sm l-numeric"},{name:"Vertical grid (px)",control:"textfield",cssClass:"l-input-sm l-numeric"}],pattern:"^(\\d*[1-9]\\d*)?$",property:"layoutGrid",conversion:"number[]"}],views:["fixed-display"]}]}})}),n("platform/features/conductor/core/src/ui/TimeConductorValidation",[],function(){function e(t){var n=this;this.timeAPI=t,Object.keys(e.prototype).filter(function(t){return"function"==typeof e.prototype[t]}).forEach(function(e){n[e]=n[e].bind(n)})}return e.prototype.validateStart=function(e){var t=this.timeAPI.bounds();return this.timeAPI.validateBounds({start:e,end:t.end})===!0},e.prototype.validateEnd=function(e){var t=this.timeAPI.bounds();return this.timeAPI.validateBounds({start:t.start,end:e})===!0},e.prototype.validateStartOffset=function(e){return!isNaN(e)&&e>0},e.prototype.validateEndOffset=function(e){return!isNaN(e)&&e>=0},e}),function(e){n("EventEmitter",[],function(){return function(){"use strict";function t(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function n(){}var i=Object.prototype.hasOwnProperty,r="function"!=typeof Object.create?"~":!1;return n.prototype._events=void 0,n.prototype.eventNames=function(){var e,t=this._events,n=[];if(!t)return n;for(e in t)i.call(t,e)&&n.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},n.prototype.listeners=function(e,t){var n=r?r+e:e,i=this._events&&this._events[n];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,s=i.length,a=new Array(s);s>o;o++)a[o]=i[o].fn;return a},n.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events||!this._events[a])return!1;var c,l,u=this._events[a],d=arguments.length;if("function"==typeof u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,o),!0;case 6:return u.fn.call(u.context,t,n,i,o,s),!0}for(l=1,c=new Array(d-1);d>l;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var p,f=u.length;for(l=0;f>l;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;default:if(!c)for(p=1,c=new Array(d-1);d>p;p++)c[p-1]=arguments[p];u[l].fn.apply(u[l].context,c)}}return!0},n.prototype.on=function(e,n,i){var o=new t(n,i||this),s=r?r+e:e;return this._events||(this._events=r?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):this._events[s]=o,this},n.prototype.once=function(e,n,i){var o=new t(n,i||this,!0),s=r?r+e:e;return this._events||(this._events=r?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):this._events[s]=o,this},n.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events||!this._events[o])return this;var s=this._events[o],a=[];if(t)if(s.fn)(s.fn!==t||i&&!s.once||n&&s.context!==n)&&a.push(s);else for(var c=0,l=s.length;l>c;c++)(s[c].fn!==t||i&&!s[c].once||n&&s[c].context!==n)&&a.push(s[c]);return a.length?this._events[o]=1===a.length?a[0]:a:delete this._events[o],this},n.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[r?r+e:e]:this._events=r?{}:Object.create(null),this):this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prototype.setMaxListeners=function(){return this},n.prefixed=r,"undefined"!=typeof module&&(module.exports=n),e.EventEmitter=n}.apply(e,arguments)})}(this),n("platform/features/conductor/core/src/ui/TimeConductorViewService",["EventEmitter"],function(e){function t(t){e.call(this),this.timeAPI=t.time}return t.prototype=Object.create(e.prototype),t.prototype.zoom=function(e){var t={};if(void 0!==this.timeAPI.clock()){t.offsets={start:-e,end:this.timeAPI.clockOffsets().end};var n=this.timeAPI.clock().currentValue();t.bounds={start:n+t.offsets.start,end:n+t.offsets.end}}else{var i=this.timeAPI.bounds(),r=i.start+(i.end-i.start)/2;i.start=r-e/2,i.end=r+e/2,t.bounds=i}return this.emit("zoom",t),t},t}),n("platform/features/conductor/core/src/ui/TimeConductorController",["moment","./TimeConductorValidation","./TimeConductorViewService"],function(e,t,n){function i(e,i,r,o,s){["selectMenuOption","onPan","onPanStop","setViewFromBounds","setViewFromClock","setViewFromOffsets","setViewFromTimeSystem","setTimeSystemFromView","destroy"].forEach(function(e){this[e]=this[e].bind(this)}.bind(this)),this.$scope=e,this.$window=i,this.timeAPI=r.time,this.conductorViewService=new n(r),this.validation=new t(this.timeAPI),this.formatService=o,this.config=s,this.timeSystemsForClocks={},this.$scope.timeSystemModel={},this.$scope.boundsModel={},this.timeSystems=this.timeAPI.getAllTimeSystems().reduce(function(e,t){return e[t.key]=t,e},{}),this.isFixed=void 0===this.timeAPI.clock();var a=this.optionsFromConfig(s);this.menu={selected:void 0,options:a};var c=this.timeAPI.timeSystem();c&&this.setViewFromTimeSystem(c),this.setViewFromClock(this.timeAPI.clock());var l=this.timeAPI.clockOffsets();l&&this.setViewFromOffsets(l);var u=this.timeAPI.bounds();u&&void 0!==u.start&&void 0!==u.end&&this.setViewFromBounds(u),this.$scope.$watch("tcController.menu.selected",this.selectMenuOption),this.conductorViewService.on("pan",this.onPan),this.conductorViewService.on("pan-stop",this.onPanStop),this.timeAPI.on("bounds",this.setViewFromBounds),this.timeAPI.on("timeSystem",this.setViewFromTimeSystem),this.timeAPI.on("clock",this.setViewFromClock),this.timeAPI.on("clockOffsets",this.setViewFromOffsets),this.$scope.$on("$destroy",this.destroy)}var r=[["Decades",function(e){return e.years()>15}],["Years",function(e){return e.years()>1}],["Months",function(e){return 1===e.years()||e.months()>1}],["Days",function(e){return 1===e.months()||e.days()>1}],["Hours",function(e){return 1===e.days()||e.hours()>1}],["Minutes",function(e){return 1===e.hours()||e.minutes()>1}],["Seconds",function(e){return 1===e.minutes()||e.seconds()>1}],["Milliseconds",function(e){return!0}]];return i.prototype.getClock=function(e){return this.timeAPI.getAllClocks().filter(function(t){return t.key===e})[0]},i.prototype.selectMenuOption=function(e,t){if(e!==t){var n=this.getConfig(this.timeAPI.timeSystem(),e.clock);n||(n=this.config.menuOptions.filter(function(t){return t.clock===(e.clock&&e.clock.key)})[0]),n.clock?(this.timeAPI.clock(n.clock,n.clockOffsets),this.timeAPI.timeSystem(n.timeSystem)):(this.timeAPI.stopClock(),this.timeAPI.timeSystem(n.timeSystem,n.bounds))}},i.prototype.optionsFromConfig=function(e){var t=[{key:"fixed",name:"Fixed Timespan Mode",description:"Query and explore data that falls between two fixed datetimes",cssClass:"icon-calendar"}],n={},i=this.timeSystemsForClocks;return(e.menuOptions||[]).forEach(function(e){var t=e.clock||"fixed",r=this.getClock(t);void 0!==r&&(n[r.key]=r);var o=this.timeSystems[e.timeSystem];void 0!==o&&(i[t]=i[t]||[],i[t].push(o))},this),Object.values(n).forEach(function(e){t.push({key:e.key,name:e.name,description:"Monitor streaming data in real-time. The Time Conductor and displays will automatically advance themselves based on this clock. "+e.description,cssClass:e.cssClass||"icon-clock",clock:e})}.bind(this)),t},i.prototype.setViewFromBounds=function(e){if(!this.zooming&&!this.panning){if(this.$scope.boundsModel.start=e.start,this.$scope.boundsModel.end=e.end,this.supportsZoom()){var t=this.getConfig(this.timeAPI.timeSystem(),this.timeAPI.clock());this.currentZoom=this.toSliderValue(e.end-e.start,t.zoomOutLimit,t.zoomInLimit),this.toTimeUnits(e.end-e.start)}this.pendingUpdate||(this.pendingUpdate=!0,this.$window.requestAnimationFrame(function(){this.pendingUpdate=!1,this.$scope.$digest()}.bind(this)))}},i.prototype.getConfig=function(e,t){var n=t&&t.key,i=e&&e.key,r=this.config.menuOptions.filter(function(e){return e.timeSystem===i&&e.clock===n})[0];return r},i.prototype.setViewFromOffsets=function(e){this.$scope.boundsModel.startOffset=Math.abs(e.start),this.$scope.boundsModel.endOffset=e.end},i.prototype.setBoundsFromView=function(e){var t=this.timeAPI.bounds();(e.start!==t.start||e.end!==t.end)&&this.timeAPI.bounds({start:e.start,end:e.end})},i.prototype.setOffsetsFromView=function(e){if(this.validation.validateStartOffset(e.startOffset)&&this.validation.validateEndOffset(e.endOffset)){var t={start:0-e.startOffset,end:e.endOffset},n=this.timeAPI.clockOffsets();(t.start!==n.start||t.end!==n.end)&&this.timeAPI.clockOffsets(t)}},i.prototype.supportsZoom=function(){var e=this.getConfig(this.timeAPI.timeSystem(),this.timeAPI.clock());return e&&void 0!==e.zoomInLimit&&void 0!==e.zoomOutLimit},i.prototype.setViewFromClock=function(e){var t=e?e.key:"fixed",n=this.timeSystemsForClocks[t],i=this.menu.options.filter(function(e){return e.key===t})[0];this.menu.selected=i;var r=n.filter(function(e){return e.key===this.$scope.timeSystemModel.selected.key}.bind(this))[0],o=this.getConfig(r,e);void 0===r&&(r=n[0],o=this.getConfig(r,e),void 0===e?this.timeAPI.timeSystem(r,o.bounds):this.timeAPI.timeSystem(r,{start:e.currentValue()+o.clockOffsets.start,end:e.currentValue()+o.clockOffsets.end})),this.isFixed=void 0===e,void 0===e&&this.setViewFromBounds(this.timeAPI.bounds()),this.zoom=this.supportsZoom(),this.$scope.timeSystemModel.options=n},i.prototype.setTimeSystemFromView=function(e){var t=this.menu.selected.clock,n=this.timeSystems[e],i=this.getConfig(n,t);this.$scope.timeSystemModel.selected=n,this.$scope.timeSystemModel.format=n.timeFormat,void 0===t?this.timeAPI.timeSystem(n,i.bounds):(this.timeAPI.clock(t,i.clockOffsets),this.timeAPI.timeSystem(n))},i.prototype.setViewFromTimeSystem=function(e){var t=(this.$scope.timeSystemModel.selected||{}).key,n=this.$scope.timeSystemModel;if(e&&e.key!==t){var i=this.getConfig(e,this.timeAPI.clock());n.selected=e,n.format=e.timeFormat,n.durationFormat=e.durationFormat,this.supportsZoom()&&(n.minZoom=i.zoomOutLimit,n.maxZoom=i.zoomInLimit)}this.zoom=this.supportsZoom()},i.prototype.toSliderValue=function(e,t,n){var i=e/(t-n);return 1-Math.pow(i,.25)},i.prototype.toTimeUnits=function(t){var n=this.timeAPI.timeSystem();if(n&&n.isUTCBased){var i=e.duration(t);this.$scope.timeUnits=r.filter(function(e){return e[1](i)})[0][0]}},i.prototype.onZoom=function(e){var t=this.getConfig(this.timeAPI.timeSystem(),this.timeAPI.clock()),n=Math.pow(1-e,4)*(t.zoomOutLimit-t.zoomInLimit),i=this.conductorViewService.zoom(n);this.zooming=!0,this.$scope.boundsModel.start=i.bounds.start,this.$scope.boundsModel.end=i.bounds.end,this.toTimeUnits(i.bounds.end-i.bounds.start),i.offsets&&this.setViewFromOffsets(i.offsets)},i.prototype.onZoomStop=function(){void 0!==this.timeAPI.clock()&&this.setOffsetsFromView(this.$scope.boundsModel),this.setBoundsFromView(this.$scope.boundsModel),this.zooming=!1,this.conductorViewService.emit("zoom-stop")},i.prototype.onPan=function(e){this.panning=!0,this.$scope.boundsModel.start=e.start,this.$scope.boundsModel.end=e.end},i.prototype.onPanStop=function(){this.panning=!1},i.prototype.destroy=function(){this.timeAPI.off("bounds",this.setViewFromBounds),this.timeAPI.off("timeSystem",this.setViewFromTimeSystem),this.timeAPI.off("clock",this.setViewFromClock),this.timeAPI.off("follow",this.setFollow),this.timeAPI.off("clockOffsets",this.setViewFromOffsets),this.conductorViewService.off("pan",this.onPan),this.conductorViewService.off("pan-stop",this.onPanStop)},i}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof n&&n.amd?n("d3-selection",["exports"],t):t(e.d3=e.d3||{})}(this,function(e){"use strict";function t(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===J&&t.documentElement.namespaceURI===J?t.createElement(e):t.createElementNS(n,e)}}function n(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function i(){return new r}function r(){this._="@"+(++ne).toString(36)}function o(e,t,n){return e=s(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function s(t,n,i){return function(r){var o=e.event;e.event=r;try{t.call(this,this.__data__,n,i)}finally{e.event=o}}}function a(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function c(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,o=t.length;o>i;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?t.length=r:delete this.__on}}}function l(e,t,n){var i=ae.hasOwnProperty(e.type)?o:s;return function(r,o,s){var a,c=this.__on,l=i(t,o,s);if(c)for(var u=0,d=c.length;d>u;++u)if((a=c[u]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=n),void(a.value=t);this.addEventListener(e.type,l,n),a={type:e.type,name:e.name,value:t,listener:l,capture:n},c?c.push(a):this.__on=[a]}}function u(t,n,i,r){var o=e.event;t.sourceEvent=e.event,e.event=t;try{return n.apply(i,r)}finally{e.event=o}}function d(){}function p(){return[]}function f(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function h(e,t,n,i,r,o){for(var s,a=0,c=t.length,l=o.length;l>a;++a)(s=t[a])?(s.__data__=o[a],i[a]=s):n[a]=new f(e,o[a]);for(;c>a;++a)(s=t[a])&&(r[a]=s)}function m(e,t,n,i,r,o,s){var a,c,l,u={},d=t.length,p=o.length,h=new Array(d);for(a=0;d>a;++a)(c=t[a])&&(h[a]=l=we+s.call(c,c.__data__,a,t),l in u?r[a]=c:u[l]=c);for(a=0;p>a;++a)l=we+s.call(e,o[a],a,o),(c=u[l])?(i[a]=c,c.__data__=o[a],u[l]=null):n[a]=new f(e,o[a]);for(a=0;d>a;++a)(c=t[a])&&u[h[a]]===c&&(r[a]=c)}function g(e,t){return t>e?-1:e>t?1:e>=t?0:NaN}function y(e){return function(){this.removeAttribute(e)}}function v(e){return function(){this.removeAttributeNS(e.space,e.local)}}function b(e,t){return function(){this.setAttribute(e,t)}}function w(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function S(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function x(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function C(e){return function(){this.style.removeProperty(e)}}function O(e,t,n){return function(){this.style.setProperty(e,t,n)}}function k(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function $(e){return function(){delete this[e]}}function T(e,t){return function(){this[e]=t}}function A(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function M(e){return e.trim().split(/^|\s+/)}function I(e){return e.classList||new E(e)}function E(e){this._node=e,this._names=M(e.getAttribute("class")||"")}function L(e,t){for(var n=I(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function N(e,t){for(var n=I(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function j(e){return function(){L(this,e)}}function P(e){return function(){N(this,e)}}function D(e,t){return function(){(t.apply(this,arguments)?L:N)(this,e)}}function _(){this.textContent=""}function R(e){return function(){this.textContent=e}}function U(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function F(){this.innerHTML=""}function V(e){return function(){this.innerHTML=e}}function B(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function q(){this.nextSibling&&this.parentNode.appendChild(this)}function Y(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function H(){return null}function W(){var e=this.parentNode;e&&e.removeChild(this)}function z(e,t,n){var i=Ne(e),r=i.CustomEvent;r?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function G(e,t){return function(){return z(this,e,t)}}function K(e,t){return function(){return z(this,e,t.apply(this,arguments))}}function Z(e,t){this._groups=e,this._parents=t}function X(){return new Z([[document.documentElement]],We)}var J="http://www.w3.org/1999/xhtml",Q={svg:"http://www.w3.org/2000/svg",xhtml:J,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ee=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Q.hasOwnProperty(t)?{space:Q[t],local:e}:e},te=function(e){var i=ee(e);return(i.local?n:t)(i)},ne=0;r.prototype=i.prototype={constructor:r,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var ie=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var re=document.documentElement;if(!re.matches){var oe=re.webkitMatchesSelector||re.msMatchesSelector||re.mozMatchesSelector||re.oMatchesSelector;ie=function(e){return function(){return oe.call(this,e)}}}}var se=ie,ae={};e.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ae={mouseenter:"mouseover",mouseleave:"mouseout"}));var ce=function(e,t,n){var i,r,o=a(e+""),s=o.length;if(!(arguments.length<2)){for(u=t?l:c,null==n&&(n=!1),i=0;s>i;++i)this.each(u(o[i],t,n));return this}var u=this.node().__on;if(u)for(var d,p=0,f=u.length;f>p;++p)for(i=0,d=u[p];s>i;++i)if((r=o[i]).type===d.type&&r.name===d.name)return d.value},le=function(){for(var t,n=e.event;t=n.sourceEvent;)n=t;return n},ue=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]},de=function(e){var t=le();return t.changedTouches&&(t=t.changedTouches[0]),ue(e,t)},pe=function(e){return null==e?d:function(){return this.querySelector(e)}},fe=function(e){"function"!=typeof e&&(e=pe(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;n>r;++r)for(var o,s,a=t[r],c=a.length,l=i[r]=new Array(c),u=0;c>u;++u)(o=a[u])&&(s=e.call(o,o.__data__,u,a))&&("__data__"in o&&(s.__data__=o.__data__),l[u]=s);return new Z(i,this._parents)},he=function(e){return null==e?p:function(){return this.querySelectorAll(e)}},me=function(e){"function"!=typeof e&&(e=he(e));for(var t=this._groups,n=t.length,i=[],r=[],o=0;n>o;++o)for(var s,a=t[o],c=a.length,l=0;c>l;++l)(s=a[l])&&(i.push(e.call(s,s.__data__,l,a)),r.push(s));return new Z(i,r)},ge=function(e){"function"!=typeof e&&(e=se(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;n>r;++r)for(var o,s=t[r],a=s.length,c=i[r]=[],l=0;a>l;++l)(o=s[l])&&e.call(o,o.__data__,l,s)&&c.push(o);return new Z(i,this._parents)},ye=function(e){return new Array(e.length)},ve=function(){return new Z(this._enter||this._groups.map(ye),this._parents)};f.prototype={constructor:f,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var be=function(e){return function(){return e}},we="$",Se=function(e,t){if(!e)return f=new Array(this.size()),l=-1,this.each(function(e){f[++l]=e}),f;var n=t?m:h,i=this._parents,r=this._groups;"function"!=typeof e&&(e=be(e));for(var o=r.length,s=new Array(o),a=new Array(o),c=new Array(o),l=0;o>l;++l){var u=i[l],d=r[l],p=d.length,f=e.call(u,u&&u.__data__,l,i),g=f.length,y=a[l]=new Array(g),v=s[l]=new Array(g);n(u,d,y,v,c[l]=new Array(p),f,t);for(var b,w,S=0,x=0;g>S;++S)if(b=y[S]){for(S>=x&&(x=S+1);!(w=v[x])&&++x<g;);b._next=w||null}}return s=new Z(s,i),s._enter=a,s._exit=c,s},xe=function(){return new Z(this._exit||this._groups.map(ye),this._parents)},Ce=function(e){for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;o>a;++a)for(var c,l=t[a],u=n[a],d=l.length,p=s[a]=new Array(d),f=0;d>f;++f)(c=l[f]||u[f])&&(p[f]=c);for(;i>a;++a)s[a]=t[a];return new Z(s,this._parents)},Oe=function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,r=e[t],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&s!==i.nextSibling&&s.parentNode.insertBefore(i,s),s=i);return this},ke=function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=g);for(var n=this._groups,i=n.length,r=new Array(i),o=0;i>o;++o){for(var s,a=n[o],c=a.length,l=r[o]=new Array(c),u=0;c>u;++u)(s=a[u])&&(l[u]=s);l.sort(t)}return new Z(r,this._parents).order()},$e=function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},Te=function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},Ae=function(){for(var e=this._groups,t=0,n=e.length;n>t;++t)for(var i=e[t],r=0,o=i.length;o>r;++r){var s=i[r];if(s)return s}return null},Me=function(){var e=0;return this.each(function(){++e}),e},Ie=function(){return!this.node()},Ee=function(e){for(var t=this._groups,n=0,i=t.length;i>n;++n)for(var r,o=t[n],s=0,a=o.length;a>s;++s)(r=o[s])&&e.call(r,r.__data__,s,o);return this},Le=function(e,t){var n=ee(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?v:y:"function"==typeof t?n.local?x:S:n.local?w:b)(n,t))},Ne=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView},je=function(e,t,n){var i;return arguments.length>1?this.each((null==t?C:"function"==typeof t?k:O)(e,t,null==n?"":n)):Ne(i=this.node()).getComputedStyle(i,null).getPropertyValue(e)},Pe=function(e,t){return arguments.length>1?this.each((null==t?$:"function"==typeof t?A:T)(e,t)):this.node()[e]};E.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var De=function(e,t){var n=M(e+"");if(arguments.length<2){for(var i=I(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?D:t?j:P)(n,t))},_e=function(e){return arguments.length?this.each(null==e?_:("function"==typeof e?U:R)(e)):this.node().textContent},Re=function(e){return arguments.length?this.each(null==e?F:("function"==typeof e?B:V)(e)):this.node().innerHTML},Ue=function(){return this.each(q)},Fe=function(){return this.each(Y)},Ve=function(e){var t="function"==typeof e?e:te(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},Be=function(e,t){var n="function"==typeof e?e:te(e),i=null==t?H:"function"==typeof t?t:pe(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},qe=function(){return this.each(W)},Ye=function(e){return arguments.length?this.property("__data__",e):this.node().__data__},He=function(e,t){return this.each(("function"==typeof t?K:G)(e,t))},We=[null];Z.prototype=X.prototype={constructor:Z,select:fe,selectAll:me,filter:ge,data:Se,enter:ve,exit:xe,merge:Ce,order:Oe,sort:ke,call:$e,nodes:Te,node:Ae,size:Me,empty:Ie,each:Ee,attr:Le,style:je,property:Pe,classed:De,text:_e,html:Re,raise:Ue,lower:Fe,append:Ve,insert:Be,remove:qe,datum:Ye,on:ce,dispatch:He};var ze=function(e){return"string"==typeof e?new Z([[document.querySelector(e)]],[document.documentElement]):new Z([[e]],We)},Ge=function(e){return"string"==typeof e?new Z([document.querySelectorAll(e)],[document.documentElement]):new Z([null==e?[]:e],We)},Ke=function(e,t,n){arguments.length<3&&(n=t,t=le().changedTouches);for(var i,r=0,o=t?t.length:0;o>r;++r)if((i=t[r]).identifier===n)return ue(e,i);return null},Ze=function(e,t){null==t&&(t=le().touches);for(var n=0,i=t?t.length:0,r=new Array(i);i>n;++n)r[n]=ue(e,t[n]);return r};e.creator=te,e.local=i,e.matcher=se,e.mouse=de,e.namespace=ee,e.namespaces=Q,e.select=ze,e.selectAll=Ge,e.selection=X,e.selector=pe,e.selectorAll=he,e.touch=Ke,e.touches=Ze,e.window=Ne,e.customEvent=u,Object.defineProperty(e,"__esModule",{value:!0})}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof n&&n.amd?n("d3-array",["exports"],t):t(e.d3=e.d3||{})}(this,function(e){"use strict";function t(e){return function(t,n){return s(e(t),n)}}function n(e,t){return[e,t]}function i(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=O?10:o>=k?5:o>=$?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=O?10:o>=k?5:o>=$?2:1)}function r(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=O?r*=10:o>=k?r*=5:o>=$&&(r*=2),e>t?-r:r}function o(e){return e.length}var s=function(e,t){return t>e?-1:e>t?1:e>=t?0:NaN},a=function(e){return 1===e.length&&(e=t(e)),{left:function(t,n,i,r){for(null==i&&(i=0),null==r&&(r=t.length);r>i;){var o=i+r>>>1;e(t[o],n)<0?i=o+1:r=o}return i},right:function(t,n,i,r){for(null==i&&(i=0),null==r&&(r=t.length);r>i;){var o=i+r>>>1;e(t[o],n)>0?r=o:i=o+1}return i}}},c=a(s),l=c.right,u=c.left,d=function(e,t){null==t&&(t=n);for(var i=0,r=e.length-1,o=e[0],s=new Array(0>r?0:r);r>i;)s[i]=t(o,o=e[++i]);return s},p=function(e,t,i){var r,o,s,a,c=e.length,l=t.length,u=new Array(c*l);for(null==i&&(i=n),r=s=0;c>r;++r)for(a=e[r],o=0;l>o;++o,++s)u[s]=i(a,t[o]);return u},f=function(e,t){return e>t?-1:t>e?1:t>=e?0:NaN},h=function(e){return null===e?NaN:+e},m=function(e,t){var n,i,r=e.length,o=0,s=-1,a=0,c=0;if(null==t)for(;++s<r;)isNaN(n=h(e[s]))||(i=n-a,a+=i/++o,c+=i*(n-a));else for(;++s<r;)isNaN(n=h(t(e[s],s,e)))||(i=n-a,a+=i/++o,c+=i*(n-a));return o>1?c/(o-1):void 0},g=function(e,t){var n=m(e,t);return n?Math.sqrt(n):n},y=function(e,t){var n,i,r,o=e.length,s=-1;if(null==t){for(;++s<o;)if(null!=(n=e[s])&&n>=n)for(i=r=n;++s<o;)null!=(n=e[s])&&(i>n&&(i=n),n>r&&(r=n))}else for(;++s<o;)if(null!=(n=t(e[s],s,e))&&n>=n)for(i=r=n;++s<o;)null!=(n=t(e[s],s,e))&&(i>n&&(i=n),n>r&&(r=n));return[i,r]},v=Array.prototype,b=v.slice,w=v.map,S=function(e){return function(){return e}},x=function(e){return e},C=function(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):3>r?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(r);++i<r;)o[i]=e+i*n;return o},O=Math.sqrt(50),k=Math.sqrt(10),$=Math.sqrt(2),T=function(e,t,n){var r,o,s,a=e>t,c=-1;if(a&&(r=e,e=t,t=r),0===(s=i(e,t,n))||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),t=Math.floor(t/s),o=new Array(r=Math.ceil(t-e+1));++c<r;)o[c]=(e+c)*s;else for(e=Math.floor(e*s),t=Math.ceil(t*s),o=new Array(r=Math.ceil(e-t+1));++c<r;)o[c]=(e-c)/s;return a&&o.reverse(),o},A=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},M=function(){function e(e){var o,s,a=e.length,c=new Array(a);for(o=0;a>o;++o)c[o]=t(e[o],o,e);var u=n(c),d=u[0],p=u[1],f=i(c,d,p);Array.isArray(f)||(f=r(d,p,f),f=C(Math.ceil(d/f)*f,Math.floor(p/f)*f,f));for(var h=f.length;f[0]<=d;)f.shift(),--h;for(;f[h-1]>p;)f.pop(),--h;var m,g=new Array(h+1);for(o=0;h>=o;++o)m=g[o]=[],m.x0=o>0?f[o-1]:d,m.x1=h>o?f[o]:p;for(o=0;a>o;++o)s=c[o],s>=d&&p>=s&&g[l(f,s,0,h)].push(e[o]);return g}var t=x,n=y,i=A;return e.value=function(n){return arguments.length?(t="function"==typeof n?n:S(n),e):t},e.domain=function(t){return arguments.length?(n="function"==typeof t?t:S([t[0],t[1]]),e):n},e.thresholds=function(t){return arguments.length?(i="function"==typeof t?t:S(Array.isArray(t)?b.call(t):t),e):i},e},I=function(e,t,n){if(null==n&&(n=h),i=e.length){if((t=+t)<=0||2>i)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,o=Math.floor(r),s=+n(e[o],o,e);return s+(+n(e[o+1],o+1,e)-s)*(r-o)}},E=function(e,t,n){return e=w.call(e,h).sort(s),Math.ceil((n-t)/(2*(I(e,.75)-I(e,.25))*Math.pow(e.length,-1/3)))},L=function(e,t,n){return Math.ceil((n-t)/(3.5*g(e)*Math.pow(e.length,-1/3)))},N=function(e,t){var n,i,r=e.length,o=-1;if(null==t){for(;++o<r;)if(null!=(n=e[o])&&n>=n)for(i=n;++o<r;)null!=(n=e[o])&&n>i&&(i=n)}else for(;++o<r;)if(null!=(n=t(e[o],o,e))&&n>=n)for(i=n;++o<r;)null!=(n=t(e[o],o,e))&&n>i&&(i=n);return i},j=function(e,t){var n,i=e.length,r=i,o=-1,s=0;if(null==t)for(;++o<i;)isNaN(n=h(e[o]))?--r:s+=n;else for(;++o<i;)isNaN(n=h(t(e[o],o,e)))?--r:s+=n;return r?s/r:void 0},P=function(e,t){var n,i=e.length,r=-1,o=[];if(null==t)for(;++r<i;)isNaN(n=h(e[r]))||o.push(n);else for(;++r<i;)isNaN(n=h(t(e[r],r,e)))||o.push(n);return I(o.sort(s),.5)},D=function(e){for(var t,n,i,r=e.length,o=-1,s=0;++o<r;)s+=e[o].length;for(n=new Array(s);--r>=0;)for(i=e[r],t=i.length;--t>=0;)n[--s]=i[t];return n},_=function(e,t){var n,i,r=e.length,o=-1;if(null==t){for(;++o<r;)if(null!=(n=e[o])&&n>=n)for(i=n;++o<r;)null!=(n=e[o])&&i>n&&(i=n)}else for(;++o<r;)if(null!=(n=t(e[o],o,e))&&n>=n)for(i=n;++o<r;)null!=(n=t(e[o],o,e))&&i>n&&(i=n);return i},R=function(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];
return i},U=function(e,t){if(n=e.length){var n,i,r=0,o=0,a=e[o];for(null==t&&(t=s);++r<n;)(t(i=e[r],a)<0||0!==t(a,a))&&(a=i,o=r);return 0===t(a,a)?o:void 0}},F=function(e,t,n){for(var i,r,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)r=Math.random()*o--|0,i=e[o+t],e[o+t]=e[r+t],e[r+t]=i;return e},V=function(e,t){var n,i=e.length,r=-1,o=0;if(null==t)for(;++r<i;)(n=+e[r])&&(o+=n);else for(;++r<i;)(n=+t(e[r],r,e))&&(o+=n);return o},B=function(e){if(!(r=e.length))return[];for(var t=-1,n=_(e,o),i=new Array(n);++t<n;)for(var r,s=-1,a=i[t]=new Array(r);++s<r;)a[s]=e[s][t];return i},q=function(){return B(arguments)};e.bisect=l,e.bisectRight=l,e.bisectLeft=u,e.ascending=s,e.bisector=a,e.cross=p,e.descending=f,e.deviation=g,e.extent=y,e.histogram=M,e.thresholdFreedmanDiaconis=E,e.thresholdScott=L,e.thresholdSturges=A,e.max=N,e.mean=j,e.median=P,e.merge=D,e.min=_,e.pairs=d,e.permute=R,e.quantile=I,e.range=C,e.scan=U,e.shuffle=F,e.sum=V,e.ticks=T,e.tickIncrement=i,e.tickStep=r,e.transpose=B,e.variance=m,e.zip=q,Object.defineProperty(e,"__esModule",{value:!0})}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof n&&n.amd?n("d3-collection",["exports"],t):t(e.d3=e.d3||{})}(this,function(e){"use strict";function t(){}function n(e,n){var i=new t;if(e instanceof t)e.each(function(e,t){i.set(t,e)});else if(Array.isArray(e)){var r,o=-1,s=e.length;if(null==n)for(;++o<s;)i.set(o,e[o]);else for(;++o<s;)i.set(n(r=e[o],o,e),r)}else if(e)for(var a in e)i.set(a,e[a]);return i}function i(){return{}}function r(e,t,n){e[t]=n}function o(){return n()}function s(e,t,n){e.set(t,n)}function a(){}function c(e,t){var n=new a;if(e instanceof a)e.each(function(e){n.add(e)});else if(e){var i=-1,r=e.length;if(null==t)for(;++i<r;)n.add(e[i]);else for(;++i<r;)n.add(t(e[i],i,e))}return n}t.prototype=n.prototype={constructor:t,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var l=function(){function e(t,i,r,o){if(i>=u.length)return null!=c?c(t):null!=a?t.sort(a):t;for(var s,l,d,p=-1,f=t.length,h=u[i++],m=n(),g=r();++p<f;)(d=m.get(s=h(l=t[p])+""))?d.push(l):m.set(s,[l]);return m.each(function(t,n){o(g,n,e(t,i,r,o))}),g}function t(e,n){if(++n>u.length)return e;var i,r=d[n-1];return null!=c&&n>=u.length?i=e.entries():(i=[],e.each(function(e,r){i.push({key:r,values:t(e,n)})})),null!=r?i.sort(function(e,t){return r(e.key,t.key)}):i}var a,c,l,u=[],d=[];return l={object:function(t){return e(t,0,i,r)},map:function(t){return e(t,0,o,s)},entries:function(n){return t(e(n,0,o,s),0)},key:function(e){return u.push(e),l},sortKeys:function(e){return d[u.length-1]=e,l},sortValues:function(e){return a=e,l},rollup:function(e){return c=e,l}}},u=n.prototype;a.prototype=c.prototype={constructor:a,has:u.has,add:function(e){return e+="",this["$"+e]=e,this},remove:u.remove,clear:u.clear,values:u.keys,size:u.size,empty:u.empty,each:u.each};var d=function(e){var t=[];for(var n in e)t.push(n);return t},p=function(e){var t=[];for(var n in e)t.push(e[n]);return t},f=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t};e.nest=l,e.set=c,e.map=n,e.keys=d,e.values=p,e.entries=f,Object.defineProperty(e,"__esModule",{value:!0})}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof n&&n.amd?n("d3-color",["exports"],t):t(e.d3=e.d3||{})}(this,function(e){"use strict";function t(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function n(){}function i(e){var t;return e=(e+"").trim().toLowerCase(),(t=E.exec(e))?(t=parseInt(t[1],16),new c(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=L.exec(e))?r(parseInt(t[1],16)):(t=N.exec(e))?new c(t[1],t[2],t[3],1):(t=j.exec(e))?new c(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=P.exec(e))?o(t[1],t[2],t[3],t[4]):(t=D.exec(e))?o(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=_.exec(e))?l(t[1],t[2]/100,t[3]/100,1):(t=R.exec(e))?l(t[1],t[2]/100,t[3]/100,t[4]):U.hasOwnProperty(e)?r(U[e]):"transparent"===e?new c(NaN,NaN,NaN,0):null}function r(e){return new c(e>>16&255,e>>8&255,255&e,1)}function o(e,t,n,i){return 0>=i&&(e=t=n=NaN),new c(e,t,n,i)}function s(e){return e instanceof n||(e=i(e)),e?(e=e.rgb(),new c(e.r,e.g,e.b,e.opacity)):new c}function a(e,t,n,i){return 1===arguments.length?s(e):new c(e,t,n,null==i?1:i)}function c(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function l(e,t,n,i){return 0>=i?e=t=n=NaN:0>=n||n>=1?e=t=NaN:0>=t&&(e=NaN),new p(e,t,n,i)}function u(e){if(e instanceof p)return new p(e.h,e.s,e.l,e.opacity);if(e instanceof n||(e=i(e)),!e)return new p;if(e instanceof p)return e;e=e.rgb();var t=e.r/255,r=e.g/255,o=e.b/255,s=Math.min(t,r,o),a=Math.max(t,r,o),c=NaN,l=a-s,u=(a+s)/2;return l?(c=t===a?(r-o)/l+6*(o>r):r===a?(o-t)/l+2:(t-r)/l+4,l/=.5>u?a+s:2-a-s,c*=60):l=u>0&&1>u?0:c,new p(c,l,u,e.opacity)}function d(e,t,n,i){return 1===arguments.length?u(e):new p(e,t,n,null==i?1:i)}function p(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function f(e,t,n){return 255*(60>e?t+(n-t)*e/60:180>e?n:240>e?t+(n-t)*(240-e)/60:t)}function h(e){if(e instanceof g)return new g(e.l,e.a,e.b,e.opacity);if(e instanceof C){var t=e.h*F;return new g(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof c||(e=s(e));var n=w(e.r),i=w(e.g),r=w(e.b),o=y((.4124564*n+.3575761*i+.1804375*r)/B),a=y((.2126729*n+.7151522*i+.072175*r)/q);return new g(116*a-16,500*(o-a),200*(a-y((.0193339*n+.119192*i+.9503041*r)/Y)),e.opacity)}function m(e,t,n,i){return 1===arguments.length?h(e):new g(e,t,n,null==i?1:i)}function g(e,t,n,i){this.l=+e,this.a=+t,this.b=+n,this.opacity=+i}function y(e){return e>G?Math.pow(e,1/3):e/z+H}function v(e){return e>W?e*e*e:z*(e-H)}function b(e){return 255*(.0031308>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function w(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function S(e){if(e instanceof C)return new C(e.h,e.c,e.l,e.opacity);e instanceof g||(e=h(e));var t=Math.atan2(e.b,e.a)*V;return new C(0>t?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function x(e,t,n,i){return 1===arguments.length?S(e):new C(e,t,n,null==i?1:i)}function C(e,t,n,i){this.h=+e,this.c=+t,this.l=+n,this.opacity=+i}function O(e){if(e instanceof $)return new $(e.h,e.s,e.l,e.opacity);e instanceof c||(e=s(e));var t=e.r/255,n=e.g/255,i=e.b/255,r=(ne*i+ee*t-te*n)/(ne+ee-te),o=i-r,a=(Q*(n-r)-X*o)/J,l=Math.sqrt(a*a+o*o)/(Q*r*(1-r)),u=l?Math.atan2(a,o)*V-120:NaN;return new $(0>u?u+360:u,l,r,e.opacity)}function k(e,t,n,i){return 1===arguments.length?O(e):new $(e,t,n,null==i?1:i)}function $(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}var T=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e},A="\\s*([+-]?\\d+)\\s*",M="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",I="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",E=/^#([0-9a-f]{3})$/,L=/^#([0-9a-f]{6})$/,N=new RegExp("^rgb\\("+[A,A,A]+"\\)$"),j=new RegExp("^rgb\\("+[I,I,I]+"\\)$"),P=new RegExp("^rgba\\("+[A,A,A,M]+"\\)$"),D=new RegExp("^rgba\\("+[I,I,I,M]+"\\)$"),_=new RegExp("^hsl\\("+[M,I,I]+"\\)$"),R=new RegExp("^hsla\\("+[M,I,I,M]+"\\)$"),U={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};T(n,i,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),T(c,a,t(n,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new c(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new c(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),T(p,d,t(n,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new p(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new p(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(.5>n?n:1-n)*t,r=2*n-i;return new c(f(e>=240?e-240:e+120,r,i),f(e,r,i),f(120>e?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var F=Math.PI/180,V=180/Math.PI,B=.95047,q=1,Y=1.08883,H=4/29,W=6/29,z=3*W*W,G=W*W*W;T(g,m,t(n,{brighter:function(e){return new g(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new g(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=q*v(e),t=B*v(t),n=Y*v(n),new c(b(3.2404542*t-1.5371385*e-.4985314*n),b(-.969266*t+1.8760108*e+.041556*n),b(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),T(C,x,t(n,{brighter:function(e){return new C(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new C(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return h(this).rgb()}}));var K=-.14861,Z=1.78277,X=-.29227,J=-.90649,Q=1.97294,ee=Q*J,te=Q*Z,ne=Z*X-J*K;T($,k,t(n,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new $(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new $(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*F,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),r=Math.sin(e);return new c(255*(t+n*(K*i+Z*r)),255*(t+n*(X*i+J*r)),255*(t+n*(Q*i)),this.opacity)}})),e.color=i,e.rgb=a,e.hsl=d,e.lab=m,e.hcl=x,e.cubehelix=k,Object.defineProperty(e,"__esModule",{value:!0})}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof n&&n.amd?n("d3-format",["exports"],t):t(e.d3=e.d3||{})}(this,function(e){"use strict";function t(e){return new n(e)}function n(e){if(!(t=f.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",i=t[2]||">",r=t[3]||"-",o=t[4]||"",s=!!t[5],a=t[6]&&+t[6],c=!!t[7],l=t[8]&&+t[8].slice(1),u=t[9]||"";"n"===u?(c=!0,u="g"):p[u]||(u=""),(s||"0"===n&&"="===i)&&(s=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=o,this.zero=s,this.width=a,this.comma=c,this.precision=l,this.type=u}function i(t){return h=y(t),e.format=h.format,e.formatPrefix=h.formatPrefix,h}var r,o=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]},s=function(e){return e=o(Math.abs(e)),e?e[1]:NaN},a=function(e,t){return function(n,i){for(var r=n.length,o=[],s=0,a=e[0],c=0;r>0&&a>0&&(c+a+1>i&&(a=Math.max(1,i-c)),o.push(n.substring(r-=a,r+a)),!((c+=a+1)>i));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}},c=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}},l=function(e,t){e=e.toPrecision(t);e:for(var n,i=e.length,r=1,o=-1;i>r;++r)switch(e[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;case"e":break e;default:o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(n+1):e},u=function(e,t){var n=o(e,t);if(!n)return e+"";var i=n[0],s=n[1],a=s-(r=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,c=i.length;return a===c?i:a>c?i+new Array(a-c+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+o(e,Math.max(0,t+a-1))[0]},d=function(e,t){var n=o(e,t);if(!n)return e+"";var i=n[0],r=n[1];return 0>r?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},p={"":l,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return d(100*e,t)},r:d,s:u,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},f=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;t.prototype=n.prototype,n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var h,m=function(e){return e},g=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],y=function(e){function n(e){function n(e){var t,n,c,l=w,p=S;if("c"===b)p=x(e)+p,e="";else{e=+e;var f=0>e;if(e=x(Math.abs(e),v),f&&0==+e&&(f=!1),l=(f?"("===a?a:"-":"-"===a||"("===a?"":a)+l,p=p+("s"===b?g[8+r/3]:"")+(f&&"("===a?")":""),C)for(t=-1,n=e.length;++t<n;)if(48>(c=e.charCodeAt(t))||c>57){p=(46===c?u+e.slice(t+1):e.slice(t))+p,e=e.slice(0,t);break}}y&&!h&&(e=o(e,1/0));var O=l.length+e.length+p.length,k=m>O?new Array(m-O+1).join(i):"";switch(y&&h&&(e=o(k+e,k.length?m-p.length:1/0),k=""),s){case"<":e=l+e+p+k;break;case"=":e=l+k+e+p;break;case"^":e=k.slice(0,O=k.length>>1)+l+e+p+k.slice(O);break;default:e=k+l+e+p}return d(e)}e=t(e);var i=e.fill,s=e.align,a=e.sign,c=e.symbol,h=e.zero,m=e.width,y=e.comma,v=e.precision,b=e.type,w="$"===c?l[0]:"#"===c&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",S="$"===c?l[1]:/[%p]/.test(b)?f:"",x=p[b],C=!b||/[defgprs%]/.test(b);return v=null==v?b?6:12:/[gprs]/.test(b)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),n.toString=function(){return e+""},n}function i(e,i){var r=n((e=t(e),e.type="f",e)),o=3*Math.max(-8,Math.min(8,Math.floor(s(i)/3))),a=Math.pow(10,-o),c=g[8+o/3];return function(e){return r(a*e)+c}}var o=e.grouping&&e.thousands?a(e.grouping,e.thousands):m,l=e.currency,u=e.decimal,d=e.numerals?c(e.numerals):m,f=e.percent||"%";return{format:n,formatPrefix:i}};i({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var v=function(e){return Math.max(0,-s(Math.abs(e)))},b=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(s(t)/3)))-s(Math.abs(e)))},w=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,s(t)-s(e))+1};e.formatDefaultLocale=i,e.formatLocale=y,e.formatSpecifier=t,e.precisionFixed=v,e.precisionPrefix=b,e.precisionRound=w,Object.defineProperty(e,"__esModule",{value:!0})}),!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,t("d3-color")):"function"==typeof n&&n.amd?n("d3-interpolate",["exports","d3-color"],i):i(e.d3=e.d3||{},e.d3)}(this,function(e,t){"use strict";function n(e,t,n,i,r){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*i+s*r)/6}function i(e,t){return function(n){return e+n*t}}function r(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function o(e,t){var n=t-e;return n?i(e,n>180||-180>n?n-360*Math.round(n/360):n):T(isNaN(e)?t:e)}function s(e){return 1==(e=+e)?a:function(t,n){return n-t?r(t,n,e):T(isNaN(t)?n:t)}}function a(e,t){var n=t-e;return n?i(e,n):T(isNaN(e)?t:e)}function c(e){return function(n){var i,r,o=n.length,s=new Array(o),a=new Array(o),c=new Array(o);for(i=0;o>i;++i)r=t.rgb(n[i]),s[i]=r.r||0,a[i]=r.g||0,c[i]=r.b||0;return s=e(s),a=e(a),c=e(c),r.opacity=1,function(e){return r.r=s(e),r.g=a(e),r.b=c(e),r+""}}}function l(e){return function(){return e}}function u(e){return function(t){return e(t)+""}}function d(e){return"none"===e?V:(S||(S=document.createElement("DIV"),x=document.documentElement,C=document.defaultView),S.style.transform=e,e=C.getComputedStyle(x.appendChild(S),null).getPropertyValue("transform"),x.removeChild(S),e=e.slice(7,-1).split(","),B(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function p(e){return null==e?V:(O||(O=document.createElementNS("http://www.w3.org/2000/svg","g")),O.setAttribute("transform",e),(e=O.transform.baseVal.consolidate())?(e=e.matrix,B(e.a,e.b,e.c,e.d,e.e,e.f)):V)}function f(e,t,n,i){function r(e){return e.length?e.pop()+" ":""}function o(e,i,r,o,s,a){if(e!==r||i!==o){var c=s.push("translate(",null,t,null,n);a.push({i:c-4,x:N(e,r)},{i:c-2,x:N(i,o)})}else(r||o)&&s.push("translate("+r+t+o+n)}function s(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:N(e,t)})):t&&n.push(r(n)+"rotate("+t+i)}function a(e,t,n,o){e!==t?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:N(e,t)}):t&&n.push(r(n)+"skewX("+t+i)}function c(e,t,n,i,o,s){if(e!==n||t!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:N(e,n)},{i:a-2,x:N(t,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}return function(t,n){var i=[],r=[];return t=e(t),n=e(n),o(t.translateX,t.translateY,n.translateX,n.translateY,i,r),s(t.rotate,n.rotate,i,r),a(t.skewX,n.skewX,i,r),c(t.scaleX,t.scaleY,n.scaleX,n.scaleY,i,r),t=n=null,function(e){for(var t,n=-1,o=r.length;++n<o;)i[(t=r[n]).i]=t.x(e);return i.join("")}}}function h(e){return((e=Math.exp(e))+1/e)/2}function m(e){return((e=Math.exp(e))-1/e)/2}function g(e){return((e=Math.exp(2*e))-1)/(e+1)}function y(e){return function(n,i){var r=e((n=t.hsl(n)).h,(i=t.hsl(i)).h),o=a(n.s,i.s),s=a(n.l,i.l),c=a(n.opacity,i.opacity);return function(e){return n.h=r(e),n.s=o(e),n.l=s(e),n.opacity=c(e),n+""}}}function v(e,n){var i=a((e=t.lab(e)).l,(n=t.lab(n)).l),r=a(e.a,n.a),o=a(e.b,n.b),s=a(e.opacity,n.opacity);return function(t){return e.l=i(t),e.a=r(t),e.b=o(t),e.opacity=s(t),e+""}}function b(e){return function(n,i){var r=e((n=t.hcl(n)).h,(i=t.hcl(i)).h),o=a(n.c,i.c),s=a(n.l,i.l),c=a(n.opacity,i.opacity);return function(e){return n.h=r(e),n.c=o(e),n.l=s(e),n.opacity=c(e),n+""}}}function w(e){return function n(i){function r(n,r){var o=e((n=t.cubehelix(n)).h,(r=t.cubehelix(r)).h),s=a(n.s,r.s),c=a(n.l,r.l),l=a(n.opacity,r.opacity);return function(e){return n.h=o(e),n.s=s(e),n.l=c(Math.pow(e,i)),n.opacity=l(e),n+""}}return i=+i,r.gamma=n,r}(1)}var S,x,C,O,k=function(e){var t=e.length-1;return function(i){var r=0>=i?i=0:i>=1?(i=1,t-1):Math.floor(i*t),o=e[r],s=e[r+1];return n((i-r/t)*t,r>0?e[r-1]:2*o-s,o,s,t-1>r?e[r+2]:2*s-o)}},$=function(e){var t=e.length;return function(i){var r=Math.floor(((i%=1)<0?++i:i)*t);return n((i-r/t)*t,e[(r+t-1)%t],e[r%t],e[(r+1)%t],e[(r+2)%t])}},T=function(e){return function(){return e}},A=function ee(e){function n(e,n){var r=i((e=t.rgb(e)).r,(n=t.rgb(n)).r),o=i(e.g,n.g),s=i(e.b,n.b),c=a(e.opacity,n.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=s(t),e.opacity=c(t),e+""}}var i=s(1);return n.gamma=ee,n}(),M=c(k),I=c($),E=function(e,t){var n,i=t?t.length:0,r=e?Math.min(i,e.length):0,o=new Array(i),s=new Array(i);for(n=0;r>n;++n)o[n]=R(e[n],t[n]);for(;i>n;++n)s[n]=t[n];return function(e){for(n=0;r>n;++n)s[n]=o[n](e);return s}},L=function(e,t){var n=new Date;return e=+e,t-=e,function(i){return n.setTime(e+t*i),n}},N=function(e,t){return e=+e,t-=e,function(n){return e+t*n}},j=function(e,t){var n,i={},r={};null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={});for(n in t)n in e?i[n]=R(e[n],t[n]):r[n]=t[n];return function(e){for(n in i)r[n]=i[n](e);return r}},P=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,D=new RegExp(P.source,"g"),_=function(e,t){var n,i,r,o=P.lastIndex=D.lastIndex=0,s=-1,a=[],c=[];for(e+="",t+="";(n=P.exec(e))&&(i=D.exec(t));)(r=i.index)>o&&(r=t.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:N(n,i)})),o=D.lastIndex;return o<t.length&&(r=t.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?c[0]?u(c[0].x):l(t):(t=c.length,function(e){for(var n,i=0;t>i;++i)a[(n=c[i]).i]=n.x(e);return a.join("")})},R=function(e,n){var i,r=typeof n;return null==n||"boolean"===r?T(n):("number"===r?N:"string"===r?(i=t.color(n))?(n=i,A):_:n instanceof t.color?A:n instanceof Date?L:Array.isArray(n)?E:isNaN(n)?j:N)(e,n)},U=function(e,t){return e=+e,t-=e,function(n){return Math.round(e+t*n)}},F=180/Math.PI,V={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},B=function(e,t,n,i,r,o){var s,a,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*i)&&(n-=e*c,i-=t*c),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,c/=a),t*n>e*i&&(e=-e,t=-t,c=-c,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*F,skewX:Math.atan(c)*F,scaleX:s,scaleY:a}},q=f(d,"px, ","px)","deg)"),Y=f(p,", ",")",")"),H=Math.SQRT2,W=function(e,t){var n,i,r=e[0],o=e[1],s=e[2],a=t[0],c=t[1],l=t[2],u=a-r,d=c-o,p=u*u+d*d;if(1e-12>p)i=Math.log(l/s)/H,n=function(e){return[r+e*u,o+e*d,s*Math.exp(H*e*i)]};else{var f=Math.sqrt(p),y=(l*l-s*s+4*p)/(2*s*2*f),v=(l*l-s*s-4*p)/(2*l*2*f),b=Math.log(Math.sqrt(y*y+1)-y);i=(Math.log(Math.sqrt(v*v+1)-v)-b)/H,n=function(e){var t=e*i,n=h(b),a=s/(2*f)*(n*g(H*t+b)-m(b));return[r+a*u,o+a*d,s*n/h(H*t+b)]}}return n.duration=1e3*i,n},z=y(o),G=y(a),K=b(o),Z=b(a),X=w(o),J=w(a),Q=function(e,t){for(var n=new Array(t),i=0;t>i;++i)n[i]=e(i/(t-1));return n};e.interpolate=R,e.interpolateArray=E,e.interpolateBasis=k,e.interpolateBasisClosed=$,e.interpolateDate=L,e.interpolateNumber=N,e.interpolateObject=j,e.interpolateRound=U,e.interpolateString=_,e.interpolateTransformCss=q,e.interpolateTransformSvg=Y,e.interpolateZoom=W,e.interpolateRgb=A,e.interpolateRgbBasis=M,e.interpolateRgbBasisClosed=I,e.interpolateHsl=z,e.interpolateHslLong=G,e.interpolateLab=v,e.interpolateHcl=K,e.interpolateHclLong=Z,e.interpolateCubehelix=X,e.interpolateCubehelixLong=J,e.quantize=Q,Object.defineProperty(e,"__esModule",{value:!0})}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof n&&n.amd?n("d3-time",["exports"],t):t(e.d3=e.d3||{})}(this,function(e){"use strict";function t(e,n,i,s){function a(t){return e(t=new Date(+t)),t}return a.floor=a,a.ceil=function(t){return e(t=new Date(t-1)),n(t,1),e(t),t},a.round=function(e){var t=a(e),n=a.ceil(e);return n-e>e-t?t:n},a.offset=function(e,t){return n(e=new Date(+e),null==t?1:Math.floor(t)),e},a.range=function(t,i,r){var o=[];if(t=a.ceil(t),r=null==r?1:Math.floor(r),!(i>t&&r>0))return o;do o.push(new Date(+t));while(n(t,r),e(t),i>t);return o},a.filter=function(i){return t(function(t){if(t>=t)for(;e(t),!i(t);)t.setTime(t-1)},function(e,t){if(e>=e)for(;--t>=0;)for(;n(e,1),!i(e););})},i&&(a.count=function(t,n){return r.setTime(+t),o.setTime(+n),e(r),e(o),Math.floor(i(r,o))},a.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(s?function(t){return s(t)%e==0}:function(t){return a.count(0,t)%e==0}):a:null}),a}function n(e){return t(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*c)/l})}function i(e){return t(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/l})}var r=new Date,o=new Date,s=t(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?t(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):s:null};var a=s.range,c=6e4,l=6048e5,u=t(function(e){e.setTime(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),d=u.range,p=t(function(e){e.setTime(Math.floor(e/c)*c)},function(e,t){e.setTime(+e+t*c)},function(e,t){return(t-e)/c},function(e){return e.getMinutes()}),f=p.range,h=t(function(e){var t=e.getTimezoneOffset()*c%36e5;0>t&&(t+=36e5),e.setTime(36e5*Math.floor((+e-t)/36e5)+t)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),m=h.range,g=t(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*c)/864e5},function(e){return e.getDate()-1}),y=g.range,v=n(0),b=n(1),w=n(2),S=n(3),x=n(4),C=n(5),O=n(6),k=v.range,$=b.range,T=w.range,A=S.range,M=x.range,I=C.range,E=O.range,L=t(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),N=L.range,j=t(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});j.every=function(e){return isFinite(e=Math.floor(e))&&e>0?t(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var P=j.range,D=t(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*c)},function(e,t){return(t-e)/c},function(e){return e.getUTCMinutes()}),_=D.range,R=t(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),U=R.range,F=t(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),V=F.range,B=i(0),q=i(1),Y=i(2),H=i(3),W=i(4),z=i(5),G=i(6),K=B.range,Z=q.range,X=Y.range,J=H.range,Q=W.range,ee=z.range,te=G.range,ne=t(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),ie=ne.range,re=t(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});re.every=function(e){return isFinite(e=Math.floor(e))&&e>0?t(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var oe=re.range;e.timeInterval=t,e.timeMillisecond=s,e.timeMilliseconds=a,e.utcMillisecond=s,e.utcMilliseconds=a,e.timeSecond=u,e.timeSeconds=d,e.utcSecond=u,e.utcSeconds=d,e.timeMinute=p,e.timeMinutes=f,e.timeHour=h,e.timeHours=m,e.timeDay=g,e.timeDays=y,e.timeWeek=v,e.timeWeeks=k,e.timeSunday=v,e.timeSundays=k,e.timeMonday=b,e.timeMondays=$,e.timeTuesday=w,e.timeTuesdays=T,e.timeWednesday=S,e.timeWednesdays=A,e.timeThursday=x,e.timeThursdays=M,e.timeFriday=C,e.timeFridays=I,e.timeSaturday=O,e.timeSaturdays=E,e.timeMonth=L,e.timeMonths=N,e.timeYear=j,e.timeYears=P,e.utcMinute=D,e.utcMinutes=_,e.utcHour=R,e.utcHours=U,e.utcDay=F,e.utcDays=V,e.utcWeek=B,e.utcWeeks=K,e.utcSunday=B,e.utcSundays=K,e.utcMonday=q,e.utcMondays=Z,e.utcTuesday=Y,e.utcTuesdays=X,e.utcWednesday=H,e.utcWednesdays=J,e.utcThursday=W,e.utcThursdays=Q,e.utcFriday=z,e.utcFridays=ee,e.utcSaturday=G,e.utcSaturdays=te,e.utcMonth=ne,e.utcMonths=ie,e.utcYear=re,e.utcYears=oe,Object.defineProperty(e,"__esModule",{value:!0})}),!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,t("d3-time")):"function"==typeof n&&n.amd?n("d3-time-format",["exports","d3-time"],i):i(e.d3=e.d3||{},e.d3)}(this,function(e,t){"use strict";function n(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function i(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function r(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function o(e){function t(e,t){return function(n){var i,r,o,s=[],a=-1,c=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++a<l;)37===e.charCodeAt(a)&&(s.push(e.slice(c,a)),null!=(r=ie[i=e.charAt(++a)])?i=e.charAt(++a):r="e"===i?" ":"0",(o=t[i])&&(i=o(n,r)),s.push(i),c=a+1);return s.push(e.slice(c,a)),s.join("")}}function o(e,t){return function(n){var o=r(1900);if(s(o,e,n+="",0)!=n.length)return null;if("p"in o&&(o.H=o.H%12+12*o.p),"W"in o||"U"in o){"w"in o||(o.w="W"in o?1:0);var a="Z"in o?i(r(o.y)).getUTCDay():t(r(o.y)).getDay();o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(a+5)%7:o.w+7*o.U-(a+6)%7}return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,i(o)):t(o)}}function s(e,t,n,i){for(var r,o,s=0,a=t.length,c=n.length;a>s;){if(i>=c)return-1;if(37===(r=t.charCodeAt(s++))){if(r=t.charAt(s++),!(o=_e[r in ie?t.charAt(s++):r])||(i=o(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function a(e,t,n){var i=ke.exec(t.slice(n));return i?(e.p=$e[i[0].toLowerCase()],n+i[0].length):-1}function Q(e,t,n){var i=Me.exec(t.slice(n));return i?(e.w=Ie[i[0].toLowerCase()],n+i[0].length):-1}function ee(e,t,n){var i=Te.exec(t.slice(n));return i?(e.w=Ae[i[0].toLowerCase()],n+i[0].length):-1}function te(e,t,n){
var i=Ne.exec(t.slice(n));return i?(e.m=je[i[0].toLowerCase()],n+i[0].length):-1}function ne(e,t,n){var i=Ee.exec(t.slice(n));return i?(e.m=Le[i[0].toLowerCase()],n+i[0].length):-1}function re(e,t,n){return s(e,ye,t,n)}function oe(e,t,n){return s(e,ve,t,n)}function se(e,t,n){return s(e,be,t,n)}function ae(e){return xe[e.getDay()]}function ce(e){return Se[e.getDay()]}function le(e){return Oe[e.getMonth()]}function ue(e){return Ce[e.getMonth()]}function de(e){return we[+(e.getHours()>=12)]}function pe(e){return xe[e.getUTCDay()]}function fe(e){return Se[e.getUTCDay()]}function he(e){return Oe[e.getUTCMonth()]}function me(e){return Ce[e.getUTCMonth()]}function ge(e){return we[+(e.getUTCHours()>=12)]}var ye=e.dateTime,ve=e.date,be=e.time,we=e.periods,Se=e.days,xe=e.shortDays,Ce=e.months,Oe=e.shortMonths,ke=c(we),$e=l(we),Te=c(Se),Ae=l(Se),Me=c(xe),Ie=l(xe),Ee=c(Ce),Le=l(Ce),Ne=c(Oe),je=l(Oe),Pe={a:ae,A:ce,b:le,B:ue,c:null,d:O,e:O,H:k,I:$,j:T,L:A,m:M,M:I,p:de,S:E,U:L,w:N,W:j,x:null,X:null,y:P,Y:D,Z:_,"%":J},De={a:pe,A:fe,b:he,B:me,c:null,d:R,e:R,H:U,I:F,j:V,L:B,m:q,M:Y,p:ge,S:H,U:W,w:z,W:G,x:null,X:null,y:K,Y:Z,Z:X,"%":J},_e={a:Q,A:ee,b:te,B:ne,c:re,d:y,e:y,H:b,I:b,j:v,L:x,m:g,M:w,p:a,S:S,U:d,w:u,W:p,x:oe,X:se,y:h,Y:f,Z:m,"%":C};return Pe.x=t(ve,Pe),Pe.X=t(be,Pe),Pe.c=t(ye,Pe),De.x=t(ve,De),De.X=t(be,De),De.c=t(ye,De),{format:function(e){var n=t(e+="",Pe);return n.toString=function(){return e},n},parse:function(e){var t=o(e+="",n);return t.toString=function(){return e},t},utcFormat:function(e){var n=t(e+="",De);return n.toString=function(){return e},n},utcParse:function(e){var t=o(e,i);return t.toString=function(){return e},t}}}function s(e,t,n){var i=0>e?"-":"",r=(i?-e:e)+"",o=r.length;return i+(n>o?new Array(n-o+1).join(t)+r:r)}function a(e){return e.replace(se,"\\$&")}function c(e){return new RegExp("^(?:"+e.map(a).join("|")+")","i")}function l(e){for(var t={},n=-1,i=e.length;++n<i;)t[e[n].toLowerCase()]=n;return t}function u(e,t,n){var i=re.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function d(e,t,n){var i=re.exec(t.slice(n));return i?(e.U=+i[0],n+i[0].length):-1}function p(e,t,n){var i=re.exec(t.slice(n));return i?(e.W=+i[0],n+i[0].length):-1}function f(e,t,n){var i=re.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function h(e,t,n){var i=re.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function m(e,t,n){var i=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function g(e,t,n){var i=re.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function y(e,t,n){var i=re.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function v(e,t,n){var i=re.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function b(e,t,n){var i=re.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function w(e,t,n){var i=re.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function S(e,t,n){var i=re.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function x(e,t,n){var i=re.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function C(e,t,n){var i=oe.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function O(e,t){return s(e.getDate(),t,2)}function k(e,t){return s(e.getHours(),t,2)}function $(e,t){return s(e.getHours()%12||12,t,2)}function T(e,n){return s(1+t.timeDay.count(t.timeYear(e),e),n,3)}function A(e,t){return s(e.getMilliseconds(),t,3)}function M(e,t){return s(e.getMonth()+1,t,2)}function I(e,t){return s(e.getMinutes(),t,2)}function E(e,t){return s(e.getSeconds(),t,2)}function L(e,n){return s(t.timeSunday.count(t.timeYear(e),e),n,2)}function N(e){return e.getDay()}function j(e,n){return s(t.timeMonday.count(t.timeYear(e),e),n,2)}function P(e,t){return s(e.getFullYear()%100,t,2)}function D(e,t){return s(e.getFullYear()%1e4,t,4)}function _(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+s(t/60|0,"0",2)+s(t%60,"0",2)}function R(e,t){return s(e.getUTCDate(),t,2)}function U(e,t){return s(e.getUTCHours(),t,2)}function F(e,t){return s(e.getUTCHours()%12||12,t,2)}function V(e,n){return s(1+t.utcDay.count(t.utcYear(e),e),n,3)}function B(e,t){return s(e.getUTCMilliseconds(),t,3)}function q(e,t){return s(e.getUTCMonth()+1,t,2)}function Y(e,t){return s(e.getUTCMinutes(),t,2)}function H(e,t){return s(e.getUTCSeconds(),t,2)}function W(e,n){return s(t.utcSunday.count(t.utcYear(e),e),n,2)}function z(e){return e.getUTCDay()}function G(e,n){return s(t.utcMonday.count(t.utcYear(e),e),n,2)}function K(e,t){return s(e.getUTCFullYear()%100,t,2)}function Z(e,t){return s(e.getUTCFullYear()%1e4,t,4)}function X(){return"+0000"}function J(){return"%"}function Q(t){return ne=o(t),e.timeFormat=ne.format,e.timeParse=ne.parse,e.utcFormat=ne.utcFormat,e.utcParse=ne.utcParse,ne}function ee(e){return e.toISOString()}function te(e){var t=new Date(e);return isNaN(t)?null:t}var ne,ie={"-":"",_:" ",0:"0"},re=/^\s*\d+/,oe=/^%/,se=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Q({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ae=Date.prototype.toISOString?ee:e.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),ce=+new Date("2000-01-01T00:00:00.000Z")?te:e.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");e.timeFormatDefaultLocale=Q,e.timeFormatLocale=o,e.isoFormat=ae,e.isoParse=ce,Object.defineProperty(e,"__esModule",{value:!0})}),!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,t("d3-array"),t("d3-collection"),t("d3-interpolate"),t("d3-format"),t("d3-time"),t("d3-time-format"),t("d3-color")):"function"==typeof n&&n.amd?n("d3-scale",["exports","d3-array","d3-collection","d3-interpolate","d3-format","d3-time","d3-time-format","d3-color"],i):i(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3)}(this,function(e,t,n,i,r,o,s,a){"use strict";function c(e){function t(t){var n=t+"",s=i.get(n);if(!s){if(o!==q)return o;i.set(n,s=r.push(t))}return e[(s-1)%e.length]}var i=n.map(),r=[],o=q;return e=null==e?[]:B.call(e),t.domain=function(e){if(!arguments.length)return r.slice();r=[],i=n.map();for(var o,s,a=-1,c=e.length;++a<c;)i.has(s=(o=e[a])+"")||i.set(s,r.push(o));return t},t.range=function(n){return arguments.length?(e=B.call(n),t):e.slice()},t.unknown=function(e){return arguments.length?(o=e,t):o},t.copy=function(){return c().domain(r).range(e).unknown(o)},t}function l(){function e(){var e=o().length,r=a[1]<a[0],c=a[r-0],l=a[1-r];n=(l-c)/Math.max(1,e-d+2*p),u&&(n=Math.floor(n)),c+=(l-c-n*(e-d))*f,i=n*(1-d),u&&(c=Math.round(c),i=Math.round(i));var h=t.range(e).map(function(e){return c+n*e});return s(r?h.reverse():h)}var n,i,r=c().unknown(void 0),o=r.domain,s=r.range,a=[0,1],u=!1,d=0,p=0,f=.5;return delete r.unknown,r.domain=function(t){return arguments.length?(o(t),e()):o()},r.range=function(t){return arguments.length?(a=[+t[0],+t[1]],e()):a.slice()},r.rangeRound=function(t){return a=[+t[0],+t[1]],u=!0,e()},r.bandwidth=function(){return i},r.step=function(){return n},r.round=function(t){return arguments.length?(u=!!t,e()):u},r.padding=function(t){return arguments.length?(d=p=Math.max(0,Math.min(1,t)),e()):d},r.paddingInner=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},r.paddingOuter=function(t){return arguments.length?(p=Math.max(0,Math.min(1,t)),e()):p},r.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),e()):f},r.copy=function(){return l().domain(o()).range(a).round(u).paddingInner(d).paddingOuter(p).align(f)},e()}function u(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return u(t())},e}function d(){return u(l().paddingInner(1))}function p(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Y(t)}function f(e){return function(t,n){var i=e(t=+t,n=+n);return function(e){return t>=e?0:e>=n?1:i(e)}}}function h(e){return function(t,n){var i=e(t=+t,n=+n);return function(e){return 0>=e?t:e>=1?n:i(e)}}}function m(e,t,n,i){var r=e[0],o=e[1],s=t[0],a=t[1];return r>o?(r=n(o,r),s=i(a,s)):(r=n(r,o),s=i(s,a)),function(e){return s(r(e))}}function g(e,n,i,r){var o=Math.min(e.length,n.length)-1,s=new Array(o),a=new Array(o),c=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++c<o;)s[c]=i(e[c],e[c+1]),a[c]=r(n[c],n[c+1]);return function(n){var i=t.bisect(e,n,1,o)-1;return a[i](s[i](n))}}function y(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function v(e,t){function n(){return o=Math.min(c.length,l.length)>2?g:m,s=a=null,r}function r(t){return(s||(s=o(c,l,d?f(e):e,u)))(+t)}var o,s,a,c=W,l=W,u=i.interpolate,d=!1;return r.invert=function(e){return(a||(a=o(l,c,p,d?h(t):t)))(+e)},r.domain=function(e){return arguments.length?(c=V.call(e,H),n()):c.slice()},r.range=function(e){return arguments.length?(l=B.call(e),n()):l.slice()},r.rangeRound=function(e){return l=B.call(e),u=i.interpolateRound,n()},r.clamp=function(e){return arguments.length?(d=!!e,n()):d},r.interpolate=function(e){return arguments.length?(u=e,n()):u},n()}function b(e){var n=e.domain;return e.ticks=function(e){var i=n();return t.ticks(i[0],i[i.length-1],null==e?10:e)},e.tickFormat=function(e,t){return z(n(),e,t)},e.nice=function(i){var r=n(),o=r.length-1,s=null==i?10:i,a=r[0],c=r[o],l=t.tickStep(a,c,s);return l&&(l=t.tickStep(Math.floor(a/l)*l,Math.ceil(c/l)*l,s),r[0]=Math.floor(a/l)*l,r[o]=Math.ceil(c/l)*l,n(r)),e},e}function w(){var e=v(p,i.interpolateNumber);return e.copy=function(){return y(e,w())},b(e)}function S(){function e(e){return+e}var t=[0,1];return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=V.call(n,H),e):t.slice()},e.copy=function(){return S().domain(t)},b(e)}function x(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:Y(t)}function C(e,t){return 0>e?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function O(e){return isFinite(e)?+("1e"+e):0>e?0:e}function k(e){return 10===e?O:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function $(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function T(e){return function(t){return-e(-t)}}function A(){function e(){return s=$(o),a=k(o),i()[0]<0&&(s=T(s),a=T(a)),n}var n=v(x,C).domain([1,10]),i=n.domain,o=10,s=$(10),a=k(10);return n.base=function(t){return arguments.length?(o=+t,e()):o},n.domain=function(t){return arguments.length?(i(t),e()):i()},n.ticks=function(e){var n,r=i(),c=r[0],l=r[r.length-1];(n=c>l)&&(f=c,c=l,l=f);var u,d,p,f=s(c),h=s(l),m=null==e?10:+e,g=[];if(!(o%1)&&m>h-f){if(f=Math.round(f)-1,h=Math.round(h)+1,c>0){for(;h>f;++f)for(d=1,u=a(f);o>d;++d)if(!((p=u*d)<c)){if(p>l)break;g.push(p)}}else for(;h>f;++f)for(d=o-1,u=a(f);d>=1;--d)if(!((p=u*d)<c)){if(p>l)break;g.push(p)}}else g=t.ticks(f,h,Math.min(h-f,m)).map(a);return n?g.reverse():g},n.tickFormat=function(e,t){if(null==t&&(t=10===o?".0e":","),"function"!=typeof t&&(t=r.format(t)),e===1/0)return t;null==e&&(e=10);var i=Math.max(1,o*e/n.ticks().length);return function(e){var n=e/a(Math.round(s(e)));return o-.5>n*o&&(n*=o),i>=n?t(e):""}},n.nice=function(){return i(G(i(),{floor:function(e){return a(Math.floor(s(e)))},ceil:function(e){return a(Math.ceil(s(e)))}}))},n.copy=function(){return y(n,A().base(o))},n}function M(e,t){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}function I(){function e(e,t){return(t=M(t,n)-(e=M(e,n)))?function(i){return(M(i,n)-e)/t}:Y(t)}function t(e,t){return t=M(t,n)-(e=M(e,n)),function(i){return M(e+t*i,1/n)}}var n=1,i=v(e,t),r=i.domain;return i.exponent=function(e){return arguments.length?(n=+e,r(r())):n},i.copy=function(){return y(i,I().exponent(n))},b(i)}function E(){return I().exponent(.5)}function L(){function e(){var e=0,s=Math.max(1,r.length);for(o=new Array(s-1);++e<s;)o[e-1]=t.quantile(i,e/s);return n}function n(e){return isNaN(e=+e)?void 0:r[t.bisect(o,e)]}var i=[],r=[],o=[];return n.invertExtent=function(e){var t=r.indexOf(e);return 0>t?[NaN,NaN]:[t>0?o[t-1]:i[0],t<o.length?o[t]:i[i.length-1]]},n.domain=function(n){if(!arguments.length)return i.slice();i=[];for(var r,o=0,s=n.length;s>o;++o)null==(r=n[o])||isNaN(r=+r)||i.push(r);return i.sort(t.ascending),e()},n.range=function(t){return arguments.length?(r=B.call(t),e()):r.slice()},n.quantiles=function(){return o.slice()},n.copy=function(){return L().domain(i).range(r)},n}function N(){function e(e){return e>=e?a[t.bisect(s,e,0,o)]:void 0}function n(){var t=-1;for(s=new Array(o);++t<o;)s[t]=((t+1)*r-(t-o)*i)/(o+1);return e}var i=0,r=1,o=1,s=[.5],a=[0,1];return e.domain=function(e){return arguments.length?(i=+e[0],r=+e[1],n()):[i,r]},e.range=function(e){return arguments.length?(o=(a=B.call(e)).length-1,n()):a.slice()},e.invertExtent=function(e){var t=a.indexOf(e);return 0>t?[NaN,NaN]:1>t?[i,s[0]]:t>=o?[s[o-1],r]:[s[t-1],s[t]]},e.copy=function(){return N().domain([i,r]).range(a)},b(e)}function j(){function e(e){return e>=e?i[t.bisect(n,e,0,r)]:void 0}var n=[.5],i=[0,1],r=1;return e.domain=function(t){return arguments.length?(n=B.call(t),r=Math.min(n.length,i.length-1),e):n.slice()},e.range=function(t){return arguments.length?(i=B.call(t),r=Math.min(n.length,i.length-1),e):i.slice()},e.invertExtent=function(e){var t=i.indexOf(e);return[n[t-1],n[t]]},e.copy=function(){return j().domain(n).range(i)},e}function P(e){return new Date(e)}function D(e){return e instanceof Date?+e:+new Date(+e)}function _(e,n,r,o,s,a,c,l,u){function d(t){return(c(t)<t?b:a(t)<t?w:s(t)<t?S:o(t)<t?x:n(t)<t?r(t)<t?C:O:e(t)<t?k:$)(t)}function f(n,i,r,o){if(null==n&&(n=10),"number"==typeof n){var s=Math.abs(r-i)/n,a=t.bisector(function(e){return e[2]}).right(T,s);a===T.length?(o=t.tickStep(i/te,r/te,n),n=e):a?(a=T[s/T[a-1][2]<T[a][2]/s?a-1:a],o=a[1],n=a[0]):(o=t.tickStep(i,r,n),n=l)}return null==o?n:n.every(o)}var h=v(p,i.interpolateNumber),m=h.invert,g=h.domain,b=u(".%L"),w=u(":%S"),S=u("%I:%M"),x=u("%I %p"),C=u("%a %d"),O=u("%b %d"),k=u("%B"),$=u("%Y"),T=[[c,1,K],[c,5,5*K],[c,15,15*K],[c,30,30*K],[a,1,Z],[a,5,5*Z],[a,15,15*Z],[a,30,30*Z],[s,1,X],[s,3,3*X],[s,6,6*X],[s,12,12*X],[o,1,J],[o,2,2*J],[r,1,Q],[n,1,ee],[n,3,3*ee],[e,1,te]];return h.invert=function(e){return new Date(m(e))},h.domain=function(e){return arguments.length?g(V.call(e,D)):g().map(P)},h.ticks=function(e,t){var n,i=g(),r=i[0],o=i[i.length-1],s=r>o;return s&&(n=r,r=o,o=n),n=f(e,r,o,t),n=n?n.range(r,o+1):[],s?n.reverse():n},h.tickFormat=function(e,t){return null==t?d:u(t)},h.nice=function(e,t){var n=g();return(e=f(e,n[0],n[n.length-1],t))?g(G(n,e)):h},h.copy=function(){return y(h,_(e,n,r,o,s,a,c,l,u))},h}function R(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function U(e){function t(t){var o=(t-n)/(i-n);return e(r?Math.max(0,Math.min(1,o)):o)}var n=0,i=1,r=!1;return t.domain=function(e){return arguments.length?(n=+e[0],i=+e[1],t):[n,i]},t.clamp=function(e){return arguments.length?(r=!!e,t):r},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return U(e).domain([n,i]).clamp(r)},b(t)}var F=Array.prototype,V=F.map,B=F.slice,q={name:"implicit"},Y=function(e){return function(){return e}},H=function(e){return+e},W=[0,1],z=function(e,n,i){var o,s=e[0],a=e[e.length-1],c=t.tickStep(s,a,null==n?10:n);switch(i=r.formatSpecifier(null==i?",f":i),i.type){case"s":var l=Math.max(Math.abs(s),Math.abs(a));return null!=i.precision||isNaN(o=r.precisionPrefix(c,l))||(i.precision=o),r.formatPrefix(i,l);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=r.precisionRound(c,Math.max(Math.abs(s),Math.abs(a))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=r.precisionFixed(c))||(i.precision=o-2*("%"===i.type))}return r.format(i)},G=function(e,t){e=e.slice();var n,i=0,r=e.length-1,o=e[i],s=e[r];return o>s&&(n=i,i=r,r=n,n=o,o=s,s=n),e[i]=t.floor(o),e[r]=t.ceil(s),e},K=1e3,Z=60*K,X=60*Z,J=24*X,Q=7*J,ee=30*J,te=365*J,ne=function(){return _(o.timeYear,o.timeMonth,o.timeWeek,o.timeDay,o.timeHour,o.timeMinute,o.timeSecond,o.timeMillisecond,s.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},ie=function(){return _(o.utcYear,o.utcMonth,o.utcWeek,o.utcDay,o.utcHour,o.utcMinute,o.utcSecond,o.utcMillisecond,s.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},re=function(e){return e.match(/.{6}/g).map(function(e){return"#"+e})},oe=re("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),se=re("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),ae=re("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),ce=re("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),le=i.interpolateCubehelixLong(a.cubehelix(300,.5,0),a.cubehelix(-240,.5,1)),ue=i.interpolateCubehelixLong(a.cubehelix(-100,.75,.35),a.cubehelix(80,1.5,.8)),de=i.interpolateCubehelixLong(a.cubehelix(260,.75,.35),a.cubehelix(80,1.5,.8)),pe=a.cubehelix(),fe=function(e){(0>e||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return pe.h=360*e-100,pe.s=1.5-1.5*t,pe.l=.8-.9*t,pe+""},he=R(re("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),me=R(re("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ge=R(re("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ye=R(re("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));e.scaleBand=l,e.scalePoint=d,e.scaleIdentity=S,e.scaleLinear=w,e.scaleLog=A,e.scaleOrdinal=c,e.scaleImplicit=q,e.scalePow=I,e.scaleSqrt=E,e.scaleQuantile=L,e.scaleQuantize=N,e.scaleThreshold=j,e.scaleTime=ne,e.scaleUtc=ie,e.schemeCategory10=oe,e.schemeCategory20b=se,e.schemeCategory20c=ae,e.schemeCategory20=ce,e.interpolateCubehelixDefault=le,e.interpolateRainbow=fe,e.interpolateWarm=ue,e.interpolateCool=de,e.interpolateViridis=he,e.interpolateMagma=me,e.interpolateInferno=ge,e.interpolatePlasma=ye,e.scaleSequential=U,Object.defineProperty(e,"__esModule",{value:!0})}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof n&&n.amd?n("d3-axis",["exports"],t):t(e.d3=e.d3||{})}(this,function(e){"use strict";function t(e){return"translate("+e+",0)"}function n(e){return"translate(0,"+e+")"}function i(e){var t=e.bandwidth()/2;return e.round()&&(t=Math.round(t)),function(n){return e(n)+t}}function r(){return!this.__axis}function o(e,o){function s(t){var n=null==l?o.ticks?o.ticks.apply(o,c):o.domain():l,s=null==y?o.tickFormat?o.tickFormat.apply(o,c):d:y,u=Math.max(v,0)+w,O=o.range(),k=O[0]+.5,$=O[O.length-1]+.5,T=(o.bandwidth?i:d)(o.copy()),A=t.selection?t.selection():t,M=A.selectAll(".domain").data([null]),I=A.selectAll(".tick").data(n,o).order(),E=I.exit(),L=I.enter().append("g").attr("class","tick"),N=I.select("line"),j=I.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),I=I.merge(L),N=N.merge(L.append("line").attr("stroke","#000").attr(a+"2",S*v).attr(x+"1",.5).attr(x+"2",.5)),j=j.merge(L.append("text").attr("fill","#000").attr(a,S*u).attr(x,.5).attr("dy",e===p?"0em":e===h?"0.71em":"0.32em")),t!==A&&(M=M.transition(t),I=I.transition(t),N=N.transition(t),j=j.transition(t),E=E.transition(t).attr("opacity",g).attr("transform",function(e){return isFinite(e=T(e))?C(e):this.getAttribute("transform")}),L.attr("opacity",g).attr("transform",function(e){var t=this.parentNode.__axis;return C(t&&isFinite(t=t(e))?t:T(e))})),E.remove(),M.attr("d",e===m||e==f?"M"+S*b+","+k+"H0.5V"+$+"H"+S*b:"M"+k+","+S*b+"V0.5H"+$+"V"+S*b),I.attr("opacity",1).attr("transform",function(e){return C(T(e))}),N.attr(a+"2",S*v),j.attr(a,S*u).text(s),A.filter(r).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===f?"start":e===m?"end":"middle"),A.each(function(){this.__axis=T})}var a,c=[],l=null,y=null,v=6,b=6,w=3,S=e===p||e===m?-1:1,x=e===m||e===f?(a="x","y"):(a="y","x"),C=e===p||e===h?t:n;return s.scale=function(e){return arguments.length?(o=e,s):o},s.ticks=function(){return c=u.call(arguments),s},s.tickArguments=function(e){return arguments.length?(c=null==e?[]:u.call(e),s):c.slice()},s.tickValues=function(e){return arguments.length?(l=null==e?null:u.call(e),s):l&&l.slice()},s.tickFormat=function(e){return arguments.length?(y=e,s):y},s.tickSize=function(e){return arguments.length?(v=b=+e,s):v},s.tickSizeInner=function(e){return arguments.length?(v=+e,s):v},s.tickSizeOuter=function(e){return arguments.length?(b=+e,s):b},s.tickPadding=function(e){return arguments.length?(w=+e,s):w},s}function s(e){return o(p,e)}function a(e){return o(f,e)}function c(e){return o(h,e)}function l(e){return o(m,e)}var u=Array.prototype.slice,d=function(e){return e},p=1,f=2,h=3,m=4,g=1e-6;e.axisTop=s,e.axisRight=a,e.axisBottom=c,e.axisLeft=l,Object.defineProperty(e,"__esModule",{value:!0})}),n("platform/features/conductor/core/src/ui/ConductorAxisController",["d3-selection","d3-scale","d3-axis"],function(e,t,n){function i(e,t,n,r){this.formatService=t,this.timeAPI=e.time,this.scope=n,this.bounds=this.timeAPI.bounds(),Object.keys(i.prototype).filter(function(e){return"function"==typeof i.prototype[e]}).forEach(function(e){this[e]=i.prototype[e].bind(this)}.bind(this)),this.initialize(r)}var r=1;return i.prototype.destroy=function(){this.timeAPI.off("timeSystem",this.changeTimeSystem),this.timeAPI.off("bounds",this.changeBounds),this.viewService.off("zoom",this.onZoom),this.viewService.off("zoom-stop",this.onZoomStop)},i.prototype.initialize=function(t){this.target=t[0].firstChild;var i=this.target.offsetHeight,o=e.select(this.target).append("svg:svg").attr("width","100%").attr("height",i);this.xAxis=n.axisTop(),this.axisElement=o.append("g").attr("transform","translate(0,"+(i-r)+")"),void 0!==this.timeAPI.timeSystem()&&(this.changeTimeSystem(this.timeAPI.timeSystem()),this.setScale()),this.timeAPI.on("timeSystem",this.changeTimeSystem),this.timeAPI.on("bounds",this.changeBounds),this.scope.$on("$destroy",this.destroy),this.viewService.on("zoom",this.onZoom),this.viewService.on("zoom-stop",this.onZoomStop)},i.prototype.changeBounds=function(e){this.bounds=e,this.zooming||this.setScale()},i.prototype.setScale=function(){var e=this.target.offsetWidth,n=this.timeAPI.timeSystem(),i=this.bounds;n.isUTCBased?(this.xScale=this.xScale||t.scaleUtc(),this.xScale.domain([new Date(i.start),new Date(i.end)])):(this.xScale=this.xScale||t.scaleLinear(),this.xScale.domain([i.start,i.end])),this.xAxis.scale(this.xScale),this.xScale.range([r,e-2*r]),this.axisElement.call(this.xAxis),this.msPerPixel=(i.end-i.start)/e},i.prototype.changeTimeSystem=function(e){var n=e.timeFormat;if(void 0!==n){var i=this.formatService.getFormat(n),r=this.timeAPI.bounds();e.isUTCBased?this.xScale=t.scaleUtc():this.xScale=t.scaleLinear(),this.xAxis.scale(this.xScale),this.xAxis.tickFormat(function(e){return e instanceof Date&&(e=e.getTime()),i.format(e,{min:r.start,max:r.end})}),this.axisElement.call(this.xAxis)}},i.prototype.panStop=function(){this.viewService.emit("pan-stop"),this.timeAPI.bounds(this.bounds)},i.prototype.onZoom=function(e){this.zooming=!0,this.bounds=e.bounds,this.setScale()},i.prototype.onZoomStop=function(e){this.zooming=!1},i.prototype.pan=function(e){if(void 0===this.timeAPI.clock()){var t=e[0]*this.msPerPixel,n=this.timeAPI.bounds(),i=1e3*Math.floor((n.start-t)/1e3),r=1e3*Math.floor((n.end-t)/1e3);this.bounds={start:i,end:r},this.setScale(),this.viewService.emit("pan",this.bounds)}},i.prototype.resize=function(){this.setScale()},i}),n("platform/features/conductor/core/src/ui/ConductorTOIController",["zepto"],function(e){function t(e,n){this.timeAPI=n.time,Object.keys(t.prototype).filter(function(e){return"function"==typeof t.prototype[e]}).forEach(function(e){this[e]=t.prototype[e].bind(this)}.bind(this)),this.timeAPI.on("timeOfInterest",this.changeTimeOfInterest),this.viewService.on("zoom",this.setOffsetFromZoom),this.viewService.on("pan",this.setOffsetFromBounds);var i=this.timeAPI.timeOfInterest();i&&this.changeTimeOfInterest(i),e.$on("$destroy",this.destroy)}return t.prototype.destroy=function(){this.timeAPI.off("timeOfInterest",this.changeTimeOfInterest),this.viewService.off("zoom",this.setOffsetFromZoom),this.viewService.off("pan",this.setOffsetFromBounds)},t.prototype.setOffsetFromBounds=function(e){var t=this.timeAPI.timeOfInterest();if(void 0!==t){var n=t-e.start,i=e.end-e.start;this.left=n/i*100,this.pinned=!0}else this.left=0,this.pinned=!1},t.prototype.setOffsetFromZoom=function(e){return this.setOffsetFromBounds(e.bounds)},t.prototype.changeTimeOfInterest=function(){var e=this.timeAPI.bounds();e&&this.setOffsetFromBounds(e)},t.prototype.setTOIFromPosition=function(t){if(t.altKey){var n=e(t.currentTarget),i=n.width(),r=t.pageX-n.offset().left,o=r/i,s=this.timeAPI.bounds(),a=s.end-s.start;this.timeAPI.timeOfInterest(a*o+s.start)}},t}),n("platform/features/conductor/core/src/ui/ConductorTOIDirective",["./ConductorTOIController"],function(e){function t(){return{controller:["$scope","openmct",e],controllerAs:"toi",scope:{viewService:"="},bindToController:!0,restrict:"E",priority:1e3,template:'<div class="l-data-visualization-holder l-row-elem flex-elem">   <a class="l-page-button s-icon-button icon-pointer-left"></a>   <div class="l-data-visualization" ng-click="toi.setTOIFromPosition($event)">       <mct-include key="\'time-of-interest\'" class="l-toi-holder show-val"        ng-class="{ pinned: toi.pinned, \'val-to-left\': toi.left > 80 }"        ng-style="{\'left\': toi.left + \'%\'}"></mct-include>   </div>   <a class="l-page-button align-right s-icon-button icon-pointer-right"></a></div>'}}return t}),n("platform/features/conductor/core/src/ui/TimeOfInterestController",[],function(){function e(t,n,i){if(this.timeAPI=n.time,
this.formatService=i,this.format=void 0,this.toiText=void 0,this.$scope=t,Object.keys(e.prototype).filter(function(t){return"function"==typeof e.prototype[t]}).forEach(function(t){this[t]=e.prototype[t].bind(this)}.bind(this)),this.timeAPI.on("timeOfInterest",this.changeTimeOfInterest),this.timeAPI.on("timeSystem",this.changeTimeSystem),void 0!==this.timeAPI.timeSystem()){this.changeTimeSystem(this.timeAPI.timeSystem());var r=this.timeAPI.timeOfInterest();r&&this.changeTimeOfInterest(r)}t.$on("$destroy",this.destroy)}return e.prototype.changeTimeOfInterest=function(e){void 0!==e?(this.$scope.pinned=!0,this.toiText=this.format.format(e)):this.$scope.pinned=!1},e.prototype.changeTimeSystem=function(e){this.format=this.formatService.getFormat(e.timeFormat)},e.prototype.destroy=function(){this.timeAPI.off("timeOfInterest",this.changeTimeOfInterest),this.timeAPI.off("timeSystem",this.changeTimeSystem)},e.prototype.dismiss=function(){this.timeAPI.timeOfInterest(void 0)},e.prototype.resync=function(){this.timeAPI.timeOfInterest(this.timeAPI.timeOfInterest())},e}),n("platform/features/conductor/core/src/ui/ConductorAxisDirective",["./ConductorAxisController"],function(e){function t(){return{controller:["openmct","formatService","$scope","$element",e],controllerAs:"axis",scope:{viewService:"="},bindToController:!0,restrict:"E",priority:1e3,template:'<div class="l-axis-holder"     mct-drag-down="axis.panStart()"    mct-drag-up="axis.panStop(delta)"    mct-drag="axis.pan(delta)"    mct-resize="axis.resize()"></div>'}}return t}),n("platform/features/conductor/core/src/ui/NumberFormat",[],function(){function e(){this.key="number"}return e.prototype.format=function(e){return isNaN(e)?"":""+e},e.prototype.parse=function(e){return parseFloat(e)},e.prototype.validate=function(e){return!isNaN(e)},e}),n("text!platform/features/conductor/core/res/templates/time-conductor.html",[],function(){return'<!-- Parent holder for time conductor. follow-mode | fixed-mode -->\n<div ng-controller="TimeConductorController as tcController"\n    class="holder grows flex-elem l-flex-row l-time-conductor {{tcController.isFixed ? \'fixed-mode\' : \'realtime-mode\'}} {{timeSystemModel.selected.metadata.key}}-time-system"\n        ng-class="{\'status-panning\': tcController.panning}">\n    <div class="flex-elem holder time-conductor-icon">\n        <div class="hand-little"></div>\n        <div class="hand-big"></div>\n    </div>\n\n    <div class="flex-elem holder grows l-flex-col l-time-conductor-inner">\n        <!-- Holds inputs and ticks -->\n        <div class="l-time-conductor-inputs-and-ticks l-row-elem flex-elem no-margin">\n            <form class="l-time-conductor-inputs-holder"\n                  ng-submit="tcController.setBoundsFromView(boundsModel)">\n                <span class="l-time-range-w start-w">\n                    <span class="l-time-conductor-inputs">\n                        <span class="l-time-range-input-w start-date">\n                            <span class="title"></span>\n                            <mct-control key="\'datetime-field\'"\n                                         structure="{\n                                             format: timeSystemModel.format,\n                                             validate: tcController.validation.validateStart\n                                         }"\n                                         ng-model="boundsModel"\n                                         ng-blur="tcController.setBoundsFromView(boundsModel)"\n                                         field="\'start\'"\n                                         class="time-range-input">\n                            </mct-control>\n                        </span>\n                            <span class="l-time-range-input-w time-delta start-delta"\n                              ng-class="{\'hide\':tcController.isFixed}">\n                                -\n                            <mct-control key="\'datetime-field\'"\n                                         structure="{\n                                            format: timeSystemModel.durationFormat,\n                                            validate: tcController.validation.validateStartOffset\n                                         }"\n                                         ng-model="boundsModel"\n                                         ng-blur="tcController.setOffsetsFromView(boundsModel)"\n                                         field="\'startOffset\'"\n                                         class="hrs-min-input">\n                            </mct-control>\n                        </span>\n                    </span>\n                </span>\n                <span class="l-time-range-w end-w">\n                    <span class="l-time-conductor-inputs">\n                        <span class="l-time-range-input-w end-date"\n                              ng-controller="ToggleController as t2">\n                            <span class="title"></span>\n                            <mct-control key="\'datetime-field\'"\n                                         structure="{\n                                             format: timeSystemModel.format,\n                                             validate: tcController.validation.validateEnd\n                                         }"\n                                         ng-model="boundsModel"\n                                         ng-blur="tcController.setBoundsFromView(boundsModel)"\n                                         ng-disabled="!tcController.isFixed"\n                                         field="\'end\'"\n                                         class="time-range-input">\n                            </mct-control>\n                        </span>\n                        <span class="l-time-range-input-w time-delta end-delta"\n                              ng-class="{\'hide\': tcController.isFixed}">\n                                +\n                            <mct-control key="\'datetime-field\'"\n                                         structure="{\n                                            format: timeSystemModel.durationFormat,\n                                            validate: tcController.validation.validateEndOffset\n                                         }"\n                                         ng-model="boundsModel"\n                                         ng-blur="tcController.setOffsetsFromView(boundsModel)"\n                                         field="\'endOffset\'"\n                                         class="hrs-min-input">\n                            </mct-control>\n                        </span>\n                    </span>\n                </span>\n\n                <input type="submit" class="hidden">\n            </form>\n            <conductor-axis view-service="tcController.conductorViewService"></conductor-axis>\n        </div>\n\n        <!-- Holds data visualization, time of interest -->\n        <conductor-toi view-service="tcController.conductorViewService"></conductor-toi>\n\n        <!-- Holds time system and session selectors, and zoom control -->\n        <div class="l-time-conductor-controls l-row-elem l-flex-row flex-elem">\n            <mct-include\n                key="\'mode-selector\'"\n                ng-model="tcController.menu"\n                class="holder flex-elem menus-up mode-selector">\n            </mct-include>\n            <mct-control\n                    key="\'menu-button\'"\n                    class="holder flex-elem menus-up time-system"\n                    structure="{\n                        text: timeSystemModel.selected.name,\n                        click: tcController.setTimeSystemFromView,\n                        options: tcController.timeSystemsForClocks[tcController.menu.selected.key]\n                    }">\n            </mct-control>\n            <!-- Zoom control -->\n            <div ng-if="tcController.zoom"\n                 class="l-time-conductor-zoom-w grows flex-elem l-flex-row">\n                {{currentZoom}}\n                <span class="time-conductor-zoom-current-range flex-elem flex-fixed holder">{{timeUnits}}</span>\n                <input class="time-conductor-zoom flex-elem" type="range"\n                       ng-model="tcController.currentZoom"\n                       ng-mouseUp="tcController.onZoomStop(tcController.currentZoom)"\n                       ng-change="tcController.onZoom(tcController.currentZoom)"\n                       min="0.01"\n                       step="0.01"\n                       max="0.99" />\n            </div>\n        </div>\n\n    </div>\n</div>\n'}),n("text!platform/features/conductor/core/res/templates/mode-selector/mode-selector.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="ClickAwayController as modeController">\n    <div class="s-menu-button"\n         ng-click="modeController.toggle()">\n		<span class="title-label">{{ngModel.selected.name}}</span>\n    </div>\n    <div class="menu super-menu mini mode-selector-menu"\n         ng-show="modeController.isActive()">\n        <mct-include key="\'mode-menu\'"\n                     ng-model="ngModel">\n        </mct-include>\n    </div>\n</span>\n'}),n("text!platform/features/conductor/core/res/templates/mode-selector/mode-menu.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="contents">\n    <div class="pane left menu-items">\n        <ul>\n            <li ng-repeat="metadata in ngModel.options"\n                ng-click="ngModel.selected = metadata">\n                <a ng-mouseover="ngModel.activeMetadata = metadata"\n                   ng-mouseleave="ngModel.activeMetadata = undefined"\n                   class="menu-item-a {{metadata.cssClass}}">\n                    {{metadata.name}}\n                </a>\n            </li>\n        </ul>\n    </div>\n    <div class="pane right menu-item-description">\n        <div class="desc-area ui-symbol icon type-icon {{ngModel.activeMetadata.cssClass}}"></div>\n        <div class="desc-area title">\n            {{ngModel.activeMetadata.name}}\n        </div>\n        <div class="desc-area description">\n            {{ngModel.activeMetadata.description}}\n        </div>\n    </div>\n</div>\n'}),n("text!platform/features/conductor/core/res/templates/time-of-interest.html",[],function(){return'<div class="abs angular-controller"\n     ng-controller="TimeOfInterestController as toi">\n    <div class="l-flex-row l-toi">\n        <span class="flex-elem l-flex-row l-toi-buttons">\n            <a class="flex-elem t-button-resync icon-button" title="Re-sync Time of Interest"\n               ng-click="toi.resync()"></a>\n            <a class="flex-elem t-button-unpin icon-button" title="Unset Time of Interest"\n               ng-click="toi.dismiss()"></a>\n        </span>\n        <span class="flex-elem l-toi-val">{{toi.toiText}}</span>\n    </div>\n</div>\n'}),n("platform/features/conductor/core/bundle",["./src/ui/TimeConductorController","./src/ui/ConductorAxisController","./src/ui/ConductorTOIController","./src/ui/ConductorTOIDirective","./src/ui/TimeOfInterestController","./src/ui/ConductorAxisDirective","./src/ui/NumberFormat","text!./res/templates/time-conductor.html","text!./res/templates/mode-selector/mode-selector.html","text!./res/templates/mode-selector/mode-menu.html","text!./res/templates/time-of-interest.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d){d.register("platform/features/conductor/core",{extensions:{controllers:[{key:"TimeConductorController",implementation:e,depends:["$scope","$window","openmct","formatService","CONDUCTOR_CONFIG"]},{key:"ConductorTOIController",implementation:n,depends:["$scope","openmct","formatService"]},{key:"TimeOfInterestController",implementation:r,depends:["$scope","openmct","formatService"]}],directives:[{key:"conductorAxis",implementation:o,depends:["openmct","formatService"]},{key:"conductorToi",implementation:i}],stylesheets:[{stylesheetUrl:"css/time-conductor-espresso.css",theme:"espresso"},{stylesheetUrl:"css/time-conductor-snow.css",theme:"snow"}],templates:[{key:"conductor",template:a},{key:"mode-menu",template:l},{key:"mode-selector",template:c},{key:"time-of-interest",template:u}],representations:[{key:"time-conductor",template:a}],licenses:[{name:"D3: Data-Driven Documents",version:"4.1.0",author:"Mike Bostock",description:"D3 (or D3.js) is a JavaScript library for visualizing data using web standards. D3 helps you bring data to life using SVG, Canvas and HTML. D3 combines powerful visualization and interaction techniques with a data-driven approach to DOM manipulation, giving you the full capabilities of modern browsers and the freedom to design the right visual interface for your data.",website:"https://d3js.org/",copyright:"Copyright 2010-2016 Mike Bostock",license:"BSD-3-Clause",link:"https://github.com/d3/d3/blob/master/LICENSE"}],formats:[{key:"number",implementation:s}]}})}),n("platform/features/conductor/compatibility/src/ConductorRepresenter",[],function(){function e(e,t,n){this.timeAPI=e.time,this.scope=t,this.element=n,this.boundsListener=this.boundsListener.bind(this),this.timeSystemListener=this.timeSystemListener.bind(this),this.followListener=this.followListener.bind(this)}return e.prototype.boundsListener=function(e){var t=this.timeAPI.timeSystem();this.scope.$broadcast("telemetry:display:bounds",{start:e.start,end:e.end,domain:t.key},void 0!==this.timeAPI.clock())},e.prototype.timeSystemListener=function(e){var t=this.timeAPI.bounds();this.scope.$broadcast("telemetry:display:bounds",{start:t.start,end:t.end,domain:e.key},void 0!==this.timeAPI.clock())},e.prototype.followListener=function(){this.boundsListener(this.timeAPI.bounds())},e.prototype.represent=function(e){"browse-object"===e.key&&(this.destroy(),this.timeAPI.on("bounds",this.boundsListener),this.timeAPI.on("timeSystem",this.timeSystemListener),this.timeAPI.on("follow",this.followListener))},e.prototype.destroy=function(){this.timeAPI.off("bounds",this.boundsListener),this.timeAPI.off("timeSystem",this.timeSystemListener),this.timeAPI.off("follow",this.followListener)},e}),n("platform/features/conductor/compatibility/bundle",["./src/ConductorRepresenter","legacyRegistry"],function(e,t){t.register("platform/features/conductor/compatibility",{extensions:{representers:[{implementation:e,depends:["openmct"]}]}})}),n("platform/features/imagery/src/policies/ImageryViewPolicy",[],function(){function e(){}function t(e){var t=e&&e.getCapability("telemetry"),n=t?t.getMetadata():{},i=n.ranges||[];return i.some(function(e){return"imageUrl"===e.format||"image"===e.format})}return e.prototype.allow=function(e,n){return"imagery"===e.key?t(n):!0},e}),n("platform/features/imagery/src/controllers/ImageryController",["moment"],function(e){function t(e,t){function n(){o.handle&&(o.handle.unsubscribe(),o.handle=void 0)}function i(){return o.updateValues()}function r(e){n(),o.date="",o.time="",o.zone="",o.imageUrl="",o.handle=e&&t.handle(e,i,!0)}var o=this;e.filters={brightness:100,contrast:100},e.$watch("domainObject",r),e.$on("$destroy",n)}var n="YYYY-MM-DD",i="HH:mm:ss.SSS";return t.prototype.updateValues=function(){var t,r,o=this.handle&&this.handle.getTelemetryObjects()[0];o&&!this.isPaused&&(t=this.handle.getDomainValue(o),r=void 0!==t?e.utc(t):void 0,this.date=r?r.format(n):"",this.time=r?r.format(i):"",this.zone=r?"UTC":"",this.imageUrl=this.handle.getRangeValue(o))},t.prototype.getTime=function(){return this.time},t.prototype.getDate=function(){return this.date},t.prototype.getZone=function(){return this.zone},t.prototype.getImageUrl=function(){return this.imageUrl},t.prototype.paused=function(e){return arguments.length>0&&e!==this.isPaused&&(this.isPaused=e,this.updateValues()),this.isPaused},t}),n("platform/features/imagery/src/directives/MCTBackgroundImage",[],function(){function e(e){function t(t,n){function i(e){var t=e?Object.keys(e).map(function(t){return t+"("+e[t]+"%)"}).join(" "):"";n.css("filter",t),n.css("webkitFilter",t)}function r(t){function i(){a>=s&&(s=a,n.css("background-image","url('"+t+"')"))}var r,a=o;t?(r=e[0].createElement("img"),r.src=t,r.onload=i):(s=a,n.css("background-image","none")),o+=1}var o=0,s=0;t.$watch("mctBackgroundImage",r),t.$watchCollection("filters",i)}return{restrict:"A",scope:{mctBackgroundImage:"=",filters:"="},link:t}}return e}),n("text!platform/features/imagery/res/templates/imagery.html",[],function(){return'<div class="t-imagery" ng-controller="ImageryController as imagery">\n    <div class="l-image-main-wrapper l-flex-col"\n        ng-mouseenter="showLocalControls = true;"\n        ng-mouseleave="showLocalControls = false;">\n        <div class="l-local-controls s-local-controls s-wrapper-transluc l-flex-row"\n            ng-class="{ \'hide-nice\': !showLocalControls }">\n            <span class="holder flex-elem grows">\n                <input class="icon-brightness" type="range"\n                       min="0"\n                       max="500"\n                       ng-model="filters.brightness">\n                </input>\n                <input class="icon-contrast" type="range"\n                       min="0"\n                       max="500"\n                       ng-model="filters.contrast">\n                </input>\n            </span>\n            <span class="holder flex-elem t-reset-btn-holder">\n                <a class="s-icon-button icon-reset t-btn-reset"\n                   ng-click="filters = { brightness: 100, contrast: 100 }"></a>\n            </span>\n        </div>\n\n        <div class="l-image-main s-image-main flex-elem grows"\n             ng-class="{ paused: imagery.paused(), stale:false }">\n            <div class="image-main"\n\n            mct-background-image="imagery.getImageUrl()"\n            filters="filters">\n            </div>\n        </div>\n\n        <div class="l-image-main-controlbar flex-elem l-flex-row">\n            <div class="left flex-elem grows">\n                <a class="s-button show-thumbs sm hidden icon-thumbs-strip"\n                    ng-click="showThumbsBubble = (showThumbsBubble)? false:true"></a>\n                <span class="l-timezone">{{imagery.getZone()}}</span>\n                <span class="l-time">{{imagery.getTime()}}</span>\n                <span class="l-date">{{imagery.getDate()}}</span>\n            </div>\n            <div class="right flex-elem">\n                <a class="s-button pause-play"\n                    ng-click="imagery.paused(!imagery.paused())"\n                    ng-class="{ paused: imagery.paused() }"></a>\n                <a href="{{imagery.getImageUrl()}}"\n                   ng-if="imagery.getImageUrl()"\n                   target="_blank"\n                   title="Open image in new tab."\n                   class="s-button icon-new-window">\n                   </a>\n                <a href=""\n                    class="s-button l-mag s-mag ui-symbol vsm icon-arrows-out"\n                    ng-click="clipped = false"\n                    ng-show="clipped === true"\n                    title="Not all of image is visible; click to reset."></a>\n            </div>\n        </div>\n    </div>\n</div>\n'}),n("platform/features/imagery/bundle",["./src/policies/ImageryViewPolicy","./src/controllers/ImageryController","./src/directives/MCTBackgroundImage","text!./res/templates/imagery.html","legacyRegistry"],function(e,t,n,i,r){r.register("platform/features/imagery",{name:"Plot view for telemetry",extensions:{views:[{name:"Imagery",key:"imagery",cssClass:"icon-image",template:i,priority:"preferred",needs:["telemetry"],editable:!1}],policies:[{category:"view",implementation:e}],controllers:[{key:"ImageryController",implementation:t,depends:["$scope","telemetryHandler"]}],directives:[{key:"mctBackgroundImage",implementation:n,depends:["$document"]}]}})}),n("platform/features/layout/src/LayoutDrag",[],function(){function e(e,t,n,i){this.rawPosition=e,this.posFactor=t,this.dimFactor=n,this.gridSize=i}function t(e,t){return t.map(function(t,n){return Math.round(t/e[n])})}function n(e,t){return e.map(function(e,n){return e*t[n]})}function i(e,t){return e.map(function(e,n){return e+t[n]})}function r(e,t){return e.map(function(e,n){return Math.max(e,t[n])})}return e.prototype.getAdjustedPosition=function(e){var o=t(this.gridSize,e);return{position:r(i(this.rawPosition.position,n(o,this.posFactor)),[0,0]),dimensions:r(i(this.rawPosition.dimensions,n(o,this.dimFactor)),[1,1])}},e}),n("platform/features/layout/src/LayoutController",["./LayoutDrag"],function(e){function t(e){function t(e){var t=o.gridSize;o.gridSize=e||r,(o.gridSize[0]!==t[0]||o.gridSize[1]!==t[1])&&o.layoutPanels(Object.keys(o.positions))}function n(t,n,i){t.defaultPrevented||(e.configuration=e.configuration||{},e.configuration.panels=e.configuration.panels||{},e.configuration.panels[n]={position:[Math.floor(i.x/o.gridSize[0]),Math.floor(i.y/o.gridSize[1])],dimensions:o.defaultDimensions()},e.commit&&e.commit("Dropped a frame."),o.rawPositions[n]=e.configuration.panels[n],o.populatePosition(n),t.preventDefault())}function i(){var t=++s;e.domainObject.useCapability("composition").then(function(n){var i;t===s&&(i=n.map(function(e){return e.getId()})||[],e.composition=n,o.layoutPanels(i))})}var o=this,s=0;this.endDragInScope=function(){e.configuration=e.configuration||{},e.configuration.panels=e.configuration.panels||{},e.configuration.panels[o.activeDragId]=o.rawPositions[o.activeDragId],e.commit&&e.commit("Moved frame.")},this.positions={},this.rawPositions={},this.gridSize=r,this.$scope=e,e.$watch("model.layoutGrid",t),e.$watchCollection("model.composition",i),e.$on("mctDrop",n)}function n(e,t){var n={};return t.forEach(function(t){n[t]=e[t]}),n}var i=[12,8],r=[32,32],o=[320,180];return t.prototype.convertPosition=function(e){var t=this.gridSize;return{left:t[0]*e.position[0]+"px",top:t[1]*e.position[1]+"px",width:t[0]*e.dimensions[0]+"px",height:t[1]*e.dimensions[1]+"px"}},t.prototype.defaultDimensions=function(){var e=this.gridSize;return o.map(function(t,n){return Math.max(Math.ceil(t/e[n]),i[n])})},t.prototype.defaultPosition=function(e){return{position:[e,e],dimensions:this.defaultDimensions()}},t.prototype.populatePosition=function(e,t){this.rawPositions[e]=this.rawPositions[e]||this.defaultPosition(t||0),this.positions[e]=this.convertPosition(this.rawPositions[e])},t.prototype.getFrameStyle=function(e){return this.positions[e]},t.prototype.startDrag=function(t,n,i){this.activeDragId=t,this.activeDrag=new e(this.rawPositions[t],n,i,this.gridSize)},t.prototype.continueDrag=function(e){this.activeDrag&&(this.rawPositions[this.activeDragId]=this.activeDrag.getAdjustedPosition(e),this.populatePosition(this.activeDragId))},t.prototype.layoutPanels=function(e){var t=this.$scope.configuration||{},i=this;this.rawPositions=n(t.panels||{},e),this.positions={},this.gridSize=(this.$scope.model||{}).layoutGrid||r,e.forEach(function(e,t){i.populatePosition(e,t)})},t.prototype.endDrag=function(){this.endDragInScope()},t}),n("platform/features/layout/src/elements/ElementFactory",[],function(){function e(e){this.dialogService=e}var t={"fixed.image":{stroke:"transparent"},"fixed.box":{fill:"#717171",border:"transparent",stroke:"transparent"},"fixed.line":{x:5,y:9,x2:6,y2:6,stroke:"#717171"},"fixed.text":{fill:"transparent",stroke:"transparent"}},n={"fixed.image":{name:"Image Properties",sections:[{rows:[{key:"url",control:"textfield",name:"Image URL",cssClass:"l-input-lg",required:!0}]}]},"fixed.text":{name:"Text Element Properties",sections:[{rows:[{key:"text",control:"textfield",name:"Text",required:!0}]}]}};return e.prototype.createElement=function(e){var i=t[e]||{};return i=JSON.parse(JSON.stringify(i)),n[e]?this.dialogService.getUserInput(n[e],i):i},e}),n("platform/features/layout/src/FixedProxy",["./elements/ElementFactory"],function(e){function t(t,n,i){this.factory=new e(i),this.$q=n,this.addElementCallback=t}return t.prototype.add=function(e){function t(t){t.x=t.x||0,t.y=t.y||0,t.width=t.width||1,t.height=t.height||1,t.type=e,n(t)}var n=this.addElementCallback;this.$q.when(this.factory.createElement(e)).then(t)},t}),n("platform/features/layout/src/elements/AccessorMutator",[],function(){function e(e,t,n){return function(i){return arguments.length>0&&(e[t]=n?n(i,e[t]):i),e[t]}}return e}),n("platform/features/layout/src/elements/ResizeHandle",[],function(){function e(e,t,n){this.element=e,this.minWidth=t||0,this.minHeight=n||0}return e.prototype.x=function(e){var t=this.element;return arguments.length>0&&(t.width=Math.max(this.minWidth,e-t.x)),t.x+t.width},e.prototype.y=function(e){var t=this.element;return arguments.length>0&&(t.height=Math.max(this.minHeight,e-t.y)),t.y+t.height},e}),n("platform/features/layout/src/elements/ElementProxy",["./AccessorMutator","./ResizeHandle"],function(e,t){function n(e){return Math.max(e,0)}function i(i,r,o){this.resizeHandles=[new t(i,1,1)],this.element=i,this.x=new e(i,"x",n),this.y=new e(i,"y",n),this.stroke=new e(i,"stroke"),this.width=new e(i,"width"),this.height=new e(i,"height"),this.index=r,this.elements=o}var r={top:Number.POSITIVE_INFINITY,up:1,down:-1,bottom:Number.NEGATIVE_INFINITY};return i.prototype.order=function(e){var t=this.index,n=this.elements,i=this.element,o=r[e]||0,s=Math.max(Math.min(t+o,n.length-1),0);s!==t&&n[t]===i&&(n.splice(t,1),n.splice(s,0,i),this.index=s)},i.prototype.remove=function(){var e=this.index;this.elements[e]===this.element&&this.elements.splice(e,1)},i.prototype.handles=function(){return this.resizeHandles},i}),n("platform/features/layout/src/elements/BoxProxy",["./ElementProxy","./AccessorMutator"],function(e,t){function n(n,i,r){var o=new e(n,i,r);return o.fill=new t(n,"fill"),o}return n}),n("platform/features/layout/src/elements/TextProxy",["./BoxProxy","./AccessorMutator"],function(e,t){function n(n,i,r){var o=new e(n,i,r);return o.color=new t(n,"color"),o.text=new t(n,"text"),o}return n}),n("platform/features/layout/src/elements/TelemetryProxy",["./TextProxy"],function(e){function t(t,r,o){function s(){t.titled=!t.titled,delete a[i],delete a[n],a[t.titled?n:i]=s}var a=new e(t,r,o);return a.id=t.id,a[t.titled?n:i]=s,delete a.text,a}var n="hideTitle",i="showTitle";return t}),n("platform/features/layout/src/elements/ImageProxy",["./ElementProxy","./AccessorMutator"],function(e,t){function n(n,i,r){var o=new e(n,i,r);return o.url=new t(n,"url"),o}return n}),n("platform/features/layout/src/elements/LineHandle",[],function(){function e(e,t,n,i,r){this.element=e,this.xProperty=t,this.yProperty=n,this.xOther=i,this.yOther=r}return e.prototype.x=function(e){var t=this.element,n=this.xProperty,i=this.yProperty,r=this.xOther,o=this.yOther;return arguments.length>0&&(e=Math.max(e,0),(t[o]!==t[i]||t[r]!==e)&&(t[n]=e)),t[n]},e.prototype.y=function(e){var t=this.element,n=this.xProperty,i=this.yProperty,r=this.xOther,o=this.yOther;return arguments.length>0&&(e=Math.max(e,0),(t[r]!==t[n]||t[o]!==e)&&(t[i]=e)),t[i]},e}),n("platform/features/layout/src/elements/LineProxy",["./ElementProxy","./LineHandle"],function(e,t){function n(n,i,r){var o=new e(n,i,r),s=[new t(n,"x","y","x2","y2"),new t(n,"x2","y2","x","y")];return o.x=function(e){var t=Math.min(n.x,n.x2),i=Math.max(e,0)-t;return arguments.length>0&&i&&(n.x+=i,n.x2+=i),t},o.y=function(e){var t=Math.min(n.y,n.y2),i=Math.max(e,0)-t;return arguments.length>0&&i&&(n.y+=i,n.y2+=i),t},o.width=function(){return Math.max(Math.abs(n.x-n.x2),1)},o.height=function(){return Math.max(Math.abs(n.y-n.y2),1)},o.x1=function(){return n.x-o.x()},o.y1=function(){return n.y-o.y()},o.x2=function(){return n.x2-o.x()},o.y2=function(){return n.y2-o.y()},o.handles=function(){return s},o}return n}),n("platform/features/layout/src/elements/ElementProxies",["./TelemetryProxy","./ImageProxy","./LineProxy","./BoxProxy","./TextProxy"],function(e,t,n,i,r){return{"fixed.telemetry":e,"fixed.line":n,"fixed.box":i,"fixed.image":t,"fixed.text":r}}),n("platform/features/layout/src/FixedDragHandle",[],function(){function e(e,t,n,i){this.elementHandle=e,this.gridSize=t,this.update=n,this.commit=i}var t=[6,6];return e.prototype.style=function(){var e=this.elementHandle.x()*this.gridSize[0],n=this.elementHandle.y()*this.gridSize[1];return{left:e-t[0]/2+"px",top:n-t[1]/2+"px",width:t[0]+"px",height:t[1]+"px"}},e.prototype.startDrag=function(){this.dragging={x:this.elementHandle.x(),y:this.elementHandle.y()}},e.prototype.continueDrag=function(e){this.dragging&&(this.elementHandle.x(this.dragging.x+Math.round(e[0]/this.gridSize[0])),this.elementHandle.y(this.dragging.y+Math.round(e[1]/this.gridSize[1])),this.update&&this.update())},e.prototype.endDrag=function(){this.dragging=void 0,this.commit&&this.commit("Dragged handle.")},e}),n("platform/features/layout/src/FixedController",["lodash","./FixedProxy","./elements/ElementProxies","./FixedDragHandle","../../../../src/api/objects/object-utils"],function(e,t,n,i,r){function o(r,o,a,c){function l(e){var t=S.gridSize;return{left:t[0]*e.x()+"px",top:t[1]*e.y()+"px",width:t[0]*e.width()+"px",height:t[1]*e.height()+"px"}}function u(){var e=S.selection&&S.selection.get();e&&(e.style=l(e))}function d(e){return new i(e,S.gridSize,u,r.commit)}function p(e){return e.handles().map(d)}function f(e){S.gridSize=e,S.elementProxies.forEach(function(e){e.style=l(e)})}function h(e,t,i){var r=n[e.type],o=r&&new r(e,t,i);return o&&(o.style=l(o),o.template=e.type),o}function m(){var e=S.selection&&S.selection.get(),t=(r.configuration||{}).elements||[],n=-1;void 0!==e&&(n=t.indexOf(e.element)),S.elementProxies=t.map(h),S.selection&&(S.selection.deselect(),n>-1&&S.select(S.elementProxies[n])),S.elementProxiesById={},S.elementProxies.forEach(function(e){var t=e.id;"fixed.telemetry"===e.element.type&&(e.name=S.names[t],e.value=S.values[t],S.elementProxiesById[t]=S.elementProxiesById[t]||[],S.elementProxiesById[t].push(e))})}function g(e){var t=S.$scope.configuration;t&&t.elements&&(t.elements=t.elements.filter(function(t){
return-1===e.indexOf(t.id)})),S.getTelemetry(r.domainObject),m(),S.$scope.commit&&S.$scope.commit("Objects removed.")}function y(t,n){var i=[];t!==n&&(i=e.difference(n,t),i.length>0&&g(i))}function v(e,t){t||(S.values={},m(),S.fetchHistoricalData(S.telemetryObjects))}function b(e){r.configuration=r.configuration||{},r.configuration.elements=r.configuration.elements||[],r.configuration.elements.push(e),m(),S.select(S.elementProxies[S.elementProxies.length-1]),r.commit&&r.commit("Dropped an element.")}function w(e,t,n){e.defaultPrevented||(e.preventDefault(),b({type:"fixed.telemetry",x:Math.floor(n.x/S.gridSize[0]),y:Math.floor(n.y/S.gridSize[1]),id:t,stroke:"transparent",color:"",titled:!0,width:s[0],height:s[1]}),S.getTelemetry(r.domainObject))}this.names={},this.values={},this.elementProxiesById={},this.telemetryObjects=[],this.subscriptions=[],this.openmct=c,this.$scope=r,this.gridSize=r.domainObject&&r.domainObject.getModel().layoutGrid;var S=this;["digest","fetchHistoricalData","getTelemetry","setDisplayedValue","subscribeToObjects","unsubscribe","updateView"].forEach(function(e){S[e]=S[e].bind(S)}),this.elementProxies=[],this.generateDragHandle=d,this.generateDragHandles=p,r.$watch("selection",function(e){this.selection=e,this.selection&&this.selection.proxy(new t(b,o,a))}.bind(this)),r.$watch("model.layoutGrid",f),r.$on("mctDrop",w),r.$watch("model.composition",y),r.$watch("model.modified",m),r.$watch("domainObject",this.getTelemetry),r.$on("$destroy",function(){S.unsubscribe(),S.openmct.time.off("bounds",v)}),this.openmct.time.on("bounds",v)}var s=[2,1];return o.prototype.digest=function(){var e=this;this.digesting||(this.digesting=!0,requestAnimationFrame(function(){e.$scope.$digest(),e.digesting=!1}))},o.prototype.unsubscribe=function(){this.subscriptions.forEach(function(e){e()}),this.subscriptions=[],this.telemetryObjects=[]},o.prototype.subscribeToObjects=function(e){var t=this,n=this.openmct.time;return this.subscriptions=e.map(function(e){return t.openmct.telemetry.subscribe(e,function(i){void 0!==n.clock()&&t.updateView(e,i)},{})}),e},o.prototype.updateView=function(e,t){var n=this.openmct.telemetry.getMetadata(e),i=n.valuesForHints(["range"])[0],r=i.source||i.key,o=n.value(r),s=this.openmct.telemetry.limitEvaluator(e),a=this.openmct.telemetry.getValueFormatter(o),c=t[o.key],l=s&&s.evaluate(t,r);this.setDisplayedValue(e,a.format(c),l&&l.cssClass),this.digest()},o.prototype.fetchHistoricalData=function(e){var t=this.openmct.time.bounds(),n=this;return e.forEach(function(e){n.openmct.telemetry.request(e,{start:t.start,end:t.end,size:1}).then(function(t){n.updateView(e,t[t.length-1])})}),e},o.prototype.setDisplayedValue=function(e,t,n){var i=r.makeKeyString(e.identifier),o=this;(o.elementProxiesById[i]||[]).forEach(function(r){o.names[i]=e.name,o.values[i]=t,r.name=o.names[i],r.value=o.values[i],r.cssClass=n})},o.prototype.getTelemetry=function(e){function t(e){return e.filter(function(e){return r.openmct.telemetry.canProvideTelemetry(e)})}function n(e){return r.telemetryObjects=e,e.forEach(function(e){r.setDisplayedValue(e,"")}),e}var i=e.useCapability("adapter"),r=this;return this.subscriptions.length>0&&this.unsubscribe(),this.openmct.composition.get(i).load().then(t).then(n).then(this.fetchHistoricalData).then(this.subscribeToObjects)},o.prototype.getGridSize=function(){return this.gridSize},o.prototype.getElements=function(){return this.elementProxies},o.prototype.selected=function(e){var t=this.selection;return t&&(arguments.length>0?t.selected(e):t.get())},o.prototype.select=function(e){this.selection&&(this.selection.select(e),this.mvHandle=this.generateDragHandle(e),this.resizeHandles=this.generateDragHandles(e))},o.prototype.clearSelection=function(){this.selection&&(this.selection.deselect(),this.resizeHandles=[],this.mvHandle=void 0)},o.prototype.handles=function(){return this.resizeHandles},o.prototype.moveHandle=function(){return this.mvHandle},o}),n("platform/features/layout/src/LayoutCompositionPolicy",[],function(){function e(){}return e.prototype.allow=function(e,t){var n=e.getCapability("type");return n.instanceOf("layout")&&t.getCapability("type").instanceOf("folder")?!1:!0},e}),n("platform/features/layout/src/MCTTriggerModal",["zepto"],function(e){function t(t){function i(t,i){function o(){e(a).removeClass("frame frame-template"),u=r.createElement("span"),u.innerHTML=n,h=u.querySelector(".t-contents"),d=u.querySelector("a.close"),d.addEventListener("click",l),p=u.querySelector("a.t-done"),p.addEventListener("click",l),f=u.querySelector(".abs.blocker"),f.addEventListener("click",l),r.body.appendChild(u),m.removeChild(a),h.appendChild(a)}function s(){e(a).addClass("frame frame-template"),h.removeChild(a),m.appendChild(a),r.body.removeChild(u),d.removeEventListener("click",l),d=void 0,p.removeEventListener("click",l),p=void 0,f.removeEventListener("click",l),f=void 0,h=void 0,u=void 0}for(var a=i.parent(),c=0;10>c&&!a.hasClass("frame");c++)a=a.parent();if(!a.hasClass("frame"))return void i.remove();a=a[0];var l,u,d,p,f,h,m=a.parentElement,g=!1;l=function(){g?(s(),g=!1):(o(),g=!0)},i.on("click",l),t.$on("$destroy",function(){i.off("click",l)})}var r=t[0];return{restrict:"A",link:i}}var n='<div class="abs overlay l-large-view">    <div class="abs blocker"></div>    <div class="abs outer-holder">       <a class="close icon-x-in-circle"></a>       <div class="abs inner-holder l-flex-col">           <div class="t-contents flex-elem holder grows"></div>           <div class="bottom-bar flex-elem holder">               <a class="t-done s-button major">Done</a>           </div>       </div>    </div></div>';return t}),n("text!platform/features/layout/res/templates/layout.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="l-layout"\n     ng-controller="LayoutController as controller">\n\n    <div class=\'frame child-frame panel abs\'\n         ng-repeat="childObject in composition"\n         ng-style="controller.getFrameStyle(childObject.getId())">\n\n        <mct-representation key="\'frame\'"\n                            class="frame child-frame holder contents abs"\n                            mct-object="childObject">\n        </mct-representation>\n        <!-- Drag handles -->\n        <span ng-show="domainObject.hasCapability(\'editor\')">\n            <span class="edit-handle edit-move"\n                  mct-drag-down="controller.startDrag(childObject.getId(), [1,1], [0,0])"\n                  mct-drag="controller.continueDrag(delta)"\n                  mct-drag-up="controller.endDrag()">\n            </span>\n\n            <span class="edit-corner edit-resize-nw"\n                  mct-drag-down="controller.startDrag(childObject.getId(), [1,1], [-1,-1])"\n                  mct-drag="controller.continueDrag(delta)"\n                  mct-drag-up="controller.endDrag()">\n            </span>\n            <span class="edit-corner edit-resize-ne"\n                  mct-drag-down="controller.startDrag(childObject.getId(), [0,1], [1,-1])"\n                  mct-drag="controller.continueDrag(delta)"\n                  mct-drag-up="controller.endDrag()">\n            </span>\n            <span class="edit-corner edit-resize-sw"\n                  mct-drag-down="controller.startDrag(childObject.getId(), [1,0], [-1,1])"\n                  mct-drag="controller.continueDrag(delta)"\n                  mct-drag-up="controller.endDrag()">\n            </span>\n            <span class="edit-corner edit-resize-se"\n                  mct-drag-down="controller.startDrag(childObject.getId(), [0,0], [1,1])"\n                  mct-drag="controller.continueDrag(delta)"\n                  mct-drag-up="controller.endDrag()">\n            </span>\n        </span>\n\n    </div>\n\n</div>\n'}),n("text!platform/features/layout/res/templates/frame.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="frame frame-template abs">\n    <div class="abs object-browse-bar l-flex-row">\n        <div class="left flex-elem l-flex-row grows">\n            <mct-representation\n                key="\'object-header\'"\n                mct-object="domainObject"\n                class="l-flex-row flex-elem object-header grows">\n            </mct-representation>\n        </div>\n        <div class="btn-bar right l-flex-row flex-elem flex-justify-end flex-fixed">\n            <mct-representation key="\'switcher\'"\n                                ng-model="representation"\n                                mct-object="domainObject">\n            </mct-representation>\n        </div>\n    </div>\n    <div class="abs object-holder">\n        <mct-representation key="representation.selected.key"\n                            mct-object="representation.selected.key && domainObject">\n        </mct-representation>\n    </div>\n</div>\n'}),n("text!platform/features/layout/res/templates/elements/telemetry.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div\n    class="l-fixed-position-text l-telemetry"\n    ng-style="{ background: ngModel.fill(), \'border-color\': ngModel.stroke(), color: ngModel.color() }"\n    >\n    <span\n        class="l-elem l-value l-obj-val-format"\n        data-value="{{ngModel.value}}"\n        ng-class="ngModel.cssClass"\n        >\n        {{ngModel.value}}\n    </span>\n    <span\n        class="l-elem l-title"\n        ng-show="ngModel.element.titled"\n        >\n        {{ngModel.name}}\n    </span>\n</div>\n'}),n("text!platform/features/layout/res/templates/elements/box.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div\n	class="l-fixed-position-box"\n	ng-style="{ background: ngModel.fill(), border: \'1px \' + ngModel.stroke() + \' solid\' }"\n	>\n</div>\n'}),n("text!platform/features/layout/res/templates/elements/line.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<svg ng-attr-width="{{parameters.gridSize[0] * ngModel.width()}}"\n     ng-attr-height="{{parameters.gridSize[1] * ngModel.height()}}">\n    <line ng-attr-x1="{{parameters.gridSize[0] * ngModel.x1() + 1}}"\n          ng-attr-y1="{{parameters.gridSize[1] * ngModel.y1() + 1}}"\n          ng-attr-x2="{{parameters.gridSize[0] * ngModel.x2() + 1}}"\n          ng-attr-y2="{{parameters.gridSize[1] * ngModel.y2() + 1}}"\n          ng-attr-stroke="{{ngModel.stroke()}}"\n          stroke-width="2">\n    </line>\n</svg>\n'}),n("text!platform/features/layout/res/templates/elements/text.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div\n	class="l-fixed-position-text l-static-text"\n	ng-style="{ background: ngModel.fill(), \'border-color\': ngModel.stroke(), color: ngModel.color() }"\n	>\n    {{ngModel.element.text}}\n</div>\n'}),n("text!platform/features/layout/res/templates/elements/image.html",[],function(){return"<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n \"License\"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div\n	ng-style=\"{ 'background-image': 'url(' + ngModel.element.url + ')', border: '1px solid ' + ngModel.stroke() }\"\n    class=\"l-fixed-position-image\"\n	>\n</div>\n"}),n("platform/features/layout/bundle",["./src/LayoutController","./src/FixedController","./src/LayoutCompositionPolicy","./src/MCTTriggerModal","text!./res/templates/layout.html","text!./res/templates/fixed.html","text!./res/templates/frame.html","text!./res/templates/elements/telemetry.html","text!./res/templates/elements/box.html","text!./res/templates/elements/line.html","text!./res/templates/elements/text.html","text!./res/templates/elements/image.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d,p){p.register("platform/features/layout",{name:"Layout components.",description:"Plug in adding Layout capabilities.",extensions:{views:[{key:"layout",name:"Display Layout",cssClass:"icon-layout",type:"layout",template:r,editable:!0,uses:[]},{key:"fixed",name:"Fixed Position",cssClass:"icon-box-with-dashed-lines",type:"telemetry.panel",template:o,uses:["composition"],toolbar:{sections:[{items:[{method:"add",cssClass:"icon-plus",control:"menu-button",text:"Add",title:"Add",description:"Add new items",options:[{name:"Box",cssClass:"icon-box",key:"fixed.box"},{name:"Line",cssClass:"icon-line-horz",key:"fixed.line"},{name:"Text",cssClass:"icon-T",key:"fixed.text"},{name:"Image",cssClass:"icon-image",key:"fixed.image"}]}]},{items:[{method:"order",cssClass:"icon-layers",control:"menu-button",title:"Layering",description:"Move the selected object above or below other objects",options:[{name:"Move to Top",cssClass:"icon-arrow-double-up",key:"top"},{name:"Move Up",cssClass:"icon-arrow-up",key:"up"},{name:"Move Down",cssClass:"icon-arrow-down",key:"down"},{name:"Move to Bottom",cssClass:"icon-arrow-double-down",key:"bottom"}]},{property:"fill",cssClass:"icon-paint-bucket",title:"Fill color",description:"Set fill color",control:"color"},{property:"stroke",cssClass:"icon-line-horz",title:"Border color",description:"Set border color",control:"color"},{property:"color",cssClass:"icon-T",title:"Text color",description:"Set text color",mandatory:!0,control:"color"},{property:"url",cssClass:"icon-image",control:"dialog-button",title:"Image Properties",description:"Edit image properties",dialog:{control:"textfield",name:"Image URL",cssClass:"l-input-lg",required:!0}},{property:"text",cssClass:"icon-gear",control:"dialog-button",title:"Text Properties",description:"Edit text properties",dialog:{control:"textfield",name:"Text",required:!0}},{method:"showTitle",cssClass:"icon-two-parts-both",control:"button",title:"Show title",description:"Show telemetry element title"},{method:"hideTitle",cssClass:"icon-two-parts-one-only",control:"button",title:"Hide title",description:"Hide telemetry element title"}]},{items:[{method:"remove",control:"button",cssClass:"icon-trash",title:"Delete",description:"Delete the selected item"}]}]}}],representations:[{key:"frame",template:s}],directives:[{key:"mctTriggerModal",implementation:i,depends:["$document"]}],controllers:[{key:"LayoutController",implementation:e,depends:["$scope"]},{key:"FixedController",implementation:t,depends:["$scope","$q","dialogService","openmct"]}],templates:[{key:"fixed.telemetry",template:a},{key:"fixed.box",template:c},{key:"fixed.line",template:l},{key:"fixed.text",template:u},{key:"fixed.image",template:d}],policies:[{category:"composition",implementation:n}],types:[{key:"layout",name:"Display Layout",cssClass:"icon-layout",description:"Assemble other objects and components together into a reusable screen layout. Working in a simple canvas workspace, simply drag in the objects you want, position and size them. Save your design and view or edit it at any time.",priority:900,features:"creation",model:{composition:[]},properties:[{name:"Layout Grid",control:"composite",pattern:"^(\\d*[1-9]\\d*)?$",items:[{name:"Horizontal grid (px)",control:"textfield",cssClass:"l-input-sm l-numeric"},{name:"Vertical grid (px)",control:"textfield",cssClass:"l-input-sm l-numeric"}],key:"layoutGrid",conversion:"number[]"}]},{key:"telemetry.panel",name:"Telemetry Panel",cssClass:"icon-telemetry-panel",description:"A panel for collecting telemetry elements.",priority:899,delegates:["telemetry"],features:"creation",contains:[{has:"telemetry"}],model:{composition:[]},properties:[{name:"Layout Grid",control:"composite",items:[{name:"Horizontal grid (px)",control:"textfield",cssClass:"l-input-sm l-numeric"},{name:"Vertical grid (px)",control:"textfield",cssClass:"l-input-sm l-numeric"}],pattern:"^(\\d*[1-9]\\d*)?$",property:"layoutGrid",conversion:"number[]"}]}]}})}),n("platform/features/my-items/bundle",["legacyRegistry"],function(e){e.register("platform/features/my-items",{name:"My Items",description:"Defines a root named My Items",extensions:{roots:[{id:"mine"}],models:[{id:"mine",model:{name:"My Items",type:"folder",composition:[],location:"ROOT"}}]}})}),n("platform/features/pages/src/EmbeddedPageController",[],function(){function e(e){this.$sce=e}return e.prototype.trust=function(e){return this.$sce.trustAsResourceUrl(e)},e}),n("text!platform/features/pages/res/iframe.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="l-iframe abs">\n<iframe ng-controller="EmbeddedPageController as ctl"\n        ng-src="{{ctl.trust(model.url)}}">\n</iframe>\n</div>\n'}),n("platform/features/pages/bundle",["./src/EmbeddedPageController","text!./res/iframe.html","legacyRegistry"],function(e,t,n){n.register("platform/features/pages",{extensions:{types:[{key:"example.page",name:"Web Page",cssClass:"icon-page",description:"Embed a web page or web-based image in a resizeable window component. Can be added to Display Layouts. Note that the URL being embedded must allow iframing.",priority:50,features:["creation"],properties:[{key:"url",name:"URL",control:"textfield",pattern:"^(ftp|https?)\\:\\/\\/",required:!0,cssClass:"l-input-lg"}]}],views:[{template:t,name:"Page",type:"example.page",key:"example.page",editable:!1}],controllers:[{key:"EmbeddedPageController",implementation:e,depends:["$sce"]}]}})}),n("platform/features/plot/src/GLChart",[],function(){function e(e){var i,r,o,s,a,c,l,u=e.getContext("webgl",{preserveDrawingBuffer:!0})||e.getContext("experimental-webgl",{preserveDrawingBuffer:!0});if(!u)throw new Error("WebGL unavailable.");i=u.createShader(u.VERTEX_SHADER),u.shaderSource(i,n),u.compileShader(i),r=u.createShader(u.FRAGMENT_SHADER),u.shaderSource(r,t),u.compileShader(r),o=u.createProgram(),u.attachShader(o,i),u.attachShader(o,r),u.linkProgram(o),u.useProgram(o),s=u.getAttribLocation(o,"aVertexPosition"),a=u.getUniformLocation(o,"uColor"),c=u.getUniformLocation(o,"uDimensions"),l=u.getUniformLocation(o,"uOrigin"),u.enableVertexAttribArray(s),this.buffer=u.createBuffer(),u.lineWidth(2),u.enable(u.BLEND),u.blendFunc(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA),this.gl=u,this.aVertexPosition=s,this.uColor=a,this.uDimensions=c,this.uOrigin=l}var t=["precision mediump float;","uniform vec4 uColor;","void main(void) {","gl_FragColor = uColor;","}"].join("\n"),n=["attribute vec2 aVertexPosition;","uniform vec2 uDimensions;","uniform vec2 uOrigin;","void main(void) {","gl_Position = vec4(2.0 * ((aVertexPosition - uOrigin) / uDimensions) - vec2(1,1), 0, 1);","}"].join("\n");return e.prototype.doDraw=function(e,t,n,i){var r=this.gl;r.bindBuffer(r.ARRAY_BUFFER,this.buffer),r.bufferData(r.ARRAY_BUFFER,t,r.DYNAMIC_DRAW),r.vertexAttribPointer(this.aVertexPosition,2,r.FLOAT,!1,0,0),r.uniform4fv(this.uColor,n),r.drawArrays(e,0,i)},e.prototype.clear=function(){var e=this.gl;e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),e.clear(e.COLOR_BUFFER_BIT+e.DEPTH_BUFFER_BIT)},e.prototype.setDimensions=function(e,t){var n=this.gl;e&&e.length>0&&t&&t.length>0&&(n.uniform2fv(this.uDimensions,e),n.uniform2fv(this.uOrigin,t))},e.prototype.drawLine=function(e,t,n){this.doDraw(this.gl.LINE_STRIP,e,t,n)},e.prototype.drawSquare=function(e,t,n){this.doDraw(this.gl.TRIANGLE_FAN,new Float32Array(e.concat([e[0],t[1]]).concat(t).concat([t[0],e[1]])),n,4)},e}),n("platform/features/plot/src/Canvas2DChart",[],function(){function e(e){if(this.canvas=e,this.c2d=e.getContext("2d"),this.width=e.width,this.height=e.height,this.dimensions=[this.width,this.height],this.origin=[0,0],!this.c2d)throw new Error("Canvas 2d API unavailable.")}return e.prototype.x=function(e){return(e-this.origin[0])/this.dimensions[0]*this.width},e.prototype.y=function(e){return this.height-(e-this.origin[1])/this.dimensions[1]*this.height},e.prototype.setColor=function(e){var t=e.map(function(e,t){return 3>t?Math.floor(255*e):e}).join(",");this.c2d.strokeStyle="rgba("+t+")",this.c2d.fillStyle="rgba("+t+")"},e.prototype.clear=function(){var e=this.canvas;this.width=e.width,this.height=e.height,this.c2d.clearRect(0,0,this.width,this.height)},e.prototype.setDimensions=function(e,t){this.dimensions=e,this.origin=t},e.prototype.drawLine=function(e,t,n){var i;for(this.setColor(t),this.c2d.lineWidth=2,e.length>1&&(this.c2d.beginPath(),this.c2d.moveTo(this.x(e[0]),this.y(e[1]))),i=2;2*n>i;i+=2)this.c2d.lineTo(this.x(e[i]),this.y(e[i+1]));this.c2d.stroke()},e.prototype.drawSquare=function(e,t,n){var i=this.x(e[0]),r=this.y(e[1]),o=this.x(t[0])-i,s=this.y(t[1])-r;this.setColor(n),this.c2d.fillRect(i,r,o,s)},e}),n("platform/features/plot/src/MCTChart",["./GLChart","./Canvas2DChart"],function(e,t){function n(n,r){function o(e,t){var n=e[0];if(!n)return void r.warn("Cannot initialize mct-chart.");try{return new n(t)}catch(i){return r.warn(["Could not instantiate chart",n.name,";",i.message].join(" ")),o(e.slice(1),t)}}function s(r,s){function a(e){f.width=f.offsetWidth,f.height=f.offsetHeight,p.clear(),e&&(p.setDimensions(e.dimensions||[1,1],e.origin||[0,0]),(e.lines||[]).forEach(function(e){p.drawLine(e.buffer,e.color,e.points)}),(e.boxes||[]).forEach(function(e){p.drawSquare(e.start,e.end,e.color)}))}function c(){(f.width!==f.offsetWidth||f.height!==f.offsetHeight)&&(a(r.draw),r.$apply())}function l(){d&&n.cancel(d)}function u(){s.html(i),f=s.find("canvas")[0],p=o([t],f),p&&a(r.draw)}var d,p,f=s.find("canvas")[0];p=o([e,t],f),p&&(f.addEventListener("webglcontextlost",u),d=n(c,1e3,0,!1),r.$watchCollection("draw",a),r.$on("$destroy",l))}return{restrict:"E",template:i,link:s,scope:{draw:"="}}}var i="<canvas style='position: absolute; background: none; width: 100%; height: 100%;'></canvas>";return n}),n("platform/features/plot/src/elements/PlotSeriesWindow",[],function(){function e(e,t,n,i,r){this.series=e,this.domain=t,this.range=n,this.start=i,this.end=r}return e.prototype.getPointCount=function(){return this.end-this.start},e.prototype.getDomainValue=function(e){return this.series.getDomainValue(e+this.start,this.domain)},e.prototype.getRangeValue=function(e){return this.series.getRangeValue(e+this.start,this.range)},e.prototype.split=function(){var t=Math.floor((this.end+this.start)/2);return this.end-this.start>1?[new e(this.series,this.domain,this.range,this.start,t),new e(this.series,this.domain,this.range,t,this.end)]:[]},e}),n("platform/features/plot/src/elements/PlotLine",["./PlotSeriesWindow"],function(e){function t(e){this.buffer=e}return t.prototype.addPoint=function(e,t){var n,i=this.buffer;if(void 0!==e&&void 0!==t){if(n=i.findInsertionIndex(e),0>n)return;i.insertPoint(e,t,n)||(i.trim(1),i.insertPoint(e,t,n))}},t.prototype.addSeries=function(t,n,i){function r(e){function t(){var t=e.getDomainValue(0),i=e.getDomainValue(n-1),s=o.findInsertionIndex(t),a=o.findInsertionIndex(i);s===a&&s>-1?o.insert(e,s):e.split().forEach(r)}var n=e.getPointCount();n>0&&t()}var o=this.buffer;r(new e(t,n,i,0,t.getPointCount()))},t}),n("platform/features/plot/src/elements/PlotLineBuffer",[],function(){function e(e,t,n){this.buffer=new Float32Array(2*t),this.rangeExtrema=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],this.length=0,this.domainOffset=e,this.initialSize=t,this.maxSize=n}return e.prototype.binSearch=function(e,t,n){var i=Math.floor((t+n)/2),r=this.buffer[2*i];return r===e?i:t>=n?t+(e>r?1:0):e>r?this.binSearch(e,i+1,n):this.binSearch(e,t,i-1)},e.prototype.doubleBufferSize=function(){var e=Math.min(2*this.maxSize,2*this.buffer.length),t=e>this.buffer.length,n=t&&new Float32Array(e);return t&&(n.set(this.buffer),this.buffer=n),t},e.prototype.halveBufferSize=function(){var e=Math.max(2*this.initialSize,this.buffer.length/2),t=e<this.buffer.length;return t&&(this.buffer=new Float32Array(this.buffer.subarray(0,e))),t},e.prototype.setValue=function(e,t,n){this.buffer[2*e]=t-this.domainOffset,this.buffer[2*e+1]=n,this.rangeExtrema[0]=Math.min(this.rangeExtrema[0],n),this.rangeExtrema[1]=Math.max(this.rangeExtrema[1],n)},e.prototype.getBuffer=function(){return this.buffer},e.prototype.getLength=function(){return this.length},e.prototype.getDomainExtrema=function(){return[this.buffer[0]+this.domainOffset,this.buffer[2*this.length-2]+this.domainOffset]},e.prototype.getRangeExtrema=function(){return this.rangeExtrema},e.prototype.trim=function(e,t){t||this.buffer.set(this.buffer.subarray(2*e)),this.length-=e,this.length<this.buffer.length/4&&this.halveBufferSize()},e.prototype.insert=function(e,t){var n,i=e.getPointCount();for(t=Math.min(t,this.length);i>this.buffer.length/2-this.length;)if(!this.doubleBufferSize())return!1;
for(t<this.length&&this.buffer.set(this.buffer.subarray(2*t,2*this.length),2*(t+i)),n=0;i>n;n+=1)this.setValue(n+t,e.getDomainValue(n),e.getRangeValue(n));return this.length+=i,!0},e.prototype.insertPoint=function(e,t){return this.length>=this.buffer.length/2&&!this.doubleBufferSize()?!1:(this.setValue(this.length,e,t),this.length+=1,!0)},e.prototype.findInsertionIndex=function(e){var t=e-this.domainOffset;return this.length<1?0:t>this.buffer[2*this.length-2]?this.length:this.binSearch(t,0,this.length-1)},e}),n("platform/features/plot/src/elements/PlotUpdater",["./PlotLine","./PlotLineBuffer"],function(e,t){function n(e,t,n,i,r){this.handle=e,this.domain=t,this.range=n,this.fixedDuration=i,this.maxPoints=r,this.ids=[],this.lines={},this.buffers={},this.bufferArray=[],this.maxPoints=void 0!==r?r:a,this.dimensions=[0,0],this.origin=[0,0],this.update()}function i(e){return e.getId()}function r(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function o(e){return e[1]-e[0]}function s(e){return e[0]}var a=86400,c=.1,l=675;return n.prototype.idsMatch=function(e){var t=this.ids;return t.length===e.length&&e.every(function(e,n){return t[n]===e})},n.prototype.prepareLines=function(n){var r=n.map(i),o={},s=this;this.idsMatch(r)||(void 0!==this.domainOffset&&(this.ids=r,this.bufferArray=this.ids.map(function(n){return s.buffers[n]=s.buffers[n]||new t(s.domainOffset,l,s.maxPoints),o[n]=s.lines[n]||new e(s.buffers[n]),s.buffers[n]})),Object.keys(o).length<1&&(this.domainOffset=void 0),this.lines=o)},n.prototype.initializeDomainOffset=function(e){this.domainOffset=void 0===this.domainOffset&&e.length>0?e.reduce(function(e,t){return(e||0)+(t||0)},0)/e.length:this.domainOffset},n.prototype.expandRange=function(){var e,t=c*this.dimensions[1];t=Math.max(t,1),e=Math.ceil(this.origin[1]+this.dimensions[1]+t/2),this.origin[1]=Math.floor(this.origin[1]-t/2),this.dimensions[1]=e-this.origin[1]},n.prototype.updateBounds=function(){var e=this.bufferArray.filter(function(e){return e.getLength()>0}),t=this.origin[0],n=this.dimensions[0];e.length>0&&(this.domainExtrema=e.map(function(e){return e.getDomainExtrema()}).reduce(r),this.rangeExtrema=e.map(function(e){return e.getRangeExtrema()}).reduce(r),this.dimensions=[this.domainExtrema,this.rangeExtrema].map(o),this.origin=[this.domainExtrema,this.rangeExtrema].map(s),this.expandRange(),this.hasSpecificDomainBounds&&(this.origin[0]=t,this.dimensions[0]=n,this.following&&(this.origin[0]=Math.max(this.domainExtrema[1]-this.dimensions[0],this.origin[0]))),void 0!==this.fixedDuration&&(this.origin[0]=this.origin[0]+this.dimensions[0]-this.fixedDuration,this.dimensions[0]=this.fixedDuration))},n.prototype.addPointFor=function(e){var t=this.lines[e.getId()];t&&t.addPoint(this.handle.getDomainValue(e,this.domain),this.handle.getRangeValue(e,this.range))},n.prototype.update=function(){var e=this.handle.getTelemetryObjects(),t=this;void 0===this.domainOffset&&this.initializeDomainOffset(e.map(function(e){return t.handle.getDomainValue(e,t.domain)}).filter(function(e){return"number"==typeof e})),this.prepareLines(e),e.forEach(function(e,n){t.addPointFor(e,n)}),this.updateBounds()},n.prototype.getDimensions=function(){return this.dimensions},n.prototype.getOrigin=function(){return this.origin},n.prototype.getDomainOffset=function(){return this.domainOffset},n.prototype.getLineBuffers=function(){return this.bufferArray},n.prototype.setDomainBounds=function(e,t){this.fixedDuration=t-e,this.origin[0]=e,this.dimensions[0]=this.fixedDuration,this.hasSpecificDomainBounds=!0,this.following=!this.domainExtrema||t>=this.domainExtrema[1]},n.prototype.addHistorical=function(e,t){var n,i=t?t.getPointCount():0;1>i||(void 0===this.domainOffset&&this.initializeDomainOffset([t.getDomainValue(0,this.domain),t.getDomainValue(i-1,this.domain)]),this.prepareLines(this.handle.getTelemetryObjects()),n=this.lines[e.getId()],n&&n.addSeries(t,this.domain,this.range),this.updateBounds())},n}),n("platform/features/plot/src/elements/PlotPalette",[],function(){function e(){return e}var t=[[32,178,170],[154,205,50],[255,140,0],[210,180,140],[64,224,208],[65,105,255],[255,215,0],[106,90,205],[238,130,238],[204,153,102],[153,204,204],[102,204,51],[255,204,0],[255,102,51],[204,102,255],[255,0,102],[255,255,0],[128,0,128],[0,134,139],[0,138,0],[255,0,0],[0,0,255],[245,222,179],[188,143,143],[70,130,180],[255,175,175],[67,205,128],[205,193,197],[160,82,45],[100,149,237]],n=t.map(function(e){return"#"+e.map(function(e){return(16>e?"0":"")+e.toString(16)}).join("")}),i=t.map(function(e){return e.map(function(e){return e/255}).concat([1])});return e.getIntegerColor=function(e){return t[Math.floor(e)%t.length]},e.getFloatColor=function(e){return i[Math.floor(e)%i.length]},e.getStringColor=function(e){return n[Math.floor(e)%n.length]},e}),n("platform/features/plot/src/elements/PlotAxis",[],function(){function e(e,t,n){this.axisType=e,this.defaultValue=n,this.optionKeys={},this.active=n,this.options=[],this.updateMetadata(t)}return e.prototype.updateMetadata=function(e){function t(e){return e&&i[e.key]}var n=this.axisType,i=this.optionKeys,r={},o=[];e.forEach(function(e){(e[n]||[]).forEach(function(e){var t=e.key;i[t]||r[t]||o.push(e),r[t]=!0})}),i=this.optionKeys=r,this.options.every(t)||(this.options=this.options.filter(t)),o.length>0&&(this.options=this.options.concat(o)),t(this.active)||(this.active=this.options[0]||this.defaultValue)},e.prototype.chooseOption=function(e){var t=this;this.options.forEach(function(n){n.key===e&&(t.active=n)})},e}),n("platform/features/plot/src/elements/PlotLimitTracker",[],function(){function e(e,t){this.handle=e,this.range=t,this.legendClasses={}}return e.prototype.update=function(){function e(e){var r=e.getCapability("limit"),o=i.getDatum(e);r&&o&&(t[e.getId()]=(r.evaluate(o,n)||{}).cssClass)}var t={},n=this.range,i=this.handle;i.getTelemetryObjects().forEach(e),this.legendClasses=t},e.prototype.getLegendClass=function(e){var t=e&&e.getId();return t&&this.legendClasses[t]},e}),n("platform/features/plot/src/elements/PlotTelemetryFormatter",[],function(){function e(e){this.telemetryFormatter=e}var t=3;return e.prototype.setDomainFormat=function(e){this.domainFormat=e},e.prototype.setRangeFormat=function(e){this.rangeFormat=e},e.prototype.formatDomainValue=function(e){return this.telemetryFormatter.formatDomainValue(e,this.domainFormat)},e.prototype.formatRangeValue=function(e){return"number"==typeof e?e.toFixed(t):this.telemetryFormatter.formatRangeValue(e,this.rangeFormat)},e}),n("platform/features/plot/src/elements/PlotPosition",[],function(){function e(e,t,n,i,r){function o(e,t){return e*c[t]+a[t]}var s=r.getPanZoom(),a=s.origin,c=s.dimensions;c&&a?this.position=[e/n,(i-t)/i].map(o):this.position=[]}return e.prototype.getDomain=function(){return this.position[0]},e.prototype.getRange=function(){return this.position[1]},e.prototype.getPosition=function(){return this.position},e}),n("platform/features/plot/src/elements/PlotTickGenerator",[],function(){function e(e,t){this.panZoomStack=e,this.formatter=t}function t(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}}return e.prototype.generateTicks=function(e,t,n,i){var r,o=t/(n-1),s=[];for(r=0;n>r;r+=1)s.push({label:t>0?i(r*o+e):""});return s},e.prototype.generateDomainTicks=function(e){var n=this.panZoomStack.getPanZoom();return this.generateTicks(n.origin[0],n.dimensions[0],e,t(this.formatter.formatDomainValue,this.formatter))},e.prototype.generateRangeTicks=function(e){var n=this.panZoomStack.getPanZoom();return this.generateTicks(n.origin[1],n.dimensions[1],e,t(this.formatter.formatRangeValue,this.formatter))},e}),n("platform/features/plot/src/SubPlot",["./elements/PlotPosition","./elements/PlotTickGenerator"],function(e,t){function n(e,t,n){this.telemetryObjects=e,this.domainTicks=[],this.rangeTicks=[],this.formatter=n,this.draw={},this.hovering=!1,this.panZoomStack=t,this.updateDrawingBounds(),this.updateTicks()}function i(e){return"string"==typeof e&&""!==e}var r=5,o=7;return n.prototype.hasDomainData=function(){return this.panZoomStack&&this.panZoomStack.getDimensions()[0]>0},n.prototype.mousePositionToDomainRange=function(t){return new e(t.x,t.y,t.width,t.height,this.panZoomStack).getPosition()},n.prototype.toMousePosition=function(e){var t=this.subPlotBounds;return{x:e.clientX-t.left,y:e.clientY-t.top,width:t.width,height:t.height}},n.prototype.toDisplayable=function(e){return[e[0]-this.domainOffset,e[1]]},n.prototype.updateHoverCoordinates=function(){function e(e,n){return n?t.formatRangeValue(e):t.formatDomainValue(e)}var t=this.formatter;this.hoverCoordinates=this.mousePosition&&this.mousePositionToDomainRange(this.mousePosition).map(e).filter(i).join(", ")},n.prototype.updateMarqueeBox=function(){this.draw.boxes=this.marqueeStart?[{start:this.toDisplayable(this.mousePositionToDomainRange(this.marqueeStart)),end:this.toDisplayable(this.mousePositionToDomainRange(this.mousePosition)),color:[1,1,1,.5]}]:void 0},n.prototype.updateDrawingBounds=function(){var e=this.panZoomStack.getPanZoom();this.draw.dimensions=e.dimensions,this.draw.origin=[e.origin[0]-this.domainOffset,e.origin[1]]},n.prototype.updateTicks=function(){var e=new t(this.panZoomStack,this.formatter);this.domainTicks=e.generateDomainTicks(r),this.rangeTicks=e.generateRangeTicks(o)},n.prototype.updatePan=function(){var e,t,n,i;this.panZoomStack.popPanZoom(),e=this.mousePositionToDomainRange(this.panStart,this.panZoomStack),t=this.mousePositionToDomainRange(this.mousePosition,this.panZoomStack),n=[t[0]-e[0],t[1]-e[1]],i=[this.panStartBounds.origin[0]-n[0],this.panStartBounds.origin[1]-n[1]],this.panZoomStack.pushPanZoom(i,this.panStartBounds.dimensions)},n.prototype.getTelemetryObjects=function(){return this.telemetryObjects},n.prototype.getDomainTicks=function(){return this.domainTicks},n.prototype.getRangeTicks=function(){return this.rangeTicks},n.prototype.getDrawingObject=function(){return this.draw},n.prototype.getHoverCoordinates=function(){return this.hoverCoordinates},n.prototype.hover=function(e){this.hovering=!0,this.subPlotBounds=e.target.getBoundingClientRect(),this.mousePosition=this.toMousePosition(e),this.hasDomainData()&&this.updateHoverCoordinates(),this.marqueeStart&&this.updateMarqueeBox(),this.panStart&&(this.updatePan(),this.updateDrawingBounds(),this.updateTicks())},n.prototype.continueDrag=function(e){this.mousePosition=this.toMousePosition(e),this.marqueeStart&&this.updateMarqueeBox(),this.panStart&&(this.updatePan(),this.updateDrawingBounds(),this.updateTicks())},n.prototype.startDrag=function(e){this.subPlotBounds=e.target.getBoundingClientRect(),this.mousePosition=this.toMousePosition(e),e.altKey||e.shiftKey||e.ctrlKey?(this.panStart=this.mousePosition,this.panStartBounds=this.panZoomStack.getPanZoom(),this.panZoomStack.pushPanZoom(this.panStartBounds.origin,this.panStartBounds.dimensions),e.preventDefault()):(this.marqueeStart=this.mousePosition,this.updateMarqueeBox())},n.prototype.endDrag=function(e){function t(e,t){var i=n.mousePositionToDomainRange(e),r=n.mousePositionToDomainRange(t),o=[Math.min(i[0],r[0]),Math.min(i[1],r[1])],s=[Math.max(i[0],r[0])-o[0],Math.max(i[1],r[1])-o[1]];(0!==s[0]||0!==s[1])&&(n.panZoomStack.pushPanZoom(o,s),n.updateTicks())}var n=this;this.mousePosition=this.toMousePosition(e),this.subPlotBounds=void 0,this.marqueeStart&&(t(this.marqueeStart,this.mousePosition),this.marqueeStart=void 0,this.updateMarqueeBox(),this.updateDrawingBounds(),this.updateTicks()),this.panStart&&(this.panStart=void 0,this.panStartBounds=void 0)},n.prototype.update=function(){this.updateDrawingBounds(),this.updateMarqueeBox(),this.updateTicks()},n.prototype.setDomainOffset=function(e){this.domainOffset=e},n.prototype.isHovering=function(e){return void 0!==e&&(this.hovering=e),this.hovering},n}),n("platform/features/plot/src/elements/PlotPanZoomStack",[],function(){function e(e,t){this.stack=[{origin:e,dimensions:t}]}return e.prototype.getDepth=function(){return this.stack.length},e.prototype.pushPanZoom=function(e,t){this.stack.push({origin:e,dimensions:t})},e.prototype.popPanZoom=function(){this.stack.length>1&&this.stack.pop()},e.prototype.setBasePanZoom=function(e,t){this.stack[0]={origin:e,dimensions:t}},e.prototype.clearPanZoom=function(){this.stack=[this.stack[0]]},e.prototype.getPanZoom=function(){return this.stack[this.stack.length-1]},e.prototype.getOrigin=function(){return this.getPanZoom().origin},e.prototype.getDimensions=function(){return this.getPanZoom().dimensions},e}),n("platform/features/plot/src/modes/PlotOverlayMode",["../SubPlot","../elements/PlotPalette","../elements/PlotPanZoomStack"],function(e,t,n){function i(e,t){this.panZoomStack=new n([],[]),this.subplot=t.createSubPlot(e,this.panZoomStack),this.subplots=[this.subplot]}return i.prototype.plotTelemetry=function(e){this.panZoomStack.setBasePanZoom(e.getOrigin(),e.getDimensions()),this.subplot.setDomainOffset(e.getDomainOffset()),this.subplot.getDrawingObject().lines=e.getLineBuffers().map(function(e,n){return{buffer:e.getBuffer(),color:t.getFloatColor(n),points:e.getLength()}})},i.prototype.getSubPlots=function(){return this.subplots},i.prototype.isZoomed=function(){return this.panZoomStack.getDepth()>1},i.prototype.stepBackPanZoom=function(){this.panZoomStack.popPanZoom(),this.subplot.update()},i.prototype.unzoom=function(){this.panZoomStack.clearPanZoom(),this.subplot.update()},i}),n("platform/features/plot/src/elements/PlotPanZoomStackGroup",["./PlotPanZoomStack"],function(e){function t(t){function n(e,t,n){r.stacks.forEach(function(i,r){r===n?i.pushPanZoom(e,t):i.pushPanZoom([e[0],i.getOrigin()[1]],[t[0],i.getDimensions()[1]])})}function i(e,t){var i=Object.create(e);return i.pushPanZoom=function(e,i){n(e,i,t)},i.setBasePanZoom=function(){r.setBasePanZoom.apply(r,arguments)},i.popPanZoom=function(){r.popPanZoom.apply(r,arguments)},i.clearPanZoom=function(){r.clearPanZoom.apply(r,arguments)},i}var r=this;for(this.stacks=[];this.stacks.length<t;)this.stacks.push(new e([],[]));this.decoratedStacks=this.stacks.map(i)}return t.prototype.popPanZoom=function(){this.stacks.forEach(function(e){e.popPanZoom()})},t.prototype.setBasePanZoom=function(e,t){this.stacks.forEach(function(n){n.setBasePanZoom(e,t)})},t.prototype.clearPanZoom=function(){this.stacks.forEach(function(e){e.clearPanZoom()})},t.prototype.getDepth=function(){return this.stacks.length>0?this.stacks[0].getDepth():0},t.prototype.getPanZoomStack=function(e){return this.decoratedStacks[e]},t}),n("platform/features/plot/src/modes/PlotStackMode",["../SubPlot","../elements/PlotPalette","../elements/PlotPanZoomStackGroup"],function(e,t,n){function i(e,t){var i=this;this.panZoomStackGroup=new n(e.length),this.subplots=e.map(function(e,n){return t.createSubPlot([e],i.panZoomStackGroup.getPanZoomStack(n))})}return i.prototype.plotTelemetryTo=function(e,n,i){var r=n.getLineBuffers()[i];e.setDomainOffset(n.getDomainOffset()),e.getDrawingObject().lines=[{buffer:r.getBuffer(),color:t.getFloatColor(0),points:r.getLength()}]},i.prototype.plotTelemetry=function(e){var t=this;this.panZoomStackGroup.setBasePanZoom(e.getOrigin(),e.getDimensions()),this.subplots.forEach(function(n,i){t.plotTelemetryTo(n,e,i)})},i.prototype.getSubPlots=function(){return this.subplots},i.prototype.isZoomed=function(){return this.panZoomStackGroup.getDepth()>1},i.prototype.stepBackPanZoom=function(){this.panZoomStackGroup.popPanZoom(),this.subplots.forEach(function(e){e.update()})},i.prototype.unzoom=function(){this.panZoomStackGroup.clearPanZoom(),this.subplots.forEach(function(e){e.update()})},i}),n("platform/features/plot/src/modes/PlotModeOptions",["./PlotOverlayMode","./PlotStackMode"],function(e,t){function n(e,t){this.options=e.length>1?[r,i]:[r],this.mode=this.options[0],this.telemetryObjects=e,this.subPlotFactory=t}var i={key:"stacked",name:"Stacked",cssClass:"icon-plot-stacked",Constructor:t},r={key:"overlaid",name:"Overlaid",cssClass:"icon-plot-overlay",Constructor:e};return n.prototype.getModeHandler=function(){return this.modeHandler||(this.modeHandler=new this.mode.Constructor(this.telemetryObjects,this.subPlotFactory)),this.modeHandler},n.prototype.getModeOptions=function(){return this.options},n.prototype.getMode=function(){return this.mode},n.prototype.setMode=function(e){this.mode!==e&&(this.mode=e,this.modeHandler=void 0)},n}),n("platform/features/plot/src/SubPlotFactory",["./SubPlot"],function(e){function t(e){this.telemetryFormatter=e}return t.prototype.createSubPlot=function(t,n){return new e(t,n,this.telemetryFormatter)},t}),n("platform/features/plot/src/PlotController",["./elements/PlotUpdater","./elements/PlotPalette","./elements/PlotAxis","./elements/PlotLimitTracker","./elements/PlotTelemetryFormatter","./modes/PlotModeOptions","./SubPlotFactory"],function(e,t,n,i,r,o,s){function a(t,a,l,u,d,p,f,h){function m(e){t.axes.forEach(function(t){t.updateMetadata(e)})}function g(e){e.update()}function y(e){V!==e&&(V=e,R.modeOptions=new o(e||[],F))}function v(e){var t=e.start,n=e.end;N&&(N.setDomainBounds(t,n),R.update()),j=e}function b(){var n=t.axes[0].active.key,r=t.axes[1].active.key,o=f;N=new e(_,n,r,o),D=n,P=r,R.limitTracker=new i(_,r),j&&v(j)}function w(){return N||b(),N}function S(){R.pending=!1,_&&(y(_.getTelemetryObjects()),m(_.getMetadata()),w().update(),R.modeOptions.getModeHandler().plotTelemetry(N),R.limitTracker.update(),R.update())}function x(e,t){R.pending=!1,w().addHistorical(e,t),R.modeOptions.getModeHandler().plotTelemetry(N),R.update()}function C(){_&&_.request({},x)}function O(){_&&(N=void 0,C())}function k(e){if(void 0!==e){var n=B.bounds(),i=n.end-n.start;t.toiPerc=(e-n.start)/i*100,t.toiPinned=!0}else t.toiPerc=void 0,t.toiPinned=!1}function $(e){_&&_.unsubscribe(),_=e&&d.handle(e,S,!0),O(),k(B.timeOfInterest()),B.on("timeOfInterest",k)}function T(){_&&(_.unsubscribe(),_=void 0),B.off("timeOfInterest",k)}function A(){R.pending=!0,T(),$(t.domainObject)}function M(){var e=t.axes[0];U.setDomainFormat(e.active.format)}function I(e){e!==D&&(M(),A())}function E(e){e!==P&&A()}function L(e,n,i){if(i===!0)v(n);else{var r=t.axes[0];n.domain&&r.chooseOption(n.domain),M(),v(n),A()}R.setUnsynchedStatus(t.domainObject,i&&R.isZoomed()),k(B.timeOfInterest())}var N,j,P,D,_,R=this,U=new r(u),F=new s(U),V=[],B=h.time;this.modeOptions=new o([],F),this.updateValues=S,this.scheduleUpdate=p(function(){R.modeOptions.getModeHandler().getSubPlots().forEach(g)}),R.pending=!0,R.$element=a,R.exportImageService=l,t.axes=[new n("domains",[],c[0]),new n("ranges",[],c[1])];var q=B.bounds();q&&void 0!==q.start&&void 0!==q.end&&L(void 0,B.bounds(),void 0!==B.clock()),t.$watch("axes[0].active.key",I),t.$watch("axes[1].active.key",E),t.$watch("domainObject",$),t.$on("telemetry:display:bounds",L),t.$on("$destroy",T)}var c=[{name:"Time"},{name:"Value"}];return a.prototype.getColor=function(e){return t.getStringColor(e)},a.prototype.isZoomed=function(){return this.modeOptions.getModeHandler().isZoomed()},a.prototype.stepBackPanZoom=function(){return this.modeOptions.getModeHandler().stepBackPanZoom()},a.prototype.unzoom=function(){return this.modeOptions.getModeHandler().unzoom()},a.prototype.getModeOptions=function(){return this.modeOptions.getModeOptions()},a.prototype.getMode=function(){return this.modeOptions.getMode()},a.prototype.setMode=function(e){this.modeOptions.setMode(e),this.updateValues()},a.prototype.getSubPlots=function(){return this.modeOptions.getModeHandler().getSubPlots()},a.prototype.getLegendClass=function(e){return this.limitTracker&&this.limitTracker.getLegendClass(e)},a.prototype.update=function(){this.scheduleUpdate()},a.prototype.isRequestPending=function(){return this.pending},a.prototype.setUnsynchedStatus=function(e,t){e.hasCapability("status")&&e.getCapability("status").set("timeconductor-unsynced",t)},a.prototype.exportPNG=function(){var e=this;e.hideExportButtons=!0,e.exportImageService.exportPNG(e.$element[0],"plot.png")["finally"](function(){e.hideExportButtons=!1})},a.prototype.exportJPG=function(){var e=this;e.hideExportButtons=!0,e.exportImageService.exportJPG(e.$element[0],"plot.jpg")["finally"](function(){e.hideExportButtons=!1})},a}),n("platform/features/plot/src/policies/PlotViewPolicy",[],function(){function e(){}function t(e){var t=e&&e.getCapability("telemetry"),n=t?t.getMetadata():{},i=n.ranges||[];return 0===i.length||i.some(function(e){return void 0===e.format||"number"===e.format})}return e.prototype.allow=function(e,n){return"plot"===e.key?t(n):!0},e}),n("platform/features/plot/src/PlotOptionsForm",[],function(){function e(){this.xAxisForm={name:"x-axis",sections:[{name:"x-axis",rows:[{name:"Domain",control:"select",key:"key",options:[{name:"SCET",value:"scet"},{name:"SCLK",value:"sclk"},{name:"LST",value:"lst"}]}]}]},this.yAxisForm={name:"y-axis",sections:[{name:"y-axis",rows:[{name:"Range",control:"select",key:"key",options:[{name:"EU",value:"eu"},{name:"DN",value:"dn"},{name:"Status",value:"status"}]},{name:"Autoscale",control:"checkbox",key:"autoscale"},{name:"Min",control:"textfield",key:"min",pattern:"[0-9]",inputsize:"sm"},{name:"Max",control:"textfield",key:"max",pattern:"[0-9]",inputsize:"sm"}]}]},this.plotSeriesForm={name:"Series Options",sections:[{rows:[{name:"Color",control:"color",key:"color"}]},{rows:[{name:"Markers",control:"checkbox",key:"markers",layout:"control-first"}]},{rows:[{name:"No Line",control:"radio",key:"lineType",value:"noLine",layout:"control-first"},{name:"Step Line",control:"radio",key:"lineType",value:"stepLine",layout:"control-first"},{name:"Linear Line",control:"radio",key:"lineType",value:"linearLine",layout:"control-first"}]}]}}return e}),n("platform/features/plot/src/PlotOptionsController",["./PlotOptionsForm"],function(e){function t(t){var n=this;this.$scope=t,this.domainObject=t.domainObject,this.configuration=this.domainObject.getModel().configuration||{},this.plotOptionsForm=new e,this.composition=[],this.watches=[],this.mutationListener=this.domainObject.getCapability("mutation").listen(function(e){n.hasCompositionChanged(n.composition,e.composition)&&n.updateChildren()}),t.plotSeriesForm=this.plotOptionsForm.plotSeriesForm,t.xAxisForm=this.plotOptionsForm.xAxisForm,t.yAxisForm=this.plotOptionsForm.yAxisForm,t.$on("$destroy",function(){n.mutationListener()}),this.defaultConfiguration(),this.updateChildren(),t.$watchCollection("configuration.plot.yAxis",function(e,t){n.updateConfiguration(e,t)}),t.$watchCollection("configuration.plot.xAxis",function(e,t){n.updateConfiguration(e,t)}),this.watchSeries()}return t.prototype.clearSeriesWatches=function(){this.watches.forEach(function(e){e()}),this.watches=[]},t.prototype.watchSeries=function(){var e=this;this.clearSeriesWatches(),(e.$scope.children||[]).forEach(function(t,n){e.watches.push(e.$scope.$watchCollection("configuration.plot.series["+n+"]",function(t,n){e.updateConfiguration(t,n)}))})},t.prototype.hasCompositionChanged=function(e,t){var n=e===t||e.length===t.length&&e.every(function(e,n){return t[n]&&e===t[n]});return!n},t.prototype.defaultConfiguration=function(){this.configuration.plot=this.configuration.plot||{},this.configuration.plot.xAxis=this.configuration.plot.xAxis||{},this.configuration.plot.yAxis=this.configuration.plot.yAxis||{},this.configuration.plot.series=this.configuration.plot.series||[],this.$scope.configuration=this.configuration},t.prototype.updateChildren=function(){var e=this;this.domainObject.useCapability("composition").then(function(t){e.$scope.children=t,e.composition=e.domainObject.getModel().composition,t.forEach(function(t,n){e.configuration.plot.series[n]=e.configuration.plot.series[n]||{id:t.getId()}}),e.watchSeries()})},t.prototype.updateConfiguration=function(){var e=this;this.domainObject.useCapability("mutation",function(t){t.configuration=t.configuration||{},t.configuration.plot=e.configuration.plot})},t}),function(e){n("html2canvas",[],function(){return function(){return function(e,t,n){"use strict";function i(e,t,n){var i,r=e.runtimeStyle&&e.runtimeStyle[t],o=e.style;return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(n)&&/^-?\d/.test(n)&&(i=o.left,r&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":n||0,n=o.pixelLeft+"px",o.left=i,r&&(e.runtimeStyle.left=r)),/^(thin|medium|thick)$/i.test(n)?n:Math.round(parseFloat(n))+"px"}function r(e){return parseInt(e,10)}function o(e,t,r,o){if(e=(e||"").split(","),e=e[o||0]||e[0]||"auto",e=d.Util.trimText(e).split(" "),"backgroundSize"!==r||e[0]&&!e[0].match(/cover|contain|auto/)){if(e[0]=-1===e[0].indexOf("%")?i(t,r+"X",e[0]):e[0],e[1]===n){if("backgroundSize"===r)return e[1]="auto",e;e[1]=e[0]}e[1]=-1===e[1].indexOf("%")?i(t,r+"Y",e[1]):e[1]}return e}function s(e,t,n,i,r,o){var s,a,c,l,u=d.Util.getCSS(t,e,r);if(1===u.length&&(l=u[0],u=[],u[0]=l,u[1]=l),-1!==(""+u[0]).indexOf("%"))c=parseFloat(u[0])/100,a=n.width*c,"backgroundSize"!==e&&(a-=(o||i).width*c);else if("backgroundSize"===e)if("auto"===u[0])a=i.width;else if(/contain|cover/.test(u[0])){var p=d.Util.resizeBounds(i.width,i.height,n.width,n.height,u[0]);a=p.width,s=p.height}else a=parseInt(u[0],10);else a=parseInt(u[0],10);return"auto"===u[1]?s=a/i.width*i.height:-1!==(""+u[1]).indexOf("%")?(c=parseFloat(u[1])/100,s=n.height*c,"backgroundSize"!==e&&(s-=(o||i).height*c)):s=parseInt(u[1],10),[a,s]}function a(e,t){var n=[];return{storage:n,width:e,height:t,clip:function(){n.push({type:"function",name:"clip",arguments:arguments})},translate:function(){n.push({type:"function",name:"translate",arguments:arguments})},fill:function(){n.push({type:"function",name:"fill",arguments:arguments})},save:function(){n.push({type:"function",name:"save",arguments:arguments})},restore:function(){n.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){n.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){n.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var e=[];return n.push({type:"function",name:"drawShape",arguments:e}),{moveTo:function(){e.push({name:"moveTo",arguments:arguments})},lineTo:function(){e.push({name:"lineTo",arguments:arguments})},arcTo:function(){e.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){e.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){e.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){n.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){n.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(e,t){return n.push({type:"variable",name:e,arguments:t}),t}}}function c(e){return{zindex:e,children:[]}}var l,u,d={};d.Util={},d.Util.log=function(t){d.logging&&e.console&&e.console.log&&e.console.log(t)},d.Util.trimText=function(e){return function(t){return e?e.apply(t):((t||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim),d.Util.asFloat=function(e){return parseFloat(e)},function(){var e=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,t=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;d.Util.parseTextShadows=function(n){if(!n||"none"===n)return[];for(var i=n.match(e),r=[],o=0;i&&i.length>o;o++){var s=i[o].match(t);r.push({color:s[0],offsetX:s[1]?s[1].replace("px",""):0,offsetY:s[2]?s[2].replace("px",""):0,blur:s[3]?s[3].replace("px",""):0})}return r}}(),d.Util.parseBackgroundImage=function(e){var t,n,i,r,o,s,a,c,l=" \r\n	",u=[],d=0,p=0,f=function(){t&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&c.push(n),"-"===t.substr(0,1)&&(r=t.indexOf("-",1)+1)>0&&(i=t.substr(0,r),t=t.substr(r)),u.push({prefix:i,method:t.toLowerCase(),value:o,args:c})),c=[],t=i=n=o=""};f();for(var h=0,m=e.length;m>h;h++)if(s=e[h],!(0===d&&l.indexOf(s)>-1)){switch(s){case'"':a?a===s&&(a=null):a=s;break;case"(":if(a)break;if(0===d){d=1,o+=s;continue}p++;break;case")":if(a)break;if(1===d){if(0===p){d=0,o+=s,f();continue}p--}break;case",":if(a)break;if(0===d){f();continue}if(1===d&&0===p&&!t.match(/^url$/i)){c.push(n),n="",o+=s;continue}}o+=s,0===d?t+=s:n+=s}return f(),u},d.Util.Bounds=function(e){var t,n={};return e.getBoundingClientRect&&(t=e.getBoundingClientRect(),n.top=t.top,n.bottom=t.bottom||t.top+t.height,n.left=t.left,n.width=e.offsetWidth,n.height=e.offsetHeight),n},d.Util.OffsetBounds=function(e){var t=e.offsetParent?d.Util.OffsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+t.top,bottom:e.offsetTop+e.offsetHeight+t.top,left:e.offsetLeft+t.left,width:e.offsetWidth,height:e.offsetHeight}},d.Util.getCSS=function(e,n,i){l!==e&&(u=t.defaultView.getComputedStyle(e,null));var s=u[n];if(/^background(Size|Position)$/.test(n))return o(s,e,n,i);if(/border(Top|Bottom)(Left|Right)Radius/.test(n)){var a=s.split(" ");return 1>=a.length&&(a[1]=a[0]),a.map(r)}return s},d.Util.resizeBounds=function(e,t,n,i,r){var o,s,a=n/i,c=e/t;return r&&"auto"!==r?c>a^"contain"===r?(s=i,o=i*c):(o=n,s=n/c):(o=n,s=i),{width:o,height:s}},d.Util.BackgroundPosition=function(e,t,n,i,r){var o=s("backgroundPosition",e,t,n,i,r);return{left:o[0],top:o[1]}},d.Util.BackgroundSize=function(e,t,n,i){var r=s("backgroundSize",e,t,n,i);return{width:r[0],height:r[1]}},d.Util.Extend=function(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},d.Util.Children=function(e){var t;try{t=e.nodeName&&"IFRAME"===e.nodeName.toUpperCase()?e.contentDocument||e.contentWindow.document:function(e){var t=[];return null!==e&&function(e,t){var i=e.length,r=0;if("number"==typeof t.length)for(var o=t.length;o>r;r++)e[i++]=t[r];else for(;t[r]!==n;)e[i++]=t[r++];return e.length=i,e}(t,e),t}(e.childNodes)}catch(i){d.Util.log("html2canvas.Util.Children failed with exception: "+i.message),t=[]}return t},d.Util.isTransparent=function(e){return"transparent"===e||"rgba(0, 0, 0, 0)"===e},d.Util.Font=function(){var e={};return function(t,i,r){if(e[t+"-"+i]!==n)return e[t+"-"+i];var o,s,a,c=r.createElement("div"),l=r.createElement("img"),u=r.createElement("span"),d="Hidden Text";return c.style.visibility="hidden",c.style.fontFamily=t,c.style.fontSize=i,c.style.margin=0,c.style.padding=0,r.body.appendChild(c),l.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",l.width=1,l.height=1,l.style.margin=0,l.style.padding=0,l.style.verticalAlign="baseline",u.style.fontFamily=t,u.style.fontSize=i,u.style.margin=0,u.style.padding=0,u.appendChild(r.createTextNode(d)),c.appendChild(u),c.appendChild(l),o=l.offsetTop-u.offsetTop+1,c.removeChild(u),c.appendChild(r.createTextNode(d)),c.style.lineHeight="normal",l.style.verticalAlign="super",s=l.offsetTop-c.offsetTop+1,a={baseline:o,lineWidth:1,middle:s},e[t+"-"+i]=a,r.body.removeChild(c),a}}(),function(){function e(e){return function(t){try{e.addColorStop(t.stop,t.color)}catch(i){n.log(["failed to add color stop: ",i,"; tried to add: ",t])}}}var n=d.Util,i={};d.Generate=i;var r=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];i.parseGradient=function(e,t){var n,i,o,s,a,c,l,u,d,p,f,h,m=r.length;for(i=0;m>i&&!(o=e.match(r[i]));i+=1);if(o)switch(o[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(n={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},a=o[2].match(/\w+/g))for(c=a.length,i=0;c>i;i+=1)switch(a[i]){case"top":n.y0=0,n.y1=t.height;break;case"right":n.x0=t.width,n.x1=0;break;case"bottom":n.y0=t.height,n.y1=0;break;case"left":n.x0=0,n.x1=t.width}if(null===n.x0&&null===n.x1&&(n.x0=n.x1=t.width/2),null===n.y0&&null===n.y1&&(n.y0=n.y1=t.height/2),a=o[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(c=a.length,
l=1/Math.max(c-1,1),i=0;c>i;i+=1)u=a[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),u[2]?(s=parseFloat(u[2]),s/="%"===u[3]?100:t.width):s=i*l,n.colorStops.push({color:u[1],stop:s});break;case"-webkit-gradient":if(n={type:"radial"===o[2]?"circle":o[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},a=o[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/),a&&(n.x0=a[1]*t.width/100,n.y0=a[2]*t.height/100,n.x1=a[3]*t.width/100,n.y1=a[4]*t.height/100),a=o[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(c=a.length,i=0;c>i;i+=1)u=a[i].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),s=parseFloat(u[2]),"from"===u[1]&&(s=0),"to"===u[1]&&(s=1),n.colorStops.push({color:u[3],stop:s});break;case"-moz-linear-gradient":if(n={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},a=o[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),a&&(n.x0=a[1]*t.width/100,n.y0=a[2]*t.height/100,n.x1=t.width-n.x0,n.y1=t.height-n.y0),a=o[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(c=a.length,l=1/Math.max(c-1,1),i=0;c>i;i+=1)u=a[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),u[2]?(s=parseFloat(u[2]),u[3]&&(s/=100)):s=i*l,n.colorStops.push({color:u[1],stop:s});break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(n={type:"circle",x0:0,y0:0,x1:t.width,y1:t.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},a=o[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),a&&(n.cx=a[1]*t.width/100,n.cy=a[2]*t.height/100),a=o[3].match(/\w+/),u=o[4].match(/[a-z\-]*/),a&&u)switch(u[0]){case"farthest-corner":case"cover":case"":d=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),p=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),f=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),h=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.max(d,p,f,h);break;case"closest-corner":d=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),p=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),f=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),h=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.min(d,p,f,h);break;case"farthest-side":"circle"===a[0]?n.rx=n.ry=Math.max(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=a[0],n.rx=Math.max(n.cx,n.x1-n.cx),n.ry=Math.max(n.cy,n.y1-n.cy));break;case"closest-side":case"contain":"circle"===a[0]?n.rx=n.ry=Math.min(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=a[0],n.rx=Math.min(n.cx,n.x1-n.cx),n.ry=Math.min(n.cy,n.y1-n.cy))}if(a=o[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(c=a.length,l=1/Math.max(c-1,1),i=0;c>i;i+=1)u=a[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),u[2]?(s=parseFloat(u[2]),s/="%"===u[3]?100:t.width):s=i*l,n.colorStops.push({color:u[1],stop:s})}return n},i.Gradient=function(n,i){if(0!==i.width&&0!==i.height){var r,o,s=t.createElement("canvas"),a=s.getContext("2d");if(s.width=i.width,s.height=i.height,r=d.Generate.parseGradient(n,i))switch(r.type){case"linear":o=a.createLinearGradient(r.x0,r.y0,r.x1,r.y1),r.colorStops.forEach(e(o)),a.fillStyle=o,a.fillRect(0,0,i.width,i.height);break;case"circle":o=a.createRadialGradient(r.cx,r.cy,0,r.cx,r.cy,r.rx),r.colorStops.forEach(e(o)),a.fillStyle=o,a.fillRect(0,0,i.width,i.height);break;case"ellipse":var c=t.createElement("canvas"),l=c.getContext("2d"),u=Math.max(r.rx,r.ry),p=2*u;c.width=c.height=p,o=l.createRadialGradient(r.rx,r.ry,0,r.rx,r.ry,u),r.colorStops.forEach(e(o)),l.fillStyle=o,l.fillRect(0,0,p,p),a.fillStyle=r.colorStops[r.colorStops.length-1].color,a.fillRect(0,0,s.width,s.height),a.drawImage(c,r.cx-r.rx,r.cy-r.ry,2*r.rx,2*r.ry)}return s}},i.ListAlpha=function(e){var t,n="";do t=e%26,n=String.fromCharCode(t+64)+n,e/=26;while(26*e>26);return n},i.ListRoman=function(e){var t,n=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],i=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],r="",o=n.length;if(0>=e||e>=4e3)return e;for(t=0;o>t;t+=1)for(;e>=i[t];)e-=i[t],r+=n[t];return r}}(),d.Parse=function(i,r){function o(){return Math.max(Math.max(ue.body.scrollWidth,ue.documentElement.scrollWidth),Math.max(ue.body.offsetWidth,ue.documentElement.offsetWidth),Math.max(ue.body.clientWidth,ue.documentElement.clientWidth))}function s(){return Math.max(Math.max(ue.body.scrollHeight,ue.documentElement.scrollHeight),Math.max(ue.body.offsetHeight,ue.documentElement.offsetHeight),Math.max(ue.body.clientHeight,ue.documentElement.clientHeight))}function l(e,t){var n=parseInt(me(e,t),10);return isNaN(n)?0:n}function u(e,t,n,i,r,o){"transparent"!==o&&(e.setVariable("fillStyle",o),e.fillRect(t,n,i,r),le+=1)}function p(e,t,i){return e.length>0?t+i.toUpperCase():n}function f(e,t){switch(t){case"lowercase":return e.toLowerCase();case"capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,p);case"uppercase":return e.toUpperCase();default:return e}}function h(e){return/^(normal|none|0px)$/.test(e)}function m(e,t,n,i){null!==e&&de.trimText(e).length>0&&(i.fillText(e,t,n),le+=1)}function g(e,t,i,r){var o=!1,s=me(t,"fontWeight"),a=me(t,"fontFamily"),c=me(t,"fontSize"),l=de.parseTextShadows(me(t,"textShadow"));switch(parseInt(s,10)){case 401:s="bold";break;case 400:s="normal"}return e.setVariable("fillStyle",r),e.setVariable("font",[me(t,"fontStyle"),me(t,"fontVariant"),s,c,a].join(" ")),e.setVariable("textAlign",o?"right":"left"),l.length&&(e.setVariable("shadowColor",l[0].color),e.setVariable("shadowOffsetX",l[0].offsetX),e.setVariable("shadowOffsetY",l[0].offsetY),e.setVariable("shadowBlur",l[0].blur)),"none"!==i?de.Font(a,c,ue):n}function y(e,t,n,i,r){switch(t){case"underline":u(e,n.left,Math.round(n.top+i.baseline+i.lineWidth),n.width,1,r);break;case"overline":u(e,n.left,Math.round(n.top),n.width,1,r);break;case"line-through":u(e,n.left,Math.ceil(n.top+i.middle+i.lineWidth),n.width,1,r)}}function v(e,t,n,i,r){var o;if(pe.rangeBounds&&!r)("none"!==n||0!==de.trimText(t).length)&&(o=b(t,e.node,e.textOffset)),e.textOffset+=t.length;else if(e.node&&"string"==typeof e.node.nodeValue){var s=i?e.node.splitText(t.length):null;o=w(e.node,r),e.node=s}return o}function b(e,t,n){var i=ue.createRange();return i.setStart(t,n),i.setEnd(t,n+e.length),i.getBoundingClientRect()}function w(e,t){var n=e.parentNode,i=ue.createElement("wrapper"),r=e.cloneNode(!0);i.appendChild(e.cloneNode(!0)),n.replaceChild(i,e);var o=t?de.OffsetBounds(i):de.Bounds(i);return n.replaceChild(r,i),o}function S(e,t,n){var i,o,s=n.ctx,a=me(e,"color"),c=me(e,"textDecoration"),l=me(e,"textAlign"),u={node:t,textOffset:0};de.trimText(t.nodeValue).length>0&&(t.nodeValue=f(t.nodeValue,me(e,"textTransform")),l=l.replace(["-webkit-auto"],["auto"]),o=!r.letterRendering&&/^(left|right|justify|auto)$/.test(l)&&h(me(e,"letterSpacing"))?t.nodeValue.split(/(\b| )/):t.nodeValue.split(""),i=g(s,e,c,a),r.chinese&&o.forEach(function(e,t){/.*[\u4E00-\u9FA5].*$/.test(e)&&(e=e.split(""),e.unshift(t,1),o.splice.apply(o,e))}),o.forEach(function(e,t){var r=v(u,e,c,o.length-1>t,n.transform.matrix);r&&(m(e,r.left,r.bottom,s),y(s,c,r,i,a))}))}function x(e,t){var n,i,r=ue.createElement("boundelement");return r.style.display="inline",n=e.style.listStyleType,e.style.listStyleType="none",r.appendChild(ue.createTextNode(t)),e.insertBefore(r,e.firstChild),i=de.Bounds(r),e.removeChild(r),e.style.listStyleType=n,i}function C(e){var t=-1,n=1,i=e.parentNode.childNodes;if(e.parentNode){for(;i[++t]!==e;)1===i[t].nodeType&&n++;return n}return-1}function O(e,t){var n,i=C(e);switch(t){case"decimal":n=i;break;case"decimal-leading-zero":n=1===(""+i).length?i="0"+i:""+i;break;case"upper-roman":n=d.Generate.ListRoman(i);break;case"lower-roman":n=d.Generate.ListRoman(i).toLowerCase();break;case"lower-alpha":n=d.Generate.ListAlpha(i).toLowerCase();break;case"upper-alpha":n=d.Generate.ListAlpha(i)}return n+". "}function k(e,t,n){var i,r,o,s=t.ctx,a=me(e,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(a)){if(r=O(e,a),o=x(e,r),g(s,e,"none",me(e,"color")),"inside"!==me(e,"listStylePosition"))return;s.setVariable("textAlign","left"),i=n.left,m(r,i,o.bottom,s)}}function $(e){var t=i[e];return t&&t.succeeded===!0?t.img:!1}function T(e,t){var n=Math.max(e.left,t.left),i=Math.max(e.top,t.top),r=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height);return{left:n,top:i,width:r-n,height:o-i}}function A(e,t,n){var i,r="static"!==t.cssPosition,o=r?me(e,"zIndex"):"auto",s=me(e,"opacity"),a="none"!==me(e,"cssFloat");t.zIndex=i=c(o),i.isPositioned=r,i.isFloated=a,i.opacity=s,i.ownStacking="auto"!==o||1>s,n&&n.zIndex.children.push(t)}function M(e,t,n,i,r){var o=l(t,"paddingLeft"),s=l(t,"paddingTop"),a=l(t,"paddingRight"),c=l(t,"paddingBottom");V(e,n,0,0,n.width,n.height,i.left+o+r[3].width,i.top+s+r[0].width,i.width-(r[1].width+r[3].width+o+a),i.height-(r[0].width+r[2].width+s+c))}function I(e){return["Top","Right","Bottom","Left"].map(function(t){return{width:l(e,"border"+t+"Width"),color:me(e,"border"+t+"Color")}})}function E(e){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(t){return me(e,"border"+t+"Radius")})}function L(e,t,n,i){var r=function(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}};return{start:e,startControl:t,endControl:n,end:i,subdivide:function(o){var s=r(e,t,o),a=r(t,n,o),c=r(n,i,o),l=r(s,a,o),u=r(a,c,o),d=r(l,u,o);return[L(e,s,l,d),L(d,u,c,i)]},curveTo:function(e){e.push(["bezierCurve",t.x,t.y,n.x,n.y,i.x,i.y])},curveToReversed:function(i){i.push(["bezierCurve",n.x,n.y,t.x,t.y,e.x,e.y])}}}function N(e,t,n,i,r,o,s){t[0]>0||t[1]>0?(e.push(["line",i[0].start.x,i[0].start.y]),i[0].curveTo(e),i[1].curveTo(e)):e.push(["line",o,s]),(n[0]>0||n[1]>0)&&e.push(["line",r[0].start.x,r[0].start.y])}function j(e,t,n,i,r,o,s){var a=[];return t[0]>0||t[1]>0?(a.push(["line",i[1].start.x,i[1].start.y]),i[1].curveTo(a)):a.push(["line",e.c1[0],e.c1[1]]),n[0]>0||n[1]>0?(a.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(a),a.push(["line",s[0].end.x,s[0].end.y]),s[0].curveToReversed(a)):(a.push(["line",e.c2[0],e.c2[1]]),a.push(["line",e.c3[0],e.c3[1]])),t[0]>0||t[1]>0?(a.push(["line",r[1].end.x,r[1].end.y]),r[1].curveToReversed(a)):a.push(["line",e.c4[0],e.c4[1]]),a}function P(e,t,n){var i=e.left,r=e.top,o=e.width,s=e.height,a=t[0][0],c=t[0][1],l=t[1][0],u=t[1][1],d=t[2][0],p=t[2][1],f=t[3][0],h=t[3][1],m=o-l,g=s-p,y=o-d,v=s-h;return{topLeftOuter:ve(i,r,a,c).topLeft.subdivide(.5),topLeftInner:ve(i+n[3].width,r+n[0].width,Math.max(0,a-n[3].width),Math.max(0,c-n[0].width)).topLeft.subdivide(.5),topRightOuter:ve(i+m,r,l,u).topRight.subdivide(.5),topRightInner:ve(i+Math.min(m,o+n[3].width),r+n[0].width,m>o+n[3].width?0:l-n[3].width,u-n[0].width).topRight.subdivide(.5),bottomRightOuter:ve(i+y,r+g,d,p).bottomRight.subdivide(.5),bottomRightInner:ve(i+Math.min(y,o+n[3].width),r+Math.min(g,s+n[0].width),Math.max(0,d-n[1].width),Math.max(0,p-n[2].width)).bottomRight.subdivide(.5),bottomLeftOuter:ve(i,r+v,f,h).bottomLeft.subdivide(.5),bottomLeftInner:ve(i+n[3].width,r+v,Math.max(0,f-n[3].width),Math.max(0,h-n[2].width)).bottomLeft.subdivide(.5)}}function D(e,t,n,i,r){var o=me(e,"backgroundClip"),s=[];switch(o){case"content-box":case"padding-box":N(s,i[0],i[1],t.topLeftInner,t.topRightInner,r.left+n[3].width,r.top+n[0].width),N(s,i[1],i[2],t.topRightInner,t.bottomRightInner,r.left+r.width-n[1].width,r.top+n[0].width),N(s,i[2],i[3],t.bottomRightInner,t.bottomLeftInner,r.left+r.width-n[1].width,r.top+r.height-n[2].width),N(s,i[3],i[0],t.bottomLeftInner,t.topLeftInner,r.left+n[3].width,r.top+r.height-n[2].width);break;default:N(s,i[0],i[1],t.topLeftOuter,t.topRightOuter,r.left,r.top),N(s,i[1],i[2],t.topRightOuter,t.bottomRightOuter,r.left+r.width,r.top),N(s,i[2],i[3],t.bottomRightOuter,t.bottomLeftOuter,r.left+r.width,r.top+r.height),N(s,i[3],i[0],t.bottomLeftOuter,t.topLeftOuter,r.left,r.top+r.height)}return s}function _(e,t,n){var i,r,o,s,a,c,l=t.left,u=t.top,d=t.width,p=t.height,f=E(e),h=P(t,f,n),m={clip:D(e,h,n,f,t),borders:[]};for(i=0;4>i;i++)if(n[i].width>0){switch(r=l,o=u,s=d,a=p-n[2].width,i){case 0:a=n[0].width,c=j({c1:[r,o],c2:[r+s,o],c3:[r+s-n[1].width,o+a],c4:[r+n[3].width,o+a]},f[0],f[1],h.topLeftOuter,h.topLeftInner,h.topRightOuter,h.topRightInner);break;case 1:r=l+d-n[1].width,s=n[1].width,c=j({c1:[r+s,o],c2:[r+s,o+a+n[2].width],c3:[r,o+a],c4:[r,o+n[0].width]},f[1],f[2],h.topRightOuter,h.topRightInner,h.bottomRightOuter,h.bottomRightInner);break;case 2:o=o+p-n[2].width,a=n[2].width,c=j({c1:[r+s,o+a],c2:[r,o+a],c3:[r+n[3].width,o],c4:[r+s-n[3].width,o]},f[2],f[3],h.bottomRightOuter,h.bottomRightInner,h.bottomLeftOuter,h.bottomLeftInner);break;case 3:s=n[3].width,c=j({c1:[r,o+a+n[2].width],c2:[r,o],c3:[r+s,o+n[0].width],c4:[r+s,o+a]},f[3],f[0],h.bottomLeftOuter,h.bottomLeftInner,h.topLeftOuter,h.topLeftInner)}m.borders.push({args:c,color:n[i].color})}return m}function R(e,t){var n=e.drawShape();return t.forEach(function(e,t){n[0===t?"moveTo":e[0]+"To"].apply(null,e.slice(1))}),n}function U(e,t,n){"transparent"!==n&&(e.setVariable("fillStyle",n),R(e,t),e.fill(),le+=1)}function F(e,t,n){var i,r,o=ue.createElement("valuewrap"),s=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"];s.forEach(function(t){try{o.style[t]=me(e,t)}catch(n){de.log("html2canvas: Parse: Exception caught in renderFormValue: "+n.message)}}),o.style.borderColor="black",o.style.borderStyle="solid",o.style.display="block",o.style.position="absolute",(/^(submit|reset|button|text|password)$/.test(e.type)||"SELECT"===e.nodeName)&&(o.style.lineHeight=me(e,"height")),o.style.top=t.top+"px",o.style.left=t.left+"px",i="SELECT"===e.nodeName?(e.options[e.selectedIndex]||0).text:e.value,i||(i=e.placeholder),r=ue.createTextNode(i),o.appendChild(r),he.appendChild(o),S(e,r,n),he.removeChild(o)}function V(e){e.drawImage.apply(e,Array.prototype.slice.call(arguments,1)),le+=1}function B(n,i){var r=e.getComputedStyle(n,i);if(r&&r.content&&"none"!==r.content&&"-moz-alt-content"!==r.content&&"none"!==r.display){var o=r.content+"",s=o.substr(0,1);s===o.substr(o.length-1)&&s.match(/'|"/)&&(o=o.substr(1,o.length-2));var a="url"===o.substr(0,3),c=t.createElement(a?"img":"span");return c.className=ge+"-before "+ge+"-after",Object.keys(r).filter(q).forEach(function(e){try{c.style[e]=r[e]}catch(t){de.log(["Tried to assign readonly property ",e,"Error:",t])}}),a?c.src=de.parseBackgroundImage(o)[0].args[0]:c.innerHTML=o,c}}function q(t){return isNaN(e.parseInt(t,10))}function Y(e,t){var n=B(e,":before"),i=B(e,":after");(n||i)&&(n&&(e.className+=" "+ge+"-before",e.parentNode.insertBefore(n,e),oe(n,t,!0),e.parentNode.removeChild(n),e.className=e.className.replace(ge+"-before","").trim()),i&&(e.className+=" "+ge+"-after",e.appendChild(i),oe(i,t,!0),e.removeChild(i),e.className=e.className.replace(ge+"-after","").trim()))}function H(e,t,n,i){var r=Math.round(i.left+n.left),o=Math.round(i.top+n.top);e.createPattern(t),e.translate(r,o),e.fill(),e.translate(-r,-o)}function W(e,t,n,i,r,o,s,a){var c=[];c.push(["line",Math.round(r),Math.round(o)]),c.push(["line",Math.round(r+s),Math.round(o)]),c.push(["line",Math.round(r+s),Math.round(a+o)]),c.push(["line",Math.round(r),Math.round(a+o)]),R(e,c),e.save(),e.clip(),H(e,t,n,i),e.restore()}function z(e,t,n){u(e,t.left,t.top,t.width,t.height,n)}function G(e,t,n,i,r){var o=de.BackgroundSize(e,t,i,r),s=de.BackgroundPosition(e,t,i,r,o),a=me(e,"backgroundRepeat").split(",").map(de.trimText);switch(i=Z(i,o),a=a[r]||a[0]){case"repeat-x":W(n,i,s,t,t.left,t.top+s.top,99999,i.height);break;case"repeat-y":W(n,i,s,t,t.left+s.left,t.top,i.width,99999);break;case"no-repeat":W(n,i,s,t,t.left+s.left,t.top+s.top,i.width,i.height);break;default:H(n,i,s,{top:t.top,left:t.left,width:i.width,height:i.height})}}function K(e,t,n){for(var i,r=me(e,"backgroundImage"),o=de.parseBackgroundImage(r),s=o.length;s--;)if(r=o[s],r.args&&0!==r.args.length){var a="url"===r.method?r.args[0]:r.value;i=$(a),i?G(e,t,n,i,s):de.log("html2canvas: Error loading background:",r)}}function Z(e,t){if(e.width===t.width&&e.height===t.height)return e;var n,i=ue.createElement("canvas");return i.width=t.width,i.height=t.height,n=i.getContext("2d"),V(n,e,0,0,e.width,e.height,0,0,t.width,t.height),i}function X(e,t,n){return e.setVariable("globalAlpha",me(t,"opacity")*(n?n.opacity:1))}function J(e){return e.replace("px","")}function Q(e){var t=me(e,"transform")||me(e,"-webkit-transform")||me(e,"-moz-transform")||me(e,"-ms-transform")||me(e,"-o-transform"),n=me(e,"transform-origin")||me(e,"-webkit-transform-origin")||me(e,"-moz-transform-origin")||me(e,"-ms-transform-origin")||me(e,"-o-transform-origin")||"0px 0px";n=n.split(" ").map(J).map(de.asFloat);var i;if(t&&"none"!==t){var r=t.match(be);if(r)switch(r[1]){case"matrix":i=r[2].split(",").map(de.trimText).map(de.asFloat)}}return{origin:n,matrix:i}}function ee(e,t,n,i){var c=a(t?n.width:o(),t?n.height:s()),l={ctx:c,opacity:X(c,e,t),cssPosition:me(e,"position"),borders:I(e),transform:i,clip:t&&t.clip?de.Extend({},t.clip):null};return A(e,l,t),r.useOverflow===!0&&/(hidden|scroll|auto)/.test(me(e,"overflow"))===!0&&/(BODY)/i.test(e.nodeName)===!1&&(l.clip=l.clip?T(l.clip,n):n),l}function te(e,t,n){var i={left:t.left+e[3].width,top:t.top+e[0].width,width:t.width-(e[1].width+e[3].width),height:t.height-(e[0].width+e[2].width)};return n&&(i=T(i,n)),i}function ne(e,t){var n=t.matrix?de.OffsetBounds(e):de.Bounds(e);return t.origin[0]+=n.left,t.origin[1]+=n.top,n}function ie(e,t,n,i){var r,o=Q(e,t),s=ne(e,o),a=ee(e,t,s,o),c=a.borders,l=a.ctx,u=te(c,s,a.clip),d=_(e,s,c),p=fe.test(e.nodeName)?"#efefef":me(e,"backgroundColor");switch(R(l,d.clip),l.save(),l.clip(),u.height>0&&u.width>0&&!i?(z(l,s,p),K(e,u,l)):i&&(a.backgroundColor=p),l.restore(),d.borders.forEach(function(e){U(l,e.args,e.color)}),n||Y(e,a),e.nodeName){case"IMG":(r=$(e.getAttribute("src")))?M(l,e,r,s,c):de.log("html2canvas: Error loading <img>:"+e.getAttribute("src"));break;case"INPUT":/^(text|url|email|submit|button|reset)$/.test(e.type)&&(e.value||e.placeholder||"").length>0&&F(e,s,a);break;case"TEXTAREA":(e.value||e.placeholder||"").length>0&&F(e,s,a);break;case"SELECT":(e.options||e.placeholder||"").length>0&&F(e,s,a);break;case"LI":k(e,a,u);break;case"CANVAS":M(l,e,e,s,c)}return a}function re(e){return"none"!==me(e,"display")&&"hidden"!==me(e,"visibility")&&!e.hasAttribute("data-html2canvas-ignore")}function oe(e,t,n){re(e)&&(t=ie(e,t,n,!1)||t,fe.test(e.nodeName)||se(e,t,n))}function se(e,t,n){de.Children(e).forEach(function(i){i.nodeType===i.ELEMENT_NODE?oe(i,t,n):i.nodeType===i.TEXT_NODE&&S(e,i,t)})}function ae(){var e=me(t.documentElement,"backgroundColor"),n=de.isTransparent(e)&&ce===t.body,i=ie(ce,null,!1,n);return se(ce,i),n&&(e=i.backgroundColor),he.removeChild(ye),{backgroundColor:e,stack:i}}e.scroll(0,0);var ce=r.elements===n?t.body:r.elements[0],le=0,ue=ce.ownerDocument,de=d.Util,pe=de.Support(r,ue),fe=RegExp("("+r.ignoreElements+")"),he=ue.body,me=de.getCSS,ge="___html2canvas___pseudoelement",ye=ue.createElement("style");ye.innerHTML="."+ge+'-before:before { content: "" !important; display: none !important; }.'+ge+'-after:after { content: "" !important; display: none !important; }',he.appendChild(ye),i=i||{};var ve=function(e){return function(t,n,i,r){var o=i*e,s=r*e,a=t+i,c=n+r;return{topLeft:L({x:t,y:c},{x:t,y:c-s},{x:a-o,y:n},{x:a,y:n}),topRight:L({x:t,y:n},{x:t+o,y:n},{x:a,y:c-s},{x:a,y:c}),bottomRight:L({x:a,y:n},{x:a,y:n+s},{x:t+o,y:c},{x:t,y:c}),bottomLeft:L({x:a,y:c},{x:a-o,y:c},{x:t,y:n+s},{x:t,y:n})}}}(4*((Math.sqrt(2)-1)/3)),be=/(matrix)\((.+)\)/;return ae()},d.Preload=function(i){function r(e){$.href=e,$.href=$.href;var t=$.protocol+$.host;return t===m}function o(){w.log("html2canvas: start: images: "+b.numLoaded+" / "+b.numTotal+" (failed: "+b.numFailed+")"),!b.firstRun&&b.numLoaded>=b.numTotal&&(w.log("Finished loading images: # "+b.numTotal+" (failed: "+b.numFailed+")"),"function"==typeof i.complete&&i.complete(b))}function s(t,r,s){var a,c,l=i.proxy;$.href=t,t=$.href,a="html2canvas_"+S++,s.callbackname=a,l+=l.indexOf("?")>-1?"&":"?",l+="url="+encodeURIComponent(t)+"&callback="+a,c=C.createElement("script"),e[a]=function(t){"error:"===t.substring(0,6)?(s.succeeded=!1,b.numLoaded++,b.numFailed++,o()):(h(r,s),r.src=t),e[a]=n;try{delete e[a]}catch(i){}c.parentNode.removeChild(c),c=null,delete s.script,delete s.callbackname},c.setAttribute("type","text/javascript"),c.setAttribute("src",l),s.script=c,e.document.body.appendChild(c)}function a(t,n){var i=e.getComputedStyle(t,n),r=i.content;"url"===r.substr(0,3)&&g.loadImage(d.Util.parseBackgroundImage(r)[0].args[0]),p(i.backgroundImage,t)}function c(e){a(e,":before"),a(e,":after")}function l(e,t){var i=d.Generate.Gradient(e,t);i!==n&&(b[e]={img:i,succeeded:!0},b.numTotal++,b.numLoaded++,o())}function u(e){return e&&e.method&&e.args&&e.args.length>0}function p(e,t){var i;d.Util.parseBackgroundImage(e).filter(u).forEach(function(e){"url"===e.method?g.loadImage(e.args[0]):e.method.match(/\-?gradient$/)&&(i===n&&(i=d.Util.Bounds(t)),l(e.value,i))})}function f(e){var t=!1;try{w.Children(e).forEach(f)}catch(i){}try{t=e.nodeType}catch(r){t=!1,w.log("html2canvas: failed to access some element's nodeType - Exception: "+r.message)}if(1===t||t===n){c(e);try{p(w.getCSS(e,"backgroundImage"),e)}catch(i){w.log("html2canvas: failed to get background-image - Exception: "+i.message)}p(e)}}function h(t,r){t.onload=function(){r.timer!==n&&e.clearTimeout(r.timer),b.numLoaded++,r.succeeded=!0,t.onerror=t.onload=null,o()},t.onerror=function(){if("anonymous"===t.crossOrigin&&(e.clearTimeout(r.timer),i.proxy)){var a=t.src;return t=new Image,r.img=t,t.src=a,s(t.src,t,r),n}b.numLoaded++,b.numFailed++,r.succeeded=!1,t.onerror=t.onload=null,o()}}var m,g,y,v,b={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},w=d.Util,S=0,x=i.elements[0]||t.body,C=x.ownerDocument,O=x.getElementsByTagName("img"),k=O.length,$=C.createElement("a"),T=function(e){return e.crossOrigin!==n}(new Image);for($.href=e.location.href,m=$.protocol+$.host,g={loadImage:function(e){var t,o;e&&b[e]===n&&(t=new Image,e.match(/data:image\/.*;base64,/i)?(t.src=e.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),o=b[e]={img:t},b.numTotal++,h(t,o)):r(e)||i.allowTaint===!0?(o=b[e]={img:t},b.numTotal++,h(t,o),t.src=e):T&&!i.allowTaint&&i.useCORS?(t.crossOrigin="anonymous",o=b[e]={img:t},b.numTotal++,h(t,o),t.src=e):i.proxy&&(o=b[e]={img:t},b.numTotal++,s(e,t,o)))},cleanupDOM:function(r){var s,a;if(!b.cleanupDone){r&&"string"==typeof r?w.log("html2canvas: Cleanup because: "+r):w.log("html2canvas: Cleanup after timeout: "+i.timeout+" ms.");for(a in b)if(b.hasOwnProperty(a)&&(s=b[a],"object"==typeof s&&s.callbackname&&s.succeeded===n)){e[s.callbackname]=n;try{delete e[s.callbackname]}catch(c){}s.script&&s.script.parentNode&&(s.script.setAttribute("src","about:blank"),s.script.parentNode.removeChild(s.script)),b.numLoaded++,b.numFailed++,w.log("html2canvas: Cleaned up failed img: '"+a+"' Steps: "+b.numLoaded+" / "+b.numTotal)}e.stop!==n?e.stop():t.execCommand!==n&&t.execCommand("Stop",!1),t.close!==n&&t.close(),b.cleanupDone=!0,r&&"string"==typeof r||o()}},renderingDone:function(){v&&e.clearTimeout(v)}},i.timeout>0&&(v=e.setTimeout(g.cleanupDOM,i.timeout)),w.log("html2canvas: Preload starts: finding background-images"),b.firstRun=!0,f(x),w.log("html2canvas: Preload: Finding images"),y=0;k>y;y+=1)g.loadImage(O[y].getAttribute("src"));return b.firstRun=!1,w.log("html2canvas: Preload: Done."),b.numTotal===b.numLoaded&&o(),g},d.Renderer=function(e,i){function r(e){function t(e){Object.keys(e).sort().forEach(function(n){var i=[],o=[],s=[],a=[];e[n].forEach(function(e){e.node.zIndex.isPositioned||1>e.node.zIndex.opacity?s.push(e):e.node.zIndex.isFloated?o.push(e):i.push(e)}),function c(e){e.forEach(function(e){a.push(e),e.children&&c(e.children)})}(i.concat(o,s)),a.forEach(function(e){e.context?t(e.context):r.push(e.node)})})}var i,r=[];return i=function(e){function t(e,i,r){var o="auto"===i.zIndex.zindex?0:Number(i.zIndex.zindex),s=e,a=i.zIndex.isPositioned,c=i.zIndex.isFloated,l={node:i},u=r;i.zIndex.ownStacking?(s=l.context={"!":[{node:i,children:[]}]},u=n):(a||c)&&(u=l.children=[]),0===o&&r?r.push(l):(e[o]||(e[o]=[]),e[o].push(l)),i.zIndex.children.forEach(function(e){t(s,e,u)})}var i={};return t(i,e),i}(e),t(i),r}function o(e){var t;if("string"==typeof i.renderer&&d.Renderer[e]!==n)t=d.Renderer[e](i);else{if("function"!=typeof e)throw Error("Unknown renderer");t=e(i)}if("function"!=typeof t)throw Error("Invalid renderer defined");return t}return o(i.renderer)(e,i,t,r(e.stack),d)},d.Util.Support=function(e,t){function i(){var e=new Image,i=t.createElement("canvas"),r=i.getContext===n?!1:i.getContext("2d");if(r===!1)return!1;i.width=i.height=10,e.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{r.drawImage(e,0,0),i.toDataURL()}catch(o){return!1}return d.Util.log("html2canvas: Parse: SVG powered rendering available"),!0}function r(){var e,n,i,r,o=!1;return t.createRange&&(e=t.createRange(),e.getBoundingClientRect&&(n=t.createElement("boundtest"),n.style.height="123px",n.style.display="block",t.body.appendChild(n),e.selectNode(n),i=e.getBoundingClientRect(),r=i.height,123===r&&(o=!0),t.body.removeChild(n))),o}return{rangeBounds:r(),svgRendering:e.svgRendering&&i()}},e.html2canvas=function(t,n){t=t.length?t:[t];var i,r,o={logging:!1,elements:t,background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"};return o=d.Util.Extend(n,o),d.logging=o.logging,o.complete=function(e){("function"!=typeof o.onpreloaded||o.onpreloaded(e)!==!1)&&(i=d.Parse(e,o),("function"!=typeof o.onparsed||o.onparsed(i)!==!1)&&(r=d.Renderer(i,o),"function"==typeof o.onrendered&&o.onrendered(r)))},e.setTimeout(function(){d.Preload(o)},0),{render:function(e,t){return d.Renderer(e,d.Util.Extend(t,o))},parse:function(e,t){return d.Parse(e,d.Util.Extend(t,o))},preload:function(e){return d.Preload(d.Util.Extend(e,o))},log:d.Util.log}},e.html2canvas.log=d.Util.log,e.html2canvas.Renderer={Canvas:n},d.Renderer.Canvas=function(e){function i(e,t){e.beginPath(),t.forEach(function(t){e[t.name].apply(e,t.arguments)}),e.closePath()}function r(e){if(-1===a.indexOf(e.arguments[0].src)){l.drawImage(e.arguments[0],0,0);try{l.getImageData(0,0,1,1)}catch(t){return c=s.createElement("canvas"),l=c.getContext("2d"),!1}a.push(e.arguments[0].src)}return!0}function o(t,n){switch(n.type){case"variable":t[n.name]=n.arguments;break;case"function":switch(n.name){case"createPattern":if(n.arguments[0].width>0&&n.arguments[0].height>0)try{t.fillStyle=t.createPattern(n.arguments[0],"repeat")}catch(o){u.log("html2canvas: Renderer: Error creating pattern",o.message)}break;case"drawShape":i(t,n.arguments);break;case"drawImage":n.arguments[8]>0&&n.arguments[7]>0&&(!e.taintTest||e.taintTest&&r(n))&&t.drawImage.apply(t,n.arguments);break;default:t[n.name].apply(t,n.arguments)}}}e=e||{};var s=t,a=[],c=t.createElement("canvas"),l=c.getContext("2d"),u=d.Util,p=e.canvas||s.createElement("canvas");return function(e,t,i,r,s){var a,c,l,d=p.getContext("2d"),f=e.stack;return p.width=p.style.width=t.width||f.ctx.width,p.height=p.style.height=t.height||f.ctx.height,l=d.fillStyle,d.fillStyle=u.isTransparent(f.backgroundColor)&&t.background!==n?t.background:e.backgroundColor,d.fillRect(0,0,p.width,p.height),d.fillStyle=l,r.forEach(function(e){d.textBaseline="bottom",d.save(),e.transform.matrix&&(d.translate(e.transform.origin[0],e.transform.origin[1]),d.transform.apply(d,e.transform.matrix),d.translate(-e.transform.origin[0],-e.transform.origin[1])),e.clip&&(d.beginPath(),d.rect(e.clip.left,e.clip.top,e.clip.width,e.clip.height),d.clip()),e.ctx.storage&&e.ctx.storage.forEach(function(e){o(d,e)}),d.restore()}),u.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),1===t.elements.length&&"object"==typeof t.elements[0]&&"BODY"!==t.elements[0].nodeName?(c=s.Util.Bounds(t.elements[0]),a=i.createElement("canvas"),a.width=Math.ceil(c.width),a.height=Math.ceil(c.height),d=a.getContext("2d"),d.drawImage(p,c.left,c.top,c.width,c.height,0,0,c.width,c.height),p=null,a):p}}}(window,document),e.html2canvas=html2canvas}.apply(e,arguments)})}(this),n("platform/features/plot/src/services/ExportImageService",["html2canvas","saveAs"],function(e,t){function n(n,i,r,s,a,c,l){o.$q=n,o.$timeout=i,o.$log=r,o.EXPORT_IMAGE_TIMEOUT=s,o.html2canvas=a||e,o.saveAs=c||t,o.reader=l||new FileReader}function i(e,t){var n,i=o.$q.defer(),r=["png","jpg","jpeg"];if(-1===r.indexOf(t))return void o.$log.error("Invalid type requested. Try: ("+r.join(",")+")");n=o.$timeout(function(){i.reject("html2canvas timed out"),o.$log.warn("html2canvas timed out")},o.EXPORT_IMAGE_TIMEOUT);try{o.html2canvas(e,{onrendered:function(e){switch(t.toLowerCase()){case"png":e.toBlob(i.resolve,"image/png");break;default:case"jpg":case"jpeg":e.toBlob(i.resolve,"image/jpeg")}}})}catch(s){i.reject(s),o.$log.warn("html2canvas failed with error: "+s)}return i.promise["finally"](n.cancel),i.promise}function r(){HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){for(var i=atob(this.toDataURL(t,n).split(",")[1]),r=i.length,o=new Uint8Array(r),s=0;r>s;s++)o[s]=i.charCodeAt(s);e(new Blob([o],{type:t||"image/png"}))}})}var o=this;return n.prototype.exportJPG=function(e,t){return i(e,"jpeg").then(function(e){o.saveAs(e,t)})},n.prototype.exportPNG=function(e,t){return i(e,"png").then(function(e){o.saveAs(e,t)})},r(),n}),n("text!platform/features/plot/res/templates/plot.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="PlotController as plot"\n      class="abs holder holder-plot has-control-bar">\n    <div class="l-control-bar" ng-show="!plot.hideExportButtons">\n         <span class="l-btn-set">\n            <a class="s-button t-export labeled icon-download"\n               ng-click="plot.exportPNG()"\n               title="Export This View\'s Data as PNG">\n                PNG\n            </a>\n            <a class="s-button t-export labeled"\n               ng-click="plot.exportJPG()"\n               title="Export This View\'s Data as JPG">\n                JPG\n            </a>\n        </span>\n    </div>\n    <div class="l-view-section">\n        <div class="gl-plot"\n             ng-style="{ height: 100 / plot.getSubPlots().length + \'%\'}"\n             ng-repeat="subplot in plot.getSubPlots()">\n            <div class="gl-plot-legend">\n                <span class=\'plot-legend-item\'\n                        ng-repeat="telemetryObject in subplot.getTelemetryObjects()"\n                        ng-class="plot.getLegendClass(telemetryObject)">\n                    <span class=\'plot-color-swatch\'\n                          ng-style="{ \'background-color\': plot.getColor($index) }">\n                    </span>\n                    <span class=\'title-label\'>{{telemetryObject.getModel().name}}</span>\n                </span>\n            </div>\n\n            <div class="gl-plot-axis-area gl-plot-y">\n                <div class="gl-plot-label gl-plot-y-label">\n                    {{axes[1].active.name}}\n                </div>\n                <div ng-repeat="tick in subplot.getRangeTicks()"\n                     class="gl-plot-tick gl-plot-y-tick-label"\n                     ng-style="{ bottom: (100 * $index / (subplot.getRangeTicks().length - 1)) + \'%\' }">\n                    {{tick.label | reverse}}\n                </div>\n                <div class="gl-plot-y-options gl-plot-local-controls"\n                     ng-if="axes[1].options.length > 1">\n                    <div class=\'form-control shell select\'>\n                        <select class="form-control input shell"\n                                ng-model="axes[1].active"\n                                ng-options="option.name for option in axes[1].options">\n                        </select>\n                    </div>\n                </div>\n            </div>\n\n            <div class="gl-plot-wrapper-display-area-and-x-axis">\n                <mct-include key="\'time-of-interest\'"\n                             class="l-toi-holder show-val"\n                             ng-if="toiPerc"\n                             ng-class="{ \'pinned\': toiPinned, \'val-to-left\': toiPerc > 80 }"\n                             ng-style="{\'left\': toiPerc + \'%\'}"></mct-include>\n\n                <div class="gl-plot-coords"\n                     ng-if="subplot.isHovering() && subplot.getHoverCoordinates()">\n                    {{subplot.getHoverCoordinates()}}\n                </div>\n\n                <div class="gl-plot-display-area"\n                     ng-mouseenter="subplot.isHovering(true);"\n                     ng-mouseleave="subplot.isHovering(false)"\n                     ng-class="{ loading: plot.isRequestPending() }">\n\n                    <!-- Out-of-bounds data indicators -->\n                    <!-- ng-show is temporarily hard-coded in next element -->\n                    <div ng-show="false" class="l-oob-data l-oob-data-up"></div>\n                    <div ng-show="false" class="l-oob-data l-oob-data-dwn"></div>\n                    <div class="gl-plot-hash hash-v"\n                         ng-repeat="tick in subplot.getDomainTicks()"\n                         ng-style="{ left: (100 * $index / (subplot.getDomainTicks().length - 1)) + \'%\', height: \'100%\' }"\n                         ng-show="$index > 0 && $index < (subplot.getDomainTicks().length - 1)">\n                    </div>\n                    <div class="gl-plot-hash hash-h"\n                         ng-repeat="tick in subplot.getRangeTicks()"\n                         ng-style="{ bottom: (100 * $index / (subplot.getRangeTicks().length - 1)) + \'%\', width: \'100%\' }"\n                         ng-show="$index > 0 && $index < (subplot.getRangeTicks().length - 1)">\n                    </div>\n                    <mct-chart draw="subplot.getDrawingObject()"\n                               ng-if="subplot.getTelemetryObjects().length > 0"\n                               ng-mousemove="subplot.hover($event)"\n                               mct-drag="subplot.continueDrag($event)"\n                               mct-drag-down="subplot.startDrag($event)"\n                               mct-drag-up="subplot.endDrag($event); plot.update()">\n                    </mct-chart>\n                    <!-- TODO: Move into correct position; make part of group; infer from set of actions -->\n                    <div class="l-local-controls gl-plot-local-controls t-plot-display-controls"\n                         ng-if="$first">\n                        <a class="s-button icon-arrow-left"\n                           ng-click="plot.stepBackPanZoom()"\n                           ng-show="plot.isZoomed()"\n                           title="Restore previous pan/zoom">\n                        </a>\n                        <a class="s-button icon-arrows-out"\n                           ng-click="plot.unzoom()"\n                           ng-show="plot.isZoomed()"\n                           title="Reset pan/zoom">\n                        </a>\n                        <div class="menu-element s-menu-button menus-to-left {{plot.getMode().cssClass}}"\n                             ng-if="plot.getModeOptions().length > 1"\n                             ng-controller="ClickAwayController as toggle">\n                            <span class="l-click-area" ng-click="toggle.toggle()"></span>\n                            <span>{{plot.getMode().name}}</span>\n                            <div class="menu" ng-show="toggle.isActive()">\n                                <ul>\n                                    <li ng-repeat="option in plot.getModeOptions()"\n                                        ng-click="plot.setMode(option); toggle.setState(false)"\n                                        class="{{option.cssClass}}">\n                                        {{option.name}}\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div ng-if="$last" class="gl-plot-axis-area gl-plot-x">\n                    <div ng-repeat="tick in subplot.getDomainTicks()"\n                         class="gl-plot-tick gl-plot-x-tick-label"\n                         ng-show="$index > 0 && $index < (subplot.getDomainTicks().length - 1)"\n                         ng-style="{ left: (100 * $index / (subplot.getDomainTicks().length - 1)) + \'%\' }">\n                        {{tick.label | reverse}}\n                    </div>\n                    <div class="gl-plot-label gl-plot-x-label">\n                        {{axes[0].active.name}}\n                    </div>\n                    <div class="gl-plot-x-options gl-plot-local-controls"\n                         ng-if="axes[0].options.length > 1">\n                        <div class=\'form-control shell select\'>\n                            <select class="form-control input shell"\n                                    ng-model="axes[0].active"\n                                    ng-options="option.name for option in axes[0].options">\n                            </select>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n</span>\n';
}),n("text!platform/features/plot/res/templates/plot-options-browse.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="PlotOptionsController" class="flex-elem grows l-inspector-part">\n    <em class="t-inspector-part-header" title="Display properties for this object">Plot Options</em>\n    <mct-form\n            ng-model="configuration.plot.xAxis"\n            structure="xAxisForm"\n            name="xAxisFormState"\n            class="flex-elem l-flex-row no-margin">\n    </mct-form>\n    <mct-form\n            ng-model="configuration.plot.yAxis"\n            structure="yAxisForm"\n            name="yAxisFormState"\n            class="flex-elem l-flex-row no-margin">\n    </mct-form>\n    <div class="form">\n        <div class="section-header ng-binding ng-scope">\n            Plot Series\n        </div>\n        <ul class="first flex-elem grows vscroll">\n            <ul class="tree">\n                <li ng-repeat="child in children">\n                    <span ng-controller="ToggleController as toggle">\n                        <span ng-controller="TreeNodeController as treeNode">\n                            <span class="tree-item menus-to-left">\n                                <span\n                                    class=\'ui-symbol view-control flex-elem has-children\'\n                                    ng-class="{ expanded: toggle.isActive() }"\n                                    ng-click="toggle.toggle(); treeNode.trackExpansion()">\n                                </span>\n                                <mct-representation\n                                    class="rep-object-label"\n                                    key="\'label\'"\n                                    mct-object="child">\n                                </mct-representation>\n                            </span>\n                        </span>\n                        <mct-form\n                            ng-class="{hidden: !toggle.isActive()}"\n                            ng-model="configuration.plot.series[$index]"\n                            structure="plotSeriesForm"\n                            name="plotOptionsState"\n                            class="flex-elem l-flex-row">\n                        </mct-form>\n                    </span>\n                </li>\n            </ul>\n        </ul>\n    </div>\n</div>\n'}),n("platform/features/plot/bundle",["./src/MCTChart","./src/PlotController","./src/policies/PlotViewPolicy","./src/PlotOptionsController","./src/services/ExportImageService","text!./res/templates/plot.html","text!./res/templates/plot-options-browse.html","legacyRegistry"],function(e,t,n,i,r,o,s,a){a.register("platform/features/plot",{name:"Plot view for telemetry",extensions:{views:[{name:"Plot",key:"plot",cssClass:"icon-sine",template:o,needs:["telemetry"],priority:"preferred",delegation:!0}],directives:[{key:"mctChart",implementation:e,depends:["$interval","$log"]}],controllers:[{key:"PlotController",implementation:t,depends:["$scope","$element","exportImageService","telemetryFormatter","telemetryHandler","throttle","PLOT_FIXED_DURATION","openmct"]},{key:"PlotOptionsController",implementation:i,depends:["$scope"]}],services:[{key:"exportImageService",implementation:r,depends:["$q","$timeout","$log","EXPORT_IMAGE_TIMEOUT"]}],constants:[{key:"PLOT_FIXED_DURATION",value:9e5,priority:"fallback",comment:"Fifteen minutes."},{key:"EXPORT_IMAGE_TIMEOUT",value:500,priority:"fallback"}],policies:[{category:"view",implementation:n}],representations:[{key:"plot-options-browse",template:s}],licenses:[{name:"FileSaver.js",version:"0.0.2",author:"Eli Grey",description:"File download initiator (for file exports)",website:"https://github.com/eligrey/FileSaver.js/",copyright:"Copyright © 2015 Eli Grey.",license:"license-mit",link:"https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md"},{name:"html2canvas",version:"0.4.1",author:"Niklas von Hertzen",description:"JavaScript HTML renderer",website:"https://github.com/niklasvh/html2canvas",copyright:"Copyright © 2012 Niklas von Hertzen.",license:"license-mit",link:"https://github.com/niklasvh/html2canvas/blob/master/LICENSE"}]}})}),n("text!platform/features/static-markup/res/markup.html",[],function(){return'<h1>Static Markup Sandbox</h1>\n\n<h2>Plot limits</h2>\n<div ng-init="limits=[\n				{type: \'upr\', severity: \'red\', top: 0, bottom: 90},\n				{type: \'upr\', severity: \'yellow\', top: 10, bottom: 80},\n				{type: \'lwr\', severity: \'yellow\', top: 70, bottom: 20},\n				{type: \'lwr\', severity: \'red\', top: 80, bottom: 0}\n	        ]"></div>\n<div style="width: 1000px; height: 500px">\n    <div class="gl-plot" style="height: 100%;">\n        <div class="gl-plot-display-area">\n	        <div\n		        ng-repeat="limit in limits"\n		        ng-show="1"\n		        class="t-limit l-limit s-limit-{{limit.type}}-{{limit.severity}}"\n		        style="top: {{limit.top}}%; bottom: {{limit.bottom}}%"\n		        ></div>\n        </div>\n    </div>\n</div>\n\n<h2>Animation</h2>\n<div class="pulse" style="background: #cc0000; color: #fff; padding: 10px;">This should pulse</div>\n'}),n("platform/features/static-markup/bundle",["text!./res/markup.html","legacyRegistry"],function(e,t){t.register("platform/features/static-markup",{extensions:{types:[{key:"static.markup",name:"Static Markup",cssClass:"icon-pencil",description:"Static markup sandbox",features:["creation"]}],views:[{template:e,name:"Static Markup",type:"static.markup",key:"static.markup"}]}})}),n("platform/features/table/src/controllers/MCTTableController",["zepto","lodash"],function(e,t){function n(n,i,r,o,s,a){function c(e){"undefined"==typeof e.enableFilter&&(e.enableFilter=!0,e.filters={}),"undefined"==typeof e.enableSort&&(e.enableSort=!0,e.sortColumn=void 0,e.sortDirection=void 0),void 0!==e.sortColumn&&(e.sortDirection="asc")}var l=this;this.$scope=n,this.element=e(r[0]),this.$window=i,this.maxDisplayRows=100,this.scrollable=this.element.find(".l-view-section.scrolling").first(),this.resultsHeader=this.element.find(".mct-table>thead").first(),this.sizingTableBody=this.element.find(".sizing-table>tbody").first(),this.$scope.sizingRow={},this.timeApi=a.time,this.toiFormatter=void 0,this.formatService=s,this.callbacks={},t.bindAll(this,["addRows","binarySearch","buildLargestRow","changeBounds","changeTimeOfInterest","changeTimeSystem","destroyConductorListeners","digest","filterAndSort","filterRows","firstVisible","insertSorted","lastVisible","onRowClick","onScroll","removeRows","resize","scrollToBottom","scrollToRow","setElementSizes","setHeaders","setRows","setTimeOfInterestRow","setVisibleRows","sortComparator","sortRows"]),this.scrollable.on("scroll",this.onScroll),n.visibleRows=[],n.displayRows=[],c(n),n.exportAsCSV=function(){var e=n.displayHeaders;o.exportCSV(n.displayRows.map(function(t){return e.reduce(function(e,n){return e[n]=t[n].text,e},{})}),{headers:e})},n.toggleSort=function(e){n.enableSort&&(n.sortColumn!==e?(n.sortColumn=e,n.sortDirection="asc"):"asc"===n.sortDirection?n.sortDirection="desc":"desc"===n.sortDirection?(n.sortColumn=void 0,n.sortDirection=void 0):void 0!==n.sortColumn&&void 0===n.sortDirection&&(n.sortDirection="asc"),l.setRows(n.rows),l.setTimeOfInterestRow(l.timeApi.timeOfInterest()))},n.$watchCollection("filters",function(){l.setRows(n.rows)}),n.$watch("headers",function(e,t){e!==t&&this.setHeaders(e)}.bind(this)),n.$watch("rows",this.setRows),n.$on("add:rows",this.addRows),n.$on("remove:rows",this.removeRows),n.$watch("defaultSort",function(e,t){e!==t&&n.toggleSort(e)}),n.resize=this.setElementSizes,n.$watch("timeColumns",function(e){e&&(this.destroyConductorListeners(),this.timeApi.on("timeSystem",this.changeTimeSystem),this.timeApi.on("timeOfInterest",this.changeTimeOfInterest),this.timeApi.on("bounds",this.changeBounds),void 0!==this.timeApi.timeSystem()&&this.changeTimeSystem(this.timeApi.timeSystem()))}.bind(this)),n.$on("$destroy",function(){this.scrollable.off("scroll",this.onScroll),this.destroyConductorListeners(),delete this.$scope}.bind(this))}return n.prototype.destroyConductorListeners=function(){this.timeApi.off("timeSystem",this.changeTimeSystem),this.timeApi.off("timeOfInterest",this.changeTimeOfInterest),this.timeApi.off("bounds",this.changeBounds)},n.prototype.changeTimeSystem=function(e){var t=e.timeFormat;this.toiFormatter=this.formatService.getFormat(t)},n.prototype.scrollToBottom=function(){this.scrollable[0].scrollTop=this.scrollable[0].scrollHeight},n.prototype.addRows=function(e,t){if(this.filterRows(t).length>0){t.forEach(this.insertSorted.bind(this,this.$scope.displayRows)),this.resize([this.$scope.sizingRow].concat(t)).then(this.setVisibleRows).then(function(){this.$scope.autoScroll&&this.scrollToBottom()}.bind(this));var n=this.timeApi.timeOfInterest();-1!==n&&this.setTimeOfInterestRow(n)}},n.prototype.removeRows=function(e,t){var n;t.forEach(function(e){n=this.$scope.displayRows.indexOf(e),-1!==n&&this.$scope.displayRows.splice(n,1)},this),this.$scope.sizingRow=this.buildLargestRow([this.$scope.sizingRow].concat(t)),this.setElementSizes(),this.setVisibleRows().then(function(){this.$scope.autoScroll&&this.scrollToBottom()}.bind(this))},n.prototype.onScroll=function(e){this.$window.requestAnimationFrame(function(){this.setVisibleRows(),this.digest(),this.scrollable[0].scrollTop<this.scrollable[0].scrollHeight-this.scrollable[0].offsetHeight-20?this.$scope.autoScroll=!1:this.$scope.autoScroll=!0,this.scrolling=!1}.bind(this))},n.prototype.firstVisible=function(){var e,t=this.scrollable[0],n=t.scrollTop;return e=n<this.$scope.headerHeight?0:Math.floor((n-this.$scope.headerHeight)/this.$scope.rowHeight)},n.prototype.lastVisible=function(){var e,t=this.scrollable[0],n=t.scrollTop,i=n+t.offsetHeight;return e=Math.ceil((i-this.$scope.headerHeight)/this.$scope.rowHeight)},n.prototype.setVisibleRows=function(){var e,t,n,i,r,o,s=this;if(this.$scope.displayRows.length<this.maxDisplayRows)r=0,o=this.$scope.displayRows.length;else if(n=this.firstVisible(),i=this.lastVisible(),e=i-n,t=this.maxDisplayRows-e,r=n-Math.floor(t/2),o=i+Math.ceil(t/2),0>r?(r=0,o=Math.min(this.maxDisplayRows,this.$scope.displayRows.length)):o>=this.$scope.displayRows.length&&(o=this.$scope.displayRows.length,r=o-this.maxDisplayRows+1),this.$scope.visibleRows[0]&&this.$scope.visibleRows[0].rowIndex===r&&this.$scope.visibleRows[this.$scope.visibleRows.length-1].rowIndex===o)return this.digest();return this.$scope.visibleRows=this.$scope.displayRows.slice(r,o).map(function(e,t){return{rowIndex:r+t,offsetY:(r+t)*s.$scope.rowHeight+s.$scope.headerHeight,contents:e}}),this.digest()},n.prototype.setHeaders=function(e){e&&(this.$scope.displayHeaders=e,this.$scope.enableFilter&&(this.$scope.filters={}),this.$scope.enableSort&&-1===e.indexOf(this.$scope.sortColumn)&&(this.$scope.sortColumn=void 0,this.$scope.sortDirection=void 0),this.setRows(this.$scope.rows))},n.prototype.setElementSizes=function(){var e,t=this.resultsHeader,n=this.sizingTableBody,i=n.find("tr"),r=i.find("td"),o=t.prop("offsetHeight"),s=i.prop("offsetHeight"),a=0,c=o+s*(this.$scope.displayRows?this.$scope.displayRows.length-1:0);for(this.$scope.columnWidths=[];r.length;)e=r.prop("offsetWidth"),this.$scope.columnWidths.push(r.prop("offsetWidth")),a+=e,r=r.next();this.$scope.headerHeight=o,this.$scope.rowHeight=s,this.$scope.totalHeight=c,a>0?this.$scope.totalWidth=a+"px":this.$scope.totalWidth="none"},n.prototype.findInsertionPoint=function(e,t){for(var n=this.binarySearch(e,t,0,e.length-1),i=n,r=function(){return 0===this.sortComparator(t,e[i][this.$scope.sortColumn].text)}.bind(this);i>=0&&i<e.length&&r();)n="asc"===this.$scope.sortDirection?++i:i--;return n},n.prototype.binarySearch=function(e,t,n,i){var r=Math.floor((i-n)/2)+n;if(n>i)return n;switch(this.sortComparator(t,e[r][this.$scope.sortColumn].text)){case-1:return this.binarySearch(e,t,n,r-1);case 0:return r;case 1:return this.binarySearch(e,t,r+1,i)}},n.prototype.insertSorted=function(e,t){var n=-1;n=this.$scope.sortColumn&&this.$scope.sortDirection?this.findInsertionPoint(e,t[this.$scope.sortColumn].text):e.length,-1===n?e.unshift(t):n===e.length?e.push(t):e.splice(n,0,t)},n.prototype.sortComparator=function(e,t){function n(e){var t=isNaN(Number(e))||isNaN(parseFloat(e))?e:Number(e);return t}var i,r,o,s=0;return r=n(e),o=n(t),"number"==typeof r&&"number"==typeof o&&(e=r,t=o),"string"==typeof e&&"string"==typeof t&&(e=e.toLowerCase(),t=t.toLowerCase()),t>e&&(s=-1),e>t&&(s=1),"asc"===this.$scope.sortDirection?i=1:"desc"===this.$scope.sortDirection&&(i=-1),s*i},n.prototype.sortRows=function(e){var t=this,n=this.$scope.sortColumn;return this.$scope.sortColumn&&this.$scope.sortDirection?e.sort(function(e,i){return t.sortComparator(e[n].text,i[n].text)}):e},n.prototype.buildLargestRow=function(e){var t=e.reduce(function(e,t){return Object.keys(t).forEach(function(n){var i,r,o,s;t[n]&&(i=t[n].text,r=i&&i.length?i.length:i,o=e[n]?e[n].text:"",s=o.length,r>s&&(e[n]=JSON.parse(JSON.stringify(t[n]))))}),e},JSON.parse(JSON.stringify(e[0]||{})));return t},n.prototype.digest=function(){var e=this.$scope,t=this,n=this.$window.requestAnimationFrame,i=this.digestPromise;return i||(t.digestPromise=i=new Promise(function(i){n(function(){e.$digest(),t.digestPromise=void 0,i()})})),i},n.prototype.resize=function(e){return this.$scope.sizingRow=this.buildLargestRow(e),this.digest().then(this.setElementSizes)},n.prototype.filterAndSort=function(e){var t=e;return this.$scope.enableFilter&&(t=this.filterRows(t)),this.$scope.enableSort&&(t=this.sortRows(t.slice(0))),t},n.prototype.setRows=function(e){return this.$scope.displayHeaders&&e?(this.$scope.displayRows=this.filterAndSort(e||[]),this.resize(e).then(function(e){return this.setVisibleRows(e)}.bind(this)).then(function(){var e=this.timeApi.timeOfInterest();e&&(this.setTimeOfInterestRow(e),this.scrollToRow(this.$scope.toiRowIndex))}.bind(this))):void 0},n.prototype.filterRows=function(e){function t(e,t){return Object.keys(e).every(function(n){if(!t[n])return!1;var i=String(t[n].text).toLowerCase();return-1!==i.indexOf(e[n])})}var n={},i=this;return Object.keys(this.$scope.filters).length?(Object.keys(this.$scope.filters).forEach(function(e){i.$scope.filters[e]&&(n[e]=i.$scope.filters[e].toLowerCase())}),e.filter(t.bind(null,n))):e},n.prototype.scrollToRow=function(e){var t=e>this.firstVisible()&&e<this.lastVisible();if(!t){var n=e*this.$scope.rowHeight+this.$scope.headerHeight-this.scrollable[0].offsetHeight/2;this.scrollable[0].scrollTop=n,this.setVisibleRows()}},n.prototype.setTimeOfInterestRow=function(e){var t=this.$scope.timeColumns&&-1!==this.$scope.timeColumns.indexOf(this.$scope.sortColumn);if(this.$scope.toiRowIndex=-1,e&&t){var n=this.toiFormatter.format(e),i=this.binarySearch(this.$scope.displayRows,n,0,this.$scope.displayRows.length-1);i>0&&i<this.$scope.displayRows.length&&(this.$scope.toiRowIndex=i)}},n.prototype.changeTimeOfInterest=function(e){this.setTimeOfInterestRow(e),this.scrollToRow(this.$scope.toiRowIndex)},n.prototype.changeBounds=function(e){this.setTimeOfInterestRow(this.timeApi.timeOfInterest()),-1!==this.$scope.toiRowIndex&&this.scrollToRow(this.$scope.toiRowIndex)},n.prototype.onRowClick=function(e,t){if(-1!==this.$scope.timeColumns.indexOf(this.$scope.sortColumn)){var n=this.$scope.displayRows[t][this.$scope.sortColumn].text;n&&this.toiFormatter.validate(n)&&e.altKey&&this.timeApi.timeOfInterest(this.toiFormatter.parse(n))}},n}),n("text!platform/features/table/res/templates/mct-table.html",[],function(){return'<div class="l-control-bar">\n    <a class="s-button t-export icon-download labeled"\n       ng-click="exportAsCSV()"\n       title="Export This View\'s Data">\n        Export\n    </a>\n</div>\n<div class="l-view-section scrolling" style="overflow: auto;" mct-resize="resize()">\n    <table class="sizing-table">\n        <tbody>\n            <tr>\n                <td ng-repeat="header in displayHeaders">{{header}}</td>\n            </tr>\n            <tr><td ng-repeat="header in displayHeaders" >\n                {{sizingRow[header].text}}\n            </td></tr>\n        </tbody>\n    </table>\n    <table class="filterable mct-table"\n           ng-style="{\n            height: totalHeight + \'px\',\n            \'max-width\': totalWidth\n            }">\n        <thead>\n            <tr>\n                <th ng-repeat="header in displayHeaders"\n                    ng-style="{\n                        width: columnWidths[$index] + \'px\',\n                        \'max-width\': columnWidths[$index] + \'px\',\n                    }"\n                    ng-class="[\n                        enableSort ? \'sortable\' : \'\',\n                        sortColumn === header ? \'sort\' : \'\',\n                        sortDirection || \'\'\n                    ].join(\' \')"\n                    ng-click="toggleSort(header)">\n                    {{ header }}\n                </th>\n            </tr>\n            <tr ng-if="enableFilter" class="s-filters">\n                <th ng-repeat="header in displayHeaders"\n                    ng-style="{\n                        width: columnWidths[$index] + \'px\',\n                        \'max-width\': columnWidths[$index] + \'px\',\n                    }">\n                    <input type="text"\n                           ng-model="filters[header]"/>\n                </th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr ng-repeat-start="visibleRow in visibleRows track by $index"\n                ng-if="visibleRow.rowIndex === toiRowIndex"\n                ng-style="{ top: visibleRow.offsetY + \'px\' }"\n                class="l-toi-tablerow">\n                <td colspan="999">\n                    <mct-include key="\'time-of-interest\'"\n                                 class="l-toi-holder pinned"></mct-include>\n                </td>\n            </tr>\n            <tr ng-repeat-end\n                ng-style="{ top: visibleRow.offsetY + \'px\' }"\n                ng-click="table.onRowClick($event, visibleRow.rowIndex)">\n                <td ng-repeat="header in displayHeaders"\n                    ng-style="{\n                        width: columnWidths[$index] + \'px\',\n                        \'max-width\': columnWidths[$index] + \'px\',\n                    }"\n                    class="{{visibleRow.contents[header].cssClass}}">\n                    {{ visibleRow.contents[header].text }}\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n'}),n("platform/features/table/src/directives/MCTTable",["../controllers/MCTTableController","text!../../res/templates/mct-table.html"],function(e,t){function n(){return{restrict:"E",template:t,controller:["$scope","$window","$element","exportService","formatService","openmct",e],controllerAs:"table",scope:{headers:"=",rows:"=",formatCell:"=?",enableFilter:"=?",enableSort:"=?",autoScroll:"=?",timeColumns:"=?",defaultSort:"=?"}}}return n}),n("platform/features/table/src/TableConfiguration",[],function(){function e(e,t){this.domainObject=e,this.columns=[],this.openmct=t}function t(e,t){var n=Object.keys(e),i=Object.keys(t);return n.length!==i.length||n.some(function(n){return e[n]!==t[n]})}return e.prototype.populateColumns=function(e){var t=this,n=this.openmct.telemetry;return this.columns=[],e&&e.forEach(function(e){var i=n.getValueFormatter(e);t.columns.push({getKey:function(){return e.key},getTitle:function(){return e.name},getValue:function(t,n){var r=!(!e.hints.y&&!e.hints.range),o=r&&n&&n.evaluate(t,e),s={text:i.format(t),value:i.parse(t)};return o&&(s.cssClass=o.cssClass),s}})}),this},e.prototype.getHeaders=function(){return this.columns.map(function(e,t){return e.getTitle()||"Column "+(t+1)})},e.prototype.getRowValues=function(e,t){return this.columns.reduce(function(n,i,r){var o=i.getTitle()||"Column "+(r+1),s=i.getValue(t,e);return void 0!==s&&void 0===s.text&&(s.text=""),(void 0===n[o]||void 0===n[o].text||0===n[o].text.length)&&(n[o]=s),n},{})},e.prototype.defaultColumnConfiguration=function(){return((this.domainObject.getModel().configuration||{}).table||{}).columns||{}},e.prototype.saveColumnConfiguration=function(e){this.domainObject.useCapability("mutation",function(t){t.configuration=t.configuration||{},t.configuration.table=t.configuration.table||{},t.configuration.table.columns=e})},e.prototype.buildColumnConfiguration=function(){var e={},n=this.defaultColumnConfiguration();return this.getHeaders().forEach(function(t){e[t]="undefined"==typeof n[t]?!0:n[t]}),this.domainObject.hasCapability("editor")&&this.domainObject.getCapability("editor").isEditContextRoot()&&t(e,n)&&this.saveColumnConfiguration(e),e},e}),n("platform/features/table/src/TelemetryCollection",["lodash","EventEmitter"],function(e,t){function n(){t.call(this,arguments),this.telemetry=[],this.highBuffer=[],this.sortField=void 0,this.lastBounds={},e.bindAll(this,["addOne","iteratee"])}return n.prototype=Object.create(t.prototype),n.prototype.iteratee=function(t){return e.get(t,this.sortField)},n.prototype.bounds=function(t){var n,i,r,o=this.lastBounds.start!==t.start,s=this.lastBounds.end!==t.end,a=0,c=0;return this.lastBounds=t,void 0===this.sortField?void(this.lastBounds=t):(o&&(r=e.set({},this.sortField,t.start),a=e.sortedIndex(this.telemetry,r,this.sortField),n=this.telemetry.splice(0,a)),s&&(r=e.set({},this.sortField,t.end),c=e.sortedLastIndex(this.highBuffer,r,this.sortField),i=this.highBuffer.splice(0,c),this.telemetry=this.telemetry.concat(i)),n&&n.length>0&&this.emit("discarded",n),void(i&&i.length>0&&this.emit("added",i)))},n.prototype.addOne=function(t){var n,i,r,o=!1,s=this.lastBounds&&void 0!==this.lastBounds.start&&void 0!==this.lastBounds.end;if(void 0===this.sortField)return this.telemetry.push(t),!0;if(s?(r=e.get(t,this.sortField)>this.lastBounds.end,i=e.get(t,this.sortField)<this.lastBounds.start,r||i?r&&(n=this.highBuffer):n=this.telemetry):n=this.telemetry,!i){var a,c=e.sortedIndex(n,t,this.sortField);if(c!==n.length){a=e.sortedLastIndex(n,t,this.sortField);var l=n.slice(c,a+1);o=e.findIndex(l,e.isEqual.bind(void 0,t))>-1}if(!o)return n.splice(a||c,0,t),n===this.telemetry}return!1},n.prototype.add=function(e){var t=e.filter(this.addOne);this.emit("added",t)},n.prototype.clear=function(){this.telemetry=[],this.highBuffer=[]},n.prototype.sort=function(t){this.sortField=t,void 0!==t&&(this.telemetry=e.sortBy(this.telemetry,this.iteratee))},n}),n("platform/features/table/src/controllers/TelemetryTableController",["../TableConfiguration","../../../../../src/api/objects/object-utils","../TelemetryCollection","lodash"],function(e,t,n,i){function r(r,o,s){this.$scope=r,this.$timeout=o,this.openmct=s,this.batchSize=1e3,this.columns={},this.unobserveObject=void 0,this.subscriptions=[],this.timeColumns=[],r.rows=[],this.table=new e(r.domainObject,s),this.lastBounds=this.openmct.time.bounds(),this.lastRequestTime=0,this.telemetry=new n,this.lastBounds&&this.telemetry.bounds(this.lastBounds),this.domainObject=t.toNewFormat(r.domainObject.getModel(),r.domainObject.getId()),i.bindAll(this,["destroy","sortByTimeSystem","loadColumns","getHistoricalData","subscribeToNewData","changeBounds","setClock","addRowsToTable","removeRowsFromTable"]),r.$watch("domainObject",function(){this.getData(),this.registerChangeListeners()}.bind(this)),this.setClock(this.openmct.time.clock()),this.$scope.$on("$destroy",this.destroy)}return r.prototype.setClock=function(e){this.$scope.autoScroll=void 0!==e},r.prototype.sortByTimeSystem=function(e){var t,n=this.$scope;n.defaultSort=void 0,void 0!==e&&(this.table.columns.forEach(function(n){n.getKey()===e.key&&(t=n)}),t&&(n.defaultSort=t.getTitle(),this.telemetry.sort(t.getTitle()+".value")))},r.prototype.registerChangeListeners=function(){this.unobserveObject&&this.unobserveObject(),this.unobserveObject=this.openmct.objects.observe(this.domainObject,"*",function(e){this.domainObject=e,this.getData()}.bind(this)),this.openmct.time.on("timeSystem",this.sortByTimeSystem),this.openmct.time.on("bounds",this.changeBounds),this.openmct.time.on("clock",this.setClock),this.telemetry.on("added",this.addRowsToTable),this.telemetry.on("discarded",this.removeRowsFromTable)},r.prototype.addRowsToTable=function(e){this.$scope.$broadcast("add:rows",e)},r.prototype.removeRowsFromTable=function(e){this.$scope.$broadcast("remove:rows",e)},r.prototype.changeBounds=function(e,t){t?this.telemetry.bounds(e):this.getData(),this.lastBounds=e},r.prototype.destroy=function(){this.openmct.time.off("timeSystem",this.sortByTimeSystem),this.openmct.time.off("bounds",this.changeBounds),this.openmct.time.off("clock",this.setClock),this.subscriptions.forEach(function(e){e()}),this.unobserveObject&&this.unobserveObject(),this.subscriptions=[],this.timeoutHandle&&this.$timeout.cancel(this.timeoutHandle),this.$scope=null,this.table=null},r.prototype.loadColumns=function(e){var t=this.openmct.telemetry;if(this.$scope.headers=[],e.length>0){var n=e.map(t.getMetadata.bind(t)),i=t.commonValuesForHints(n,[]);this.table.populateColumns(i);var r=t.commonValuesForHints(n,["domain"]);this.timeColumns=r.map(function(e){return e.name}),this.filterColumns(),this.telemetry.sort(void 0);var o=this.openmct.time.timeSystem();void 0!==o&&this.sortByTimeSystem(o)}return e},r.prototype.getHistoricalData=function(e){var t=this,n=this.openmct,i=n.time.bounds(),r=this.$scope,o=[],s=0,a=this.lastRequestTime=Date.now(),c=this.telemetry,l=new Promise(function(l,u){function d(){c.add(o),r.rows=c.telemetry,r.loading=!1,l(r.rows)}function p(n,i,r){i>=n.length?(s++,s===e.length&&d()):(o=o.concat(n.slice(i,i+t.batchSize).map(t.table.getRowValues.bind(t.table,r))),t.timeoutHandle=t.$timeout(function(){p(n,i+t.batchSize,r)}))}function f(e,i){if(a===t.lastRequestTime){var r=n.telemetry.limitEvaluator(e);p(i,0,r)}else l(o)}function h(e){return n.telemetry.request(e,{start:i.start,end:i.end}).then(f.bind(void 0,e))["catch"](u)}this.$timeout.cancel(this.timeoutHandle),e.length>0?e.forEach(h):(r.loading=!1,l([]))}.bind(this));return l},r.prototype.subscribeToNewData=function(e){function t(e,t){n=i.limitEvaluator(e),o=r.add([s.getRowValues(n,t)])}var n,i=this.openmct.telemetry,r=this.telemetry,o=!1,s=this.table;return this.subscriptions.forEach(function(e){e()}),this.subscriptions=[],e.forEach(function(e){this.subscriptions.push(i.subscribe(e,t.bind(this,e),{}))}.bind(this)),e},r.prototype.getTelemetryObjects=function(){function e(e){return e.filter(t.canProvideTelemetry.bind(t))}var t=this.openmct.telemetry,n=this.openmct.composition;if(t.canProvideTelemetry(this.domainObject))return Promise.resolve([this.domainObject]);var i=n.get(this.domainObject);return i?i.load().then(e):void 0},r.prototype.getData=function(){function e(e){t.loading=!1,console.error(e.stack)}var t=this.$scope;return this.telemetry.clear(),this.telemetry.bounds(this.openmct.time.bounds()),this.$scope.loading=!0,t.rows=[],this.getTelemetryObjects().then(this.loadColumns).then(this.subscribeToNewData).then(this.getHistoricalData)["catch"](e)},r.prototype.filterColumns=function(){var e=this.table.buildColumnConfiguration();this.$scope.headers=Object.keys(e).filter(function(t){return e[t]})},r}),n("platform/features/table/src/controllers/TableOptionsController",[],function(){function e(e){function t(){n.listeners.forEach(function(e){e()})}var n=this;this.$scope=e,this.domainObject=e.domainObject,this.listeners=[],e.columnsForm={},e.$watch("domainObject",function(e){t(),n.populateForm(e.getModel()),n.listeners.push(n.domainObject.getCapability("mutation").listen(function(e){n.populateForm(e)}))}),e.$watchCollection("configuration.table.columns",function(e,t){e!==t&&(n.domainObject.useCapability("mutation",function(t){t.configuration.table.columns=e}),n.domainObject.getCapability("persistence").persist())}),e.$on("$destroy",t)}return e.prototype.populateForm=function(e){var t=((e.configuration||{}).table||{}).columns||{},n=[];this.$scope.columnsForm={name:"Columns",sections:[{name:"Columns",rows:n}]},Object.keys(t).forEach(function(e){n.push({name:e,control:"checkbox",key:e})}),this.$scope.configuration=JSON.parse(JSON.stringify(e.configuration||{}))},e}),n("text!platform/features/table/res/templates/table-options-edit.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="TableOptionsController" class="l-controls-first flex-elem grows l-inspector-part">\n    <em class="t-inspector-part-header" title="Display properties for this object">Table Options</em>\n    <mct-form\n            ng-model="configuration.table.columns"\n            structure="columnsForm"\n            name="columnsFormState"\n            class="flex-elem l-flex-row no-margin">\n    </mct-form>\n</div>\n'}),n("text!platform/features/table/res/templates/telemetry-table.html",[],function(){return'<div ng-controller="TelemetryTableController as tableController"\n     ng-class="{\'loading\': loading}">\n    <mct-table\n        headers="headers"\n        rows="rows"\n        time-columns="tableController.timeColumns"\n        format-cell="formatCell"\n        enableFilter="true"\n        enableSort="true"\n        auto-scroll="autoScroll"\n        default-sort="defaultSort"\n        class="tabular-holder has-control-bar">\n    </mct-table>\n</div>\n'}),n("platform/features/table/bundle",["./src/directives/MCTTable","./src/controllers/TelemetryTableController","./src/controllers/TableOptionsController","../../commonUI/regions/src/Region","../../commonUI/browse/src/InspectorRegion","text!./res/templates/table-options-edit.html","text!./res/templates/telemetry-table.html","legacyRegistry"],function(e,t,n,i,r,o,s,a){var c=new r,l=new i({name:"table-options",title:"Table Options",modes:["edit"],content:{key:"table-options-edit"}});c.addRegion(l),a.register("platform/features/table",{extensions:{types:[{key:"table",name:"Telemetry Table",cssClass:"icon-tabular-realtime",description:"A table of values over a given time period. The table will be automatically updated with new values as they become available",
priority:861,features:"creation",delegates:["telemetry"],inspector:c,contains:[{has:"telemetry"}],model:{composition:[]},views:["table"]}],controllers:[{key:"TelemetryTableController",implementation:t,depends:["$scope","$timeout","openmct"]},{key:"TableOptionsController",implementation:n,depends:["$scope"]}],views:[{name:"Telemetry Table",key:"table",cssClass:"icon-tabular-realtime",template:s,needs:["telemetry"],delegation:!0,editable:!1}],directives:[{key:"mctTable",implementation:e,depends:["$timeout"]}],representations:[{key:"table-options-edit",template:o}],stylesheets:[{stylesheetUrl:"css/table.css",priority:"mandatory"}]}})}),n("platform/features/timeline/src/actions/TimelineTraverser",[],function(){function e(e){this.domainObject=e}return e.prototype.buildObjectList=function(){function e(i){function r(){return i.useCapability("composition").then(function(t){return Promise.all(t.map(e))})}function o(){var t=i.getCapability("relationship");t.getRelatedObjects("modes").then(function(t){return Promise.all(t.map(e))})}var s=i.getId(),a=[];return t[s]||(t[s]=!0,n.push(i),i.hasCapability("composition")&&a.push(r()),i.hasCapability("relationship")&&a.push(o())),Promise.all(a)}var t={},n=[];return e(this.domainObject).then(function(){return n})},e}),n("platform/features/timeline/src/actions/IdColumn",[],function(){function e(e){this.idMap=e}return e.prototype.name=function(){return"Index"},e.prototype.value=function(e){return this.idMap[e.getId()]},e}),n("platform/features/timeline/src/actions/ModeColumn",[],function(){function e(e,t){this.index=e,this.idMap=t}return e.prototype.name=function(){return"Activity Mode "+(this.index+1)},e.prototype.value=function(e){var t=e.getModel(),n=(t.relationships||{}).modes||[];return n.length>this.index?this.idMap[n[this.index]]:""},e}),n("platform/features/timeline/src/actions/CompositionColumn",[],function(){function e(e,t){this.index=e,this.idMap=t}return e.prototype.name=function(){return"Child "+(this.index+1)},e.prototype.value=function(e){var t=e.getModel(),n=t.composition||[];return n.length>this.index?this.idMap[n[this.index]]:""},e}),n("platform/features/timeline/src/actions/MetadataColumn",[],function(){function e(e){this.propertyName=e}return e.prototype.name=function(){return this.propertyName},e.prototype.value=function(e){var t=e.useCapability("metadata"),n=this.propertyName;return t.reduce(function(e,t){return t.name===n?t.value:e},"")},e}),n("platform/features/timeline/src/TimelineFormatter",[],function(){function e(){function e(e,t){for(var n=e.toString(10);n.length<t;)n="0"+n;return n}function o(o){var s=Math.floor(o/r),a=Math.floor(o/i)%24,c=Math.floor(o/n)%60,l=Math.floor(o/t)%60,u=Math.floor(o)%1e3;return e(s,3)+" "+e(a,2)+":"+e(c,2)+":"+e(l,2)+"."+e(u,3)}return{format:o}}var t=1e3,n=60*t,i=60*n,r=24*i;return e}),n("platform/features/timeline/src/actions/TimespanColumn",["../TimelineFormatter"],function(e){function t(e){this.isStart=e}var n=new e;return t.prototype.name=function(){return this.isStart?"Start":"End"},t.prototype.value=function(e){var t=this.isStart;return e.hasCapability("timespan")?e.useCapability("timespan").then(function(e){return n.format(t?e.getStart():e.getEnd())}):""},t}),n("platform/features/timeline/src/actions/UtilizationColumn",[],function(){function e(e){this.resource=e}return e.prototype.name=function(){var e={Kbps:"Kb",watts:"watt-seconds"}[this.resource.units]||"unknown units";return this.resource.name+" ("+e+")"},e.prototype.value=function(e){function t(e){var t=(e.end-e.start)/1e3;return t*e.value}function n(e){return e=e.filter(function(e){return e.key===i.key}),0===e.length?"":e.map(t).reduce(function(e,t){return e+t},0)}var i=this.resource;return e.hasCapability("utilization")?e.getCapability("utilization").internal().then(n):""},e}),n("platform/features/timeline/src/actions/TimelineColumnizer",["./IdColumn","./ModeColumn","./CompositionColumn","./MetadataColumn","./TimespanColumn","./UtilizationColumn"],function(e,t,n,i,r,o){function s(s,a){function c(e){var t=e.name;f[t]||(f[t]=!0,h.push(new i(t)))}var l,u,d=0,p=0,f={},h=[],m=!1;for(l=s.reduce(function(e,t,n){return e[t.getId()]=n+1,e},{}),h.push(new e(l)),s.forEach(function(e){var t=e.getModel(),n=t.composition,i=t.relationships,r=i&&i.modes,o=e.useCapability("metadata");n&&(d=Math.max(d,n.length)),r&&(p=Math.max(p,r.length)),e.hasCapability("timespan")&&(m=!0),o&&o.forEach(c)}),m&&(h.push(new r(!0)),h.push(new r(!1))),a.forEach(function(e){h.push(new o(e))}),u=0;d>u;u+=1)h.push(new n(u,l));for(u=0;p>u;u+=1)h.push(new t(u,l));this.domainObjects=s,this.columns=h}return s.prototype.rows=function(){function e(e){return Promise.all(t.map(function(t){return t.value(e)}))}var t=this.columns;return Promise.all(this.domainObjects.map(e))},s.prototype.headers=function(){return this.columns.map(function(e){return e.name()})},s}),n("platform/features/timeline/src/actions/ExportTimelineAsCSVTask",["./TimelineTraverser","./TimelineColumnizer"],function(e,t){function n(e,t,n){this.domainObject=n,this.exportService=e,this.resources=t}return n.prototype.run=function(){function n(e){var n=new t(e,r),o={headers:n.headers()};return n.rows().then(function(e){return i.exportCSV(e,o)})}var i=this.exportService,r=this.resources;return new e(this.domainObject).buildObjectList().then(n)},n}),n("platform/features/timeline/src/actions/ExportTimelineAsCSVAction",["./ExportTimelineAsCSVTask"],function(e){function t(t,n,i,r,o){this.$log=t,this.task=new e(n,r,o.domainObject),this.notificationService=i}return t.prototype.perform=function(){var e=this.notificationService,t=e.notify({title:"Exporting CSV",unknownProgress:!0}),n=this.$log;return this.task.run().then(function(){t.dismiss()})["catch"](function(i){n.warn(i),t.dismiss(),e.error("Error exporting CSV")})},t.appliesTo=function(e){return e.domainObject&&e.domainObject.hasCapability("type")&&e.domainObject.getCapability("type").instanceOf("timeline")},t}),n("platform/features/timeline/src/controllers/swimlane/TimelineSwimlane",[],function(){function e(e,t,n,i,r){var o,s=e.getId(),a=!1,c=!1,l=(i?i.idPath:[]).concat([e.getId()]),u=i?i.depth+1:0,d=i&&i.parent?i.path+i.domainObject.getModel().name+" > ":"";return e.useCapability("timespan").then(function(e){o=e}),{visible:function(){return!i||i.expanded&&i.visible()},properties:function(){return e.getCapability("action").perform("properties")},toggleGraph:function(){n.graph=n.graph||{},n.graph[s]=!n.graph[s],t[n.graph[s]?"assign":"release"](s)},graph:function(e){return arguments.length>0&&(n.graph=n.graph||{},n.graph[s]=!!e,t[e?"assign":"release"](s)),(n.graph||{})[s]},color:function(e){return arguments.length>0&&t.assign(s,e),t.get(s)},highlight:function(e){return arguments.length>0&&(a=e),a},highlightBottom:function(e){return arguments.length>0&&(c=e),c},exceeded:function(){var e=i&&i.timespan();return o&&e&&(o.getStart()<e.getStart()||o.getEnd()>e.getEnd())},timespan:function(){return o},domainObject:e,expanded:!0,depth:u,path:d,id:s,idPath:l,parent:i,index:r,children:[]}}return e}),n("platform/features/timeline/src/controllers/swimlane/TimelineSwimlaneDropHandler",[],function(){function e(e){function t(){return e.domainObject.hasCapability("editor")&&e.domainObject.getCapability("editor").inEditContext()}function n(e,t){return e||t}function i(e,t){function i(e){return e===t}return e.idPath.map(i).reduce(n,!1)}function r(e,t){function i(e){return e.domainObject.getId()===t}return e.children.map(i).reduce(n,!1)}function o(e,t){return e.useCapability("mutation",t)}function s(){return e.expanded&&e.children.length>0}function a(){return e.highlight()||s()}function c(e,t){var n=t.getCapability("context"),i=n&&n.getParent(),r=i&&i.getId();return e.getId()===r}function l(e,t){var n=e.getCapability("action"),i=t.hasCapability("editor")?"move":"link";return n&&n.getActions({key:i,selectedObject:t})[0]}function u(e,t,n){return Math.max(Math.min((n||[]).indexOf(e)+t,(n||[]).length),0)}function d(t,n,i){var r=e.domainObject.getId();return o(n,function(e){e.composition=e.composition.filter(function(e){return e!==t}),e.composition.splice(u(r,i,e.composition),0,t)})}function p(e,t){return c(e,t)||!!l(e,t)}function f(e,t,n){function i(){var i=e.getId();return d(i,t,n)}return c(t,e)?i():l(t,e).perform().then(i)}return{allowDropIn:function(n,o){return t()&&!i(e,n)&&!r(e,n)&&p(e.domainObject,o)},allowDropAfter:function(n,r){var o=s()?e:e.parent;return t()&&o&&!i(o,n)&&p(o.domainObject,r)},drop:function(t,n){var i=a(),r=i?e.domainObject:e.parent.domainObject,o=i?e.expanded&&e.highlightBottom()?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY:1;return e.highlight()||e.highlightBottom()?f(n,r,o):void 0}}}return e}),n("platform/features/timeline/src/controllers/swimlane/TimelineSwimlaneDecorator",["./TimelineSwimlaneDropHandler"],function(e){function t(t,i){function r(e){return arguments.length>0&&Array.isArray(e)&&(u.relationships||{})[n]!==e&&d.mutate(function(t){t.relationships=t.relationships||{},t.relationships[n]=e}),(u.relationships||{})[n]||[]}function o(e){return arguments.length>0&&"string"==typeof e&&e!==u.link&&d.mutate(function(t){t.link=e}),u.link}function s(){return l.getCapability("action").perform("remove")}function a(){i.select(t)}function c(){return i.get()===t}var l=t&&t.domainObject,u=l&&l.getModel()||{},d=l&&l.getCapability("mutation"),p=l&&l.getCapability("type"),f=new e(t);return p&&p.instanceOf("activity")&&d&&(t.modes=r,t.link=o),t.parent&&(t.remove=s),i&&(t.select=a,t.selected=c),t.allowDropIn=f.allowDropIn,t.allowDropAfter=f.allowDropAfter,t.drop=f.drop,t}var n="modes";return t}),n("platform/features/timeline/src/controllers/swimlane/TimelineColorAssigner",[],function(){function e(e){function i(){var i,r={};return Object.keys(e).forEach(function(t){r[e[t]]=!0}),t.forEach(function(e){i=r[e]||i?i:e}),i||n}return{get:function(t){return e[t]},assign:function(t,n){e[t]="string"==typeof n?n:i()},release:function(t){delete e[t]}}}var t=["#20b2aa","#9acd32","#ff8c00","#d2b48c","#40e0d0","#4169ff","#ffd700","#6a5acd","#ee82ee","#cc9966","#99cccc","#66cc33","#ffcc00","#ff6633","#cc66ff","#ff0066","#ffff00","#800080","#00868b","#008a00","#ff0000","#0000ff","#f5deb3","#bc8f8f","#4682b4","#ffafaf","#43cd80","#cdc1c5","#a0522d","#6495ed"],n="#000000";return e}),n("platform/features/timeline/src/controllers/swimlane/TimelineProxy",[],function(){function e(e,t){function n(e){var t=e.getCapability("action"),n=t?t.getActions("add"):[];n.forEach(function(e){r[e.getMetadata().type]=e})}function i(){var i=t&&t.get(),r=i&&i.domainObject;n(r||e)}var r={};return n(e),{add:function(e){return i(),r[e]?r[e].perform():void 0}}}return e}),n("platform/features/timeline/src/controllers/swimlane/TimelineSwimlanePopulator",["./TimelineSwimlane","./TimelineSwimlaneDecorator","./TimelineColorAssigner","./TimelineProxy"],function(e,t,n,i){function r(r,o,s){function a(e){e&&(g=Math.min(g,e.getStart()),y=Math.max(y,e.getEnd()))}function c(n,i,r){function l(e,t){c(e,u,t)}var u,d=n.domainObject;d&&(u=new t(new e(d,f,o,i,r||0),s),d.useCapability("timespan").then(a),m.push(u),((i||{}).children||[]).push(u),n.composition.forEach(l))}function l(e,t,n){var i=e[n||0];n=n||0,t.forEach(function(t){t.id===i&&(n<e.length-1?l(e,t.children,n+1):s.select(t))})}function u(e){function t(e){var t=s&&s.get(),n=t&&t.idPath;m=[],c(e),n&&m.length>0&&l(n,[m[0]])}e?r.load(e,"timespan").then(t):t({}),s&&s.proxy(e&&new i(e,s)),h=e}function d(e){s=e,u(h)}function p(){var e=o.colors||{};f=new n(e),o.colors=e,u(h)}var f,h,m=[],g=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY;return p(),{selection:d,populate:u,get:function(){return m},start:function(){return g},end:function(){return y},configure:function(e){o=e,p()}}}return r}),n("platform/features/timeline/src/controllers/graph/TimelineGraph",[],function(){function e(e,t,n){function i(){return p>=f?f-1:p}function r(){return p>=f?p+1:f}function o(){p=d.map(function(e){return e.min}).reduce(function(e,t){return Math.min(e,t)},Number.POSITIVE_INFINITY),f=d.map(function(e){return e.max}).reduce(function(e,t){return Math.max(e,t)},Number.NEGATIVE_INFINITY),p=p===Number.POSITIVE_INFINITY?f:p,p=p===Number.NEGATIVE_INFINITY?0:p,f=f===Number.NEGATIVE_INFINITY?p:f}function s(){l.lines=u.filter(function(e){return e.points>1}),l.origin[1]=i(),l.dimensions[1]=r()-i()}function a(e,t){var i,r=n.render(e),a=u[t],c=d[t];for(i=1;i<r.length;i+=2)c.min=Math.min(r[i],c.min),c.max=Math.max(r[i],c.max);a.buffer=r,a.points=e.getPointCount(),a.color=n.decode(h[t]),a.points>0&&o(),s()}function c(n,i){var r=t[n],o=r.useCapability("graph");o&&o.then(function(t){t[e]&&a(t[e],i)})}var l={origin:[0,0],dimensions:[0,0],modified:0},u=[],d=[],p=0,f=0,h=Object.keys(t);return u=h.map(function(){return{points:0}}),d=h.map(function(){return{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}}),h.forEach(c),{minimum:i,maximum:r,setBounds:function(e,t){l.origin=[e,l.origin[1]],l.dimensions=[t,l.dimensions[1]]},refresh:function(){h.forEach(c)},key:e,drawingObject:l}}return e}),n("platform/features/timeline/src/controllers/graph/TimelineGraphRenderer",[],function(){function e(){return{render:function(e){var t,n=e.getPointCount(),i=new Float32Array(2*n);for(t=0;n>t;t+=1)i[2*t]=e.getDomainValue(t),i[2*t+1]=e.getRangeValue(t);return i},decode:function(e){return e=/^#[A-Fa-f0-9]{6}$/.test(e)?e:"#000000",[e.substring(1,3),e.substring(3,5),e.substring(5,7)].map(function(e){return parseInt(e,16)/255}).concat([1])}}}return e}),n("platform/features/timeline/src/controllers/graph/TimelineGraphPopulator",["./TimelineGraph","./TimelineGraphRenderer"],function(e,t){function n(n){function i(e,t){return(e&&e.getId&&e.getId())===(t&&t.getId&&t.getId())}function r(e,t){function n(n){return n.map(function(n){return r(e[n],t[n])}).reduce(function(e,t){return e&&t},!0)}var o,s;return"function"==typeof(e&&e.getId)?i(e,t):(o=Object.keys(e||{}).sort(),s=Object.keys(t||{}).sort(),o.length===s.length&&n(o))}function o(t){function i(e){function t(e){return Object.keys(e)}var i=e.domainObject.useCapability("graph");return n.when(i?i.then(t):[])}function o(e){return i(e).then(function(t){t.forEach(function(t){p[t]=p[t]||{},p[t][e.color()]=e.domainObject})})}function l(t){return new e(t,p[t],c)}function u(e){return e.graph()&&e.domainObject.hasCapability("graph")}function d(){r(a,p)?s.forEach(function(e){e.refresh()}):(s=Object.keys(p).sort().map(l),a=p)}var p={};n.all(t.filter(u).map(o)).then(d)}var s=[],a={},c=new t;return{populate:o,get:function(){return s}}}return n}),n("platform/features/timeline/src/controllers/drag/TimelineDragHandler",[],function(){function e(e,t){function n(e){return"string"!=typeof e&&e.getId?e.getId():e}function i(e){var t=e.getId(),n=e.useCapability("timespan");n&&n.then(function(n){s[t]=n,a[t]=e.getCapability("mutation"),c[t]=e.getModel().composition||[]})}function r(e){i(e.domainObject),e.composition.forEach(r)}function o(e){var t=a[e];t&&t.mutate(function(){})}var s={},a={},c={},l={};return t.load(e,"timespan").then(r),{ids:function(){return Object.keys(s).sort()},persist:function(){Object.keys(l).forEach(o),l={}},start:function(e,t){var i=s[n(e)];return"number"==typeof t&&i&&(i.setStart(Math.min(Math.max(t,0),i.getEnd())),l[n(e)]=!0),i&&i.getStart()},end:function(e,t){var i=s[n(e)];return"number"==typeof t&&i&&(i.setEnd(Math.max(t,i.getStart())),l[n(e)]=!0),i&&i.getEnd()},duration:function(e,t){var i=s[n(e)];return"number"==typeof t&&i&&(i.setDuration(Math.max(t,0)),l[n(e)]=!0),i&&i.getDuration()},move:function(e,t){function i(e){var i,r,o=s[e];o&&(i=o.getStart(),r=o.getEnd(),o.setStart(i+t),o.setEnd(r+t),l[n(e)]=!0)}for(var r,o={},a=[n(e)];a.length>0;)e=a.shift(),o[e]||(o[e]=!0,a=a.concat(c[e]||[]));r=Object.keys(o).map(function(e){return s[e]?s[e].getStart():Number.POSITIVE_INFINITY}).reduce(function(e,t){return Math.min(e,t)},Number.POSITIVE_INFINITY),t=Math.max(t,-r),0!==t&&Object.keys(o).forEach(i)}}}return e}),n("platform/features/timeline/src/controllers/drag/TimelineSnapHandler",[],function(){function e(e){function t(t,n,i){function r(e){return e!==i}function o(e){var n=Math.abs(e-t);d>n&&(u=e,d=n)}function s(t){return e.start(t)}function a(t){return e.end(t)}var c,l,u=t,d=n;return c=e.ids().filter(r),l=c.map(s).concat(c.map(a)),l.forEach(o),u}return{snap:t}}return e}),n("platform/features/timeline/src/TimelineConstants",{HANDLE_WIDTH:32,SNAP_WIDTH:16}),n("platform/features/timeline/src/controllers/drag/TimelineStartHandle",["../../TimelineConstants"],function(e){function t(t,n,i){function r(n,r){return i.snap(n,r.toMillis(e.SNAP_WIDTH),t)}var o;return{begin:function(){o=n.start(t)},drag:function(e,i){void 0!==o&&n.start(t,r(o+i.toMillis(e),i))},finish:function(){o=void 0,n.persist()},style:function(i){return{left:i.toPixels(n.start(t))+"px",width:e.HANDLE_WIDTH+"px"}}}}return t}),n("platform/features/timeline/src/controllers/drag/TimelineEndHandle",["../../TimelineConstants"],function(e){function t(t,n,i){function r(n,r){return i.snap(n,r.toMillis(e.SNAP_WIDTH),t)}var o;return{begin:function(){o=n.end(t)},drag:function(e,i){void 0!==o&&n.end(t,r(o+i.toMillis(e),i))},finish:function(){o=void 0,n.persist()},style:function(i){return{left:i.toPixels(n.end(t))-e.HANDLE_WIDTH+"px",width:e.HANDLE_WIDTH+"px"}}}}return t}),n("platform/features/timeline/src/controllers/drag/TimelineMoveHandle",["../../TimelineConstants"],function(e){function t(t,n,i){function r(n,r){return i.snap(n,r.toMillis(e.SNAP_WIDTH),t)}function o(e,i){var o=i.toMillis(e),c=s+o,l=a+o,u=r(c,i),d=r(l,i),p=Math.abs(u-c),f=Math.abs(d-l),h=!1;return h=p>0&&f>0?p>f:f>0,h?d-n.end(t):u-n.start(t)}var s,a;return{begin:function(){s=n.start(t),a=n.end(t)},drag:function(e,i){void 0!==s&&void 0!==a&&0!==e&&n.move(t,o(e,i))},finish:function(){s=void 0,a=void 0,n.persist()},style:function(i){return{left:i.toPixels(n.start(t))+e.HANDLE_WIDTH+"px",width:i.toPixels(n.duration(t))-2*e.HANDLE_WIDTH+"px"}}}}return t}),n("platform/features/timeline/src/controllers/drag/TimelineDragHandleFactory",["./TimelineStartHandle","./TimelineEndHandle","./TimelineMoveHandle"],function(e,t,n){function i(e,t){return{handles:function(n){function i(n){return new n(a,e,t)}var s=n.getCapability("type"),a=n.getId();return(s&&s.instanceOf("timeline")?o:r).map(i)}}}var r=[e,n,t],o=[e,n];return i}),n("platform/features/timeline/src/controllers/drag/TimelineDragPopulator",["./TimelineDragHandler","./TimelineSnapHandler","./TimelineDragHandleFactory"],function(e,t,n){function i(i){function r(){l=a&&c?a.handles(c):[]}function o(o){var s=o&&new e(o,i);a=s&&new n(s,new t(s)),r()}function s(e){c=e&&e.domainObject,r()}var a,c,l=[];return{get:function(){return l},populate:o,select:s}}return i}),n("platform/features/timeline/src/controllers/TimelineController",["./swimlane/TimelineSwimlanePopulator","./graph/TimelineGraphPopulator","./drag/TimelineDragPopulator"],function(e,t,n){function i(i,r,o,s){function a(){var e=0;return p.get().forEach(function(t){e+=t.domainObject.getModel().modified||0}),e}function c(){var e=0,t=1;return p.get().forEach(function(n){e+=n.graph()?0:t,t*=2}),e}function l(){p.populate(i.domainObject),h.populate(i.domainObject),f.populate(p.get())}function u(){f.populate(p.get())}function d(){f&&f.get().forEach(function(e){e.refresh()})}var p=new e(o,i.configuration||{},i.selection),f=new t(r),h=new n(o);return i.$watch("configuration",p.configure),i.$watch("domainObject",p.populate),i.$watch(a,l),i.$watch(c,u),i.$watch("selection",p.selection),i.$watch("selection.get()",h.select),i.scroll={x:0,y:0},i.panes={},{end:p.end.bind(p),swimlanes:p.get,graphs:f.get,handles:h.get,refresh:d}}return i}),n("platform/features/timeline/src/controllers/TimelineGraphController",[],function(){function e(e,t){function n(e){var t=e.key;t&&!r[t]&&(r[t]=e)}function i(e){(e.graphs||[]).forEach(function(t){t.setBounds(e.origin,e.duration)})}var r={},o={};return t.forEach(n),e.$watchCollection("parameters",i),{label:function(e){var t=e.key,n=r[t]||{},i=n.name||"",s=n.units,a=e.minimum()||0,c=e.maximum()||0,l=o[t]||{};return o[t]=l,l.title=i+(s?" ("+s+")":""),l.low=a.toFixed(3),l.middle=((a+c)/2).toFixed(3),l.high=c.toFixed(3),l}}}return e}),n("platform/features/timeline/src/controllers/TimelineDateTimeController",[],function(){function e(e){function t(t){var n,i=parseInt(t.days,10)||0,r=parseInt(t.hours,10)||0,o=parseInt(t.minutes,10)||0,s=parseInt(t.seconds,10)||0,a="SET";n=24*i,n=60*(r+n),n=60*(o+n),n=1e3*(s+n),e.ngModel[e.field]={timestamp:n,epoch:a}}function n(t){var n=(t||{}).timestamp||0,i=e.datetime;n=Math.floor(n/1e3),i.seconds=n%60,n=Math.floor(n/60),i.minutes=n%60,n=Math.floor(n/60),i.hours=n%24,n=Math.floor(n/24),i.days=n}function i(){return e.ngModel[e.field]}e.$watchCollection("datetime",t),e.$watchCollection(i,n),e.datetime={},n(i())}return e}),n("platform/features/timeline/src/controllers/TimelineZoomController",[],function(){function e(e,n,i){function r(e){return e/p*u[d]}function o(e){return p*e/u[d]}function s(e){isNaN(e)||(d=Math.min(Math.max(e,0),u.length-1))}function a(t){n.requestAnimationFrame(function(){e.scroll.x=t,e.$apply()})}function c(t){var n=t.getDuration();for(d=0;r(e.scroll.width)<n&&d<u.length-1;)d+=1;a(o(t.getStart()))}function l(){e.domainObject&&e.domainObject.useCapability("timespan").then(c)}var u=i.levels||[1e3],d=Math.floor(u.length/2),p=i.width||200;return e.$watch("domainObject",l),{zoom:function(t){if(arguments.length>0&&!isNaN(t)){var n=e.scroll,i=this.toMillis(n.x+n.width/2);s(d+t),a(this.toPixels(i)-n.width/2)}return u[d]},fit:l,toPixels:o,toMillis:r,width:function(n){var i=Math.ceil(o(n*(1+t)));return Math.max(e.scroll.width,i)}}}var t=.25;return e}),n("platform/features/timeline/src/controllers/TimelineTickController",["../TimelineFormatter"],function(e){function t(){function e(e,t,i,r){for(var o,s=[];s.length<t;)o=e+i*s.length,s.push({left:o,text:n.format(r(o))});return s}function t(t,n,l,u){var d=Math.floor(t/l)*l,p=Math.ceil((t+n)/l)*l,f=(p-d)/l+1,h=u(d),m=u(p),g=i!==d||o!==f||r!==l||s!==h||a!==m;return g&&(c=e(d,f,l,u),i=d,o=f,r=l,s=h,a=m),c}var i,r,o,s,a,c=[];return{labels:t}}var n=new e;return t}),n("platform/features/timeline/src/controllers/TimelineTableController",["../TimelineFormatter"],function(e){function t(){function e(e){return n.format(e)}return{niceTime:e}}var n=new e;return t}),n("platform/features/timeline/src/controllers/TimelineGanttController",[],function(){function e(e){function t(t,n,i){return Math.max(i(t.getStart()),n.x-e)}function n(n,i,r){var o=t(n,i,r),s=Math.min(r(n.getEnd()),i.x+i.width+e);return s-o}return{left:t,width:n}}return e}),n("platform/features/timeline/src/controllers/ActivityModeValuesController",[],function(){function e(e){function t(e){var t=(e||{}).key;t&&(n[t]=e)}var n={};return e.forEach(t),{metadata:function(e){return n[e]}}}return e}),n("platform/features/timeline/src/capabilities/ActivityTimespan",[],function(){function e(e,t){function n(){return e.start.timestamp}function i(){return e.start.timestamp+e.duration.timestamp}function r(){return e.duration.timestamp}function o(){return e.start.epoch}function s(n){var r=i();t.mutate(function(e){e.start.timestamp=Math.max(n,0),e.duration.timestamp=Math.max(r-n,0)},e.modified)}function a(n){t.mutate(function(e){e.duration.timestamp=Math.max(n,0)},e.modified)}function c(i){var r=n();t.mutate(function(e){e.duration.timestamp=Math.max(i-r,0)},e.modified)}return{getStart:n,getDuration:r,getEnd:i,setStart:s,setDuration:a,setEnd:c,getEpoch:o}}return e}),n("platform/features/timeline/src/capabilities/ActivityTimespanCapability",["./ActivityTimespan"],function(e){function t(t,n){function i(){return t.when(new e(n.getModel(),n.getCapability("mutation")))}return{invoke:i}}return t.appliesTo=function(e){return e&&"activity"===e.type},t}),n("platform/features/timeline/src/capabilities/TimelineTimespan",[],function(){function e(e,t,n){function i(){return e.start.timestamp}function r(e){return e.getEnd()}function o(e,t){return Math.max(e,t)}function s(){return n.map(r).reduce(o,i())}function a(){return s()-i()}function c(n){t.mutate(function(e){e.start.timestamp=Math.max(n,0)},e.modified)}function l(){}function u(){}function d(){return e.start.epoch}return{getStart:i,getDuration:a,getEnd:s,setStart:c,setDuration:l,setEnd:u,getEpoch:d}}return e}),n("platform/features/timeline/src/capabilities/TimelineTimespanCapability",["./TimelineTimespan"],function(e){function t(t,n){function i(e){return e.useCapability("timespan")}function r(e){return e.hasCapability("timespan")}function o(t){return new e(n.getModel(),n.getCapability("mutation"),t)}function s(e){return t.all(e.filter(r).map(i)).then(o)}function a(){return n.useCapability("composition").then(s)}return{invoke:a}}return t.appliesTo=function(e){return e&&"timeline"===e.type},t}),n("platform/features/timeline/src/capabilities/UtilizationCapability",[],function(){function e(e,t){function n(e,t){return(e||[]).concat(t||[])}function i(e,t,n){return 0===t||n[t-1]!==e}function r(e){return e.filter(i)}function o(e){return e.sort()}function s(e){return e.reduce(n,[])}function a(){return e.when(t.useCapability("composition")||[])}function c(){var n=t.getCapability("relationship"),i=n&&n.getRelatedObjects("modes");return e.when(i||[])}function l(){function e(e){var t=e.getCapability("cost");t&&t.resources().forEach(function(e){o[e]=o[e]||0,o[e]+=t.cost(e)})}function n(t){t.forEach(e)}function i(){return t.useCapability("timespan")}function r(e){return Object.keys(o).sort().map(function(t){return{key:t,value:o[t],start:e.getStart(),end:e.getEnd(),epoch:e.getEpoch()}})}var o={};return c().then(n).then(i).then(r)}function u(e){return e.useCapability("utilization")}function d(e){var t=e.getCapability("utilization");return t&&t.resources()}function p(t){return e.all(t.map(u)).then(s)}function f(t){return e.all(t.map(d)).then(s)}function h(){return a().then(p)}function m(e){var t=e.getCapability("cost");return t?t.resources():[]}function g(e){return e.map(m)}function y(){return c().then(g).then(s)}function v(){return a().then(f)}function b(){return e.all([y(),v()]).then(s).then(o).then(r)}function w(){return e.all([l(),h()]).then(s)}return{resources:b,internal:l,invoke:w}}return e.appliesTo=function(e){return e&&("timeline"===e.type||"activity"===e.type)},e}),n("platform/features/timeline/src/capabilities/ResourceGraph",[],function(){function e(e,t){return e.slice().sort(function(e,n){return e[t]-n[t]})}function t(t){function n(e,t,n){return 0===t||t===n.length-1||e.domain!==n[t-1].domain||e.domain!==n[t+1].domain}function i(e,t){l.push({domain:e,range:u}),u+=t,l.push({domain:e,range:u})}function r(){var e=a.shift();i(e.start,e.value)}function o(){var e=c.shift();i(e.end,-e.value)}function s(){return c.length<1||a.length>0&&a[0].start<=c[0].end}for(var a=e(t,"start"),c=e(t,"end"),l=[],u=0;a.length>0||c.length>0;)(s()?r:o)();return l=l.filter(n),{getPointCount:function(){return l.length},getDomainValue:function(e){return l[e].domain},getRangeValue:function(e){return l[e].range}}}return t}),n("platform/features/timeline/src/capabilities/CumulativeGraph",[],function(){function e(e,t,n,i,r){function o(e,t,n,i){return e+(i-t)/n}function s(){function s(e,i){var s=c[c.length-1],a=e-s.domain,u=a*l*r,d=s.range+u;t>d&&(c.push({domain:o(s.domain,s.range,l*r,t),range:t}),d=t),d>n&&(c.push({domain:o(s.domain,s.range,l*r,n),range:n}),d=n),a>0&&c.push({domain:e,range:d}),l=i}var a,c=[],l=0;for(c.push({domain:0,range:i}),a=0;a<e.getPointCount();a+=1)s(e.getDomainValue(a),e.getRangeValue(a));return c}function a(e){e.range=100*(e.range-t)/(n-t)}var c;return c=s(),c.forEach(a),{getPointCount:function(){return c.length},getDomainValue:function(e){return c[e].domain},getRangeValue:function(e){return c[e].range}}}return e}),n("platform/features/timeline/src/capabilities/GraphCapability",["./ResourceGraph","./CumulativeGraph"],function(e,t){function n(n,i){function r(n){var r,o={},s={};return n.forEach(function(e){var t=e.key;o[t]=o[t]||[],o[t].push(e)}),Object.keys(o).forEach(function(t){s[t]=new e(o[t])}),"timeline"===i.getModel().type&&s.power&&i.getModel().capacity>0&&(r=isNaN(parseFloat(i.getModel().startingSOC))?100:parseFloat(i.getModel().startingSOC),s.battery=new t(s.power,0,i.getModel().capacity,r/100*i.getModel().capacity,1/36e5)),s}return{invoke:function(){return n.when(i.useCapability("utilization")||[]).then(r)}}}return n.appliesTo=function(e){return e&&("timeline"===e.type||"activity"===e.type)},n}),n("platform/features/timeline/src/capabilities/CostCapability",[],function(){function e(e){var t=e.getModel();return{resources:function(){return Object.keys(t.resources||{}).sort()},cost:function(e){return(t.resources||{})[e]||0},invoke:function(){return t.resources||{}}}}return e.appliesTo=function(e){return"mode"===(e||{}).type},e}),n("platform/features/timeline/src/directives/SwimlaneDragConstants",{MCT_DRAG_TYPE:"mct-domain-object-id",MCT_EXTENDED_DRAG_TYPE:"mct-domain-object",TIMELINE_SWIMLANE_DRAG_TYPE:"timeline-swimlane"}),n("platform/features/timeline/src/directives/MCTSwimlaneDrop",["./SwimlaneDragConstants"],function(e){function t(t){function n(n,i,r){var o=(n||{}).originalEvent||n,s=i[0].offsetHeight,a=i[0].getBoundingClientRect(),c=o.pageY-a.top,l=t.getData(e.MCT_DRAG_TYPE),u=t.getData(e.MCT_EXTENDED_DRAG_TYPE);return l&&(o.dataTransfer.dropEffect="move",r.highlight(.75*s>c&&r.allowDropIn(l,u)),r.highlightBottom(c>=.75*s&&r.allowDropAfter(l,u)),r.highlight()||r.highlightBottom())?(o.preventDefault(),!1):void 0}function i(n,i,r){var o=(n||{}).originalEvent||n,s=o.dataTransfer,a=s.getData(e.MCT_DRAG_TYPE),c=t.getData(e.TIMELINE_SWIMLANE_DRAG_TYPE),l=c?c.domainObject:t.getData(e.MCT_EXTENDED_DRAG_TYPE);a&&(o.stopPropagation(),n.preventDefault(),r.drop(a,l)),r.highlight(!1),r.highlightBottom(!1)}function r(e,t,r){function o(){return e.$eval(r.mctSwimlaneDrop)}t.on("dragover",function(i){var r=o(),s=r.highlight(),a=r.highlightBottom();n(i,t,r),(a!==r.highlightBottom()||s!==r.highlight())&&e.$apply()}),t.on("drop",function(n){i(n,t,o()),e.$apply()}),t.on("dragleave",function(){var t=o(),n=t.highlight()||t.highlightBottom();t.highlight(!1),t.highlightBottom(!1),n&&e.$apply()})}return{restrict:"A",link:r}}return t}),n("platform/features/timeline/src/directives/MCTSwimlaneDrag",["./SwimlaneDragConstants"],function(e){function t(t){function n(n,i,r){function o(){return n.$eval(r.mctSwimlaneDrag)}i.on("dragstart",function(){t.setData(e.TIMELINE_SWIMLANE_DRAG_TYPE,o())}),i.on("dragend",function(){t.removeData(e.TIMELINE_SWIMLANE_DRAG_TYPE)})}return{restrict:"A",link:n}}return t}),n("platform/features/timeline/src/services/ObjectLoader",[],function(){function e(e){function t(n,i){function r(e){return!!e}function o(e){return e&&e.hasCapability(i)}function s(e){return t(e,p)}function a(e){f.composition=e}function c(e){return!h[e.getId()]}function l(t){return e.all(t.filter(p).filter(c).map(s)).then(a)}function u(){return h[n.getId()]=!0,f}function d(){return h[n.getId()]=!0,n.useCapability("composition").then(l).then(u)}var p,f={domainObject:n,composition:[]},h={};return p="function"==typeof i?i:"string"==typeof i?o:r,n.hasCapability("composition")?d():e.when(f)}return{load:t}}return e}),n("platform/features/timeline/src/chart/GLChart",[],function(){function e(e){var i,r,o,s,a,c,l,u=e.getContext("webgl",{preserveDrawingBuffer:!0})||e.getContext("experimental-webgl",{preserveDrawingBuffer:!0});if(!u)throw new Error("WebGL unavailable.");i=u.createShader(u.VERTEX_SHADER),u.shaderSource(i,n),u.compileShader(i),r=u.createShader(u.FRAGMENT_SHADER),u.shaderSource(r,t),u.compileShader(r),o=u.createProgram(),u.attachShader(o,i),u.attachShader(o,r),u.linkProgram(o),u.useProgram(o),s=u.getAttribLocation(o,"aVertexPosition"),a=u.getUniformLocation(o,"uColor"),c=u.getUniformLocation(o,"uDimensions"),l=u.getUniformLocation(o,"uOrigin"),u.enableVertexAttribArray(s),this.buffer=u.createBuffer(),u.lineWidth(2),u.enable(u.BLEND),u.blendFunc(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA),this.gl=u,this.aVertexPosition=s,this.uColor=a,this.uDimensions=c,this.uOrigin=l;
}var t=["precision mediump float;","uniform vec4 uColor;","void main(void) {","gl_FragColor = uColor;","}"].join("\n"),n=["attribute vec2 aVertexPosition;","uniform vec2 uDimensions;","uniform vec2 uOrigin;","void main(void) {","gl_Position = vec4(2.0 * ((aVertexPosition - uOrigin) / uDimensions) - vec2(1,1), 0, 1);","}"].join("\n");return e.prototype.doDraw=function(e,t,n,i){var r=this.gl;r.bindBuffer(r.ARRAY_BUFFER,this.buffer),r.bufferData(r.ARRAY_BUFFER,t,r.DYNAMIC_DRAW),r.vertexAttribPointer(this.aVertexPosition,2,r.FLOAT,!1,0,0),r.uniform4fv(this.uColor,n),r.drawArrays(e,0,i)},e.prototype.clear=function(){var e=this.gl;e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),e.clear(e.COLOR_BUFFER_BIT+e.DEPTH_BUFFER_BIT)},e.prototype.setDimensions=function(e,t){var n=this.gl;e&&e.length>0&&t&&t.length>0&&(n.uniform2fv(this.uDimensions,e),n.uniform2fv(this.uOrigin,t))},e.prototype.drawLine=function(e,t,n){this.doDraw(this.gl.LINE_STRIP,e,t,n)},e.prototype.drawSquare=function(e,t,n){this.doDraw(this.gl.TRIANGLE_FAN,new Float32Array(e.concat([e[0],t[1]]).concat(t).concat([t[0],e[1]])),n,4)},e}),n("platform/features/timeline/src/chart/Canvas2DChart",[],function(){function e(e){if(this.canvas=e,this.c2d=e.getContext("2d"),this.width=e.width,this.height=e.height,this.dimensions=[this.width,this.height],this.origin=[0,0],!this.c2d)throw new Error("Canvas 2d API unavailable.")}return e.prototype.x=function(e){return(e-this.origin[0])/this.dimensions[0]*this.width},e.prototype.y=function(e){return this.height-(e-this.origin[1])/this.dimensions[1]*this.height},e.prototype.setColor=function(e){var t=e.map(function(e,t){return 3>t?Math.floor(255*e):e}).join(",");this.c2d.strokeStyle="rgba("+t+")",this.c2d.fillStyle="rgba("+t+")"},e.prototype.clear=function(){var e=this.canvas;this.width=e.width,this.height=e.height,this.c2d.clearRect(0,0,this.width,this.height)},e.prototype.setDimensions=function(e,t){this.dimensions=e,this.origin=t},e.prototype.drawLine=function(e,t,n){var i;for(this.setColor(t),this.c2d.lineWidth=2,e.length>1&&(this.c2d.beginPath(),this.c2d.moveTo(this.x(e[0]),this.y(e[1]))),i=2;2*n>i;i+=2)this.c2d.lineTo(this.x(e[i]),this.y(e[i+1]));this.c2d.stroke()},e.prototype.drawSquare=function(e,t,n){var i=this.x(e[0]),r=this.y(e[1]),o=this.x(t[0])-i,s=this.y(t[1])-r;this.setColor(n),this.c2d.fillRect(i,r,o,s)},e}),n("platform/features/timeline/src/chart/MCTTimelineChart",["./GLChart","./Canvas2DChart"],function(e,t){function n(n,r){function o(e,t){var n=e[0];if(!n)return void r.warn("Cannot initialize mct-timeline-chart.");try{return new n(t)}catch(i){return r.warn(["Could not instantiate chart",n.name,";",i.message].join(" ")),o(e.slice(1),t)}}function s(r,s){function a(e){f.width=f.offsetWidth,f.height=f.offsetHeight,p.clear(),e&&(p.setDimensions(e.dimensions||[1,1],e.origin||[0,0]),(e.lines||[]).forEach(function(e){p.drawLine(e.buffer,e.color,e.points)}),(e.boxes||[]).forEach(function(e){p.drawSquare(e.start,e.end,e.color)}))}function c(){(f.width!==f.offsetWidth||f.height!==f.offsetHeight)&&(a(r.draw),r.$apply())}function l(){d&&n.cancel(d)}function u(){s.html(i),f=s.find("canvas")[0],p=o([t],f),p&&a(r.draw)}var d,p,f=s.find("canvas")[0];p=o([e,t],f),p&&(f.addEventListener("webglcontextlost",u),d=n(c,1e3,0,!1),r.$watchCollection("draw",a),r.$on("$destroy",l))}return{restrict:"E",template:i,link:s,scope:{draw:"="}}}var i="<canvas style='position: absolute; background: none; width: 100%; height: 100%;'></canvas>";return n}),n("text!platform/features/timeline/res/templates/values.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2009-2016, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<ul ng-controller="ActivityModeValuesController as controller" class="cols cols-2-ff properties">\n    <li ng-repeat="(key, value) in cost" class="l-row s-row">\n        <span class="col col-100px s-title">{{controller.metadata(key).name}}</span>\n        <span class="col s-value">{{value}} {{controller.metadata(key).units}}</span>\n    </li>\n</ul>\n'}),n("text!platform/features/timeline/res/templates/timeline.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2009-2016, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="s-timeline l-timeline-holder split-layout vertical splitter-sm"\n     ng-controller="TimelineController as timelineController">\n\n<mct-split-pane anchor="left" class="abs" position="pane.x">\n    <!-- LEFT PANE: TABULAR AND RESOURCE LEGEND AREAS -->\n    <mct-split-pane anchor="bottom"\n                    position="pane.y"\n                    class="abs horizontal split-pane-component l-timeline-pane l-pane-l t-pane-v">\n        <!-- TOP PANE TABULAR AREA -->\n        <div class="split-pane-component s-timeline-tabular l-timeline-pane t-pane-h l-pane-top">\n            <!-- TABULAR LEFT FIXED AREA -->\n            <div class="t-pane-v l-pane-l l-tabular-l"\n                ng-if="true">\n\n                    <div class="t-header l-header s-header">\n                        <div class="l-cols">\n                            <span title="Resource Graphing: click a row to toggle" class="l-col l-col-icon l-plot-resource icon-plot-resource"></span>\n                            <span title="Activity Links" class="l-col  l-col-icon l-col-link icon-chain-links"></span>\n                            <span class="l-col l-title">Title</span>\n                        </div>\n                    </div>\n                    <div class="t-swimlanes-holder l-swimlanes-holder"\n                         mct-scroll-y="scroll.y">\n                        <mct-include key="\'timeline-tabular-swimlane-cols-tree\'"\n                                     parameters="{ commit: commit }"\n                                     ng-repeat="swimlane in timelineController.swimlanes()"\n                                     ng-model="swimlane">\n                        </mct-include>\n                    </div>\n\n            </div>\n\n            <!-- TABULAR RIGHT HORZ SCROLLING AREA -->\n            <div class="t-pane-v l-pane-r l-tabular-r">\n                <div class="l-width">\n                    <div class="t-header l-header s-header">\n                        <div class="l-cols">\n                            <span class="l-col l-start">Start</span>\n                            <span class="l-col l-end">End</span>\n                            <span class="l-col l-duration">Duration</span>\n                            <span class="l-col l-activity-modes">Activity Modes</span>\n                        </div>\n                    </div>\n                    <div class="t-swimlanes-holder l-swimlanes-holder"\n                         mct-scroll-y="scroll.y">\n                        <mct-include key="\'timeline-tabular-swimlane-cols-data\'"\n                                     ng-repeat="swimlane in timelineController.swimlanes()"\n                                     ng-model="swimlane">\n                        </mct-include>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- HORZ SPLITTER -->\n        <mct-splitter></mct-splitter>\n\n        <!-- BOTTOM PANE RESOURCE LEGEND -->\n        <div class="split-pane-component abs l-timeline-pane t-pane-h l-pane-btm s-timeline-resource-legend l-timeline-resource-legend">\n            <div class="l-title s-title">{{ngModel.title}}Resource Graph Legend</div>\n            <div class="l-legend-items legend">\n                <mct-include key="\'timeline-legend-item\'"\n                             ng-repeat="swimlane in timelineController.swimlanes()"\n                             ng-model="swimlane"\n                             ng-show="swimlane.graph()">\n                </mct-include>\n            </div>\n        </div>\n    </mct-split-pane>\n\n\n    <!-- MAIN VERTICAL SPLITTER -->\n    <mct-splitter></mct-splitter>\n\n\n    <!-- RIGHT PANE: GANTT AND RESOURCE PLOTS -->\n    <span ng-controller="TimelineZoomController as zoomController" class="abs">\n    <mct-split-pane anchor="bottom"\n                    position="pane.y"\n                    class="abs split-pane-component l-timeline-pane l-pane-r t-pane-v">\n\n        <!-- TOP PANE GANTT BARS -->\n        <div class="split-pane-component l-timeline-pane t-pane-h l-pane-top t-timeline-gantt l-timeline-gantt s-timeline-gantt">\n            <div class="l-hover-btns-holder s-hover-btns-holder">\n                <a class="s-button icon-arrows-out"\n                   ng-click="zoomController.fit()"\n                   ng-show="true"\n                   title="Zoom to fit">\n                </a>\n\n                <a class="s-button icon-magnify-in"\n                   ng-click="zoomController.zoom(-1)"\n                   ng-show="true"\n                   title="Zoom in">\n                </a>\n\n                <a class="s-button icon-magnify-out"\n                   ng-click="zoomController.zoom(1)"\n                   ng-show="true"\n                   title="Zoom out">\n                </a>\n            </div>\n\n            <div style="overflow: hidden; position: absolute; left: 0; top: 0; right: 0; height: 30px;" mct-scroll-x="scroll.x">\n                <mct-include key="\'timeline-ticks\'"\n                             parameters="{\n                                         fullWidth: zoomController.width(timelineController.end()),\n                                         start: scroll.x,\n                                         width: scroll.width,\n                                         step: zoomController.toPixels(zoomController.zoom()),\n                                         toMillis: zoomController.toMillis\n                                         }">\n                </mct-include>\n            </div>\n\n            <div class="t-swimlanes-holder l-swimlanes-holder"\n                 mct-scroll-x="scroll.x"\n                 mct-scroll-y="scroll.y">\n                <div class="l-width-control"\n                     ng-style="{ width: zoomController.width(timelineController.end()) + \'px\' }">\n                    <div class="t-swimlane s-swimlane l-swimlane"\n                         ng-repeat="swimlane in timelineController.swimlanes()"\n                         ng-class="{\n                                   exceeded: swimlane.exceeded(),\n                                   selected: selection.selected(swimlane),\n                                   \'drop-into\': swimlane.highlight(),\n                                   \'drop-after\': swimlane.highlightBottom()\n                                   }"\n                         ng-click="selection.select(swimlane)"\n                         mct-swimlane-drop="swimlane">\n\n                        <mct-representation key="\'gantt\'"\n                                            mct-object="swimlane.domainObject"\n                                            parameters="{\n                                                        scroll: scroll,\n                                                        toPixels: zoomController.toPixels\n                                                        }">\n                        </mct-representation>\n\n                        <span ng-if="selection.selected(swimlane)">\n                            <span ng-repeat="handle in timelineController.handles()"\n                                  ng-style="handle.style(zoomController)"\n                                  style="position: absolute; top: 0px; bottom: 0px;"\n                                  class="handle"\n                                  ng-class="{ start: $index === 0, mid: $index === 1, end: $index > 1 }"\n                                  mct-drag-down="handle.begin()"\n                                  mct-drag="handle.drag(delta[0], zoomController); timelineController.refresh()"\n                                  mct-drag-up="handle.finish()">\n                            </span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- HORZ SPLITTER -->\n        <mct-splitter></mct-splitter>\n\n        <!-- BOTTOM PANE RESOURCE GRAPHS AND RIGHT PANE HORIZONTAL SCROLL CONTROL -->\n        <div class="split-pane-component l-timeline-resource-graph l-timeline-pane t-pane-h l-pane-btm">\n            <div class="l-graphs-holder"\n                 mct-resize="scroll.width = bounds.width">\n                <div class="t-graphs l-graphs">\n                    <mct-include key="\'timeline-resource-graphs\'"\n                                 parameters="{\n                                             origin: zoomController.toMillis(scroll.x),\n                                             duration: zoomController.toMillis(scroll.width),\n                                             graphs: timelineController.graphs()\n                                             }">\n                    </mct-include>\n                </div>\n            </div>\n            <div mct-scroll-x="scroll.x"\n                 class="t-pane-r-scroll-h-control l-scroll-control s-scroll-control">\n                <div class="l-width-control"\n                     ng-style="{ width: zoomController.width(timelineController.end()) + \'px\' }">\n                </div>\n            </div>\n        </div>\n    </mct-split-pane>\n    </span>\n</mct-split-pane>\n</div>\n'}),n("text!platform/features/timeline/res/templates/activity-gantt.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2009-2016, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="t-timeline-gantt l-timeline-gantt s-timeline-gantt"\n     ng-class="timespan ? { sm: gantt.width(timespan, parameters.scroll, parameters.toPixels) < 25 } : {}"\n     title="{{model.name}}"\n     ng-controller="TimelineGanttController as gantt"\n     ng-style="timespan ? {\n               left: gantt.left(timespan, parameters.scroll, parameters.toPixels) + \'px\',\n               width: gantt.width(timespan, parameters.scroll, parameters.toPixels) + \'px\'\n               } : {}">\n\n    <div class="bar">\n		<span class="s-activity-type {{type.getCssClass()}}"></span>\n		<span class="s-title">\n            {{model.name}}\n        </span>\n	</div>\n\n</div>\n'}),n("text!platform/features/timeline/res/templates/tabular-swimlane-cols-tree.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2009-2016, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="t-swimlane s-swimlane l-swimlane {{ngModel.activitystate}} {{ngModel.swimlanestate}}"\n     mct-swimlane-drop="ngModel"\n     ng-class="{\n               exceeded: ngModel.exceeded(),\n               selected: ngModel.selected(swimlane),\n               \'drop-into\': ngModel.highlight(),\n               \'drop-after\': ngModel.highlightBottom()\n               }">\n    <div class="l-cols">\n        <span class="l-col l-col-icon l-plot-resource"\n              ng-click="ngModel.toggleGraph(); parameters.commit()"\n              title="Click to enable or disable inclusion in Resource Graphing">\n            <span class="icon-plot-resource s-toggle-icon"\n                  ng-class="{ active: ngModel.graph() }">\n            </span>\n        </span>\n        <span class="l-col l-col-icon l-link">\n            <a class="icon-chain-links"\n               target="_blank"\n               ng-href="{{ngModel.link()}}"\n               ng-if="ngModel.link().length > 0"\n               title="{{ngModel.link()}}"\n               >\n            </a>\n        </span>\n        <span class="l-col l-title"\n              ng-click="ngModel.select()"\n              ng-style="{ \'margin-left\': 15 * ngModel.depth + \'px\' }">\n            <mct-representation key="\'label\'"\n                                mct-object="ngModel.domainObject"\n                                class="rep-object-label"\n                                mct-swimlane-drag="ngModel">\n            </mct-representation>\n        </span>\n    </div>\n</div>\n'}),n("text!platform/features/timeline/res/templates/tabular-swimlane-cols-data.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2009-2016, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="t-swimlane s-swimlane l-swimlane {{ngModel.activitystate}} {{ngModel.swimlanestate}}"\n     ng-class="{\n               exceeded: ngModel.exceeded(),\n               selected: ngModel.selected(swimlane),\n               \'drop-into\': ngModel.highlight(),\n               \'drop-after\': ngModel.highlightBottom()\n               }">\n	<div\n		class="l-cols"\n		ng-controller="TimelineTableController as tabularVal">\n		<span class="align-right l-col l-start">{{tabularVal.niceTime(ngModel.timespan().getStart())}}</span>\n		<span class="align-right l-col l-end">{{tabularVal.niceTime(ngModel.timespan().getEnd())}}</span>\n		<span class="align-right l-col l-duration">{{tabularVal.niceTime(ngModel.timespan().getDuration())}}</span>\n		<span class="l-col l-activity-modes"></span>\n	</div>\n</div>\n'}),n("text!platform/features/timeline/res/templates/resource-graphs.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2009-2016, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="TimelineGraphController as graphController">\n    <div class="t-graph l-graph" ng-repeat="graph in parameters.graphs">\n        <div class="l-graph-area l-canvas-holder">\n            <mct-timeline-chart draw="graph.drawingObject"></mct-timeline-chart>\n        </div>\n        <div class="t-graph-labels l-graph-labels">\n            <mct-include key="\'timeline-resource-graph-labels\'"\n                         parameters="graphController.label(graph)"\n                         ng-model="graph">\n            </mct-include>\n        </div>\n    </div>\n</span>\n'}),n("text!platform/features/timeline/res/templates/resource-graph-labels.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2009-2016, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="l-title s-title">\n    {{parameters.title}}\n</div>\n<div class="l-graph-area">\n	<div class="l-labels-holder l-flex-col">\n		<div class="t-resource-graph-tick-label tick-label-y flex-elem">\n            {{parameters.high}}\n        </div>\n		<div class="t-resource-graph-tick-label tick-label-y flex-elem">\n            {{parameters.middle}}\n        </div>\n		<div class="t-resource-graph-tick-label tick-label-y flex-elem">\n            {{parameters.low}}\n        </div>\n	</div>\n</div>\n'}),n("text!platform/features/timeline/res/templates/legend-item.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2009-2016, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<!-- TO-DO: make legend item color-swatch dynamic -->\n<span\n	class="legend-item s-legend-item"\n	title="{{ngModel.path}}{{ngModel.domainObject.getModel().name}}"\n	>\n	<span class="color-swatch"\n          ng-style="{ \'background-color\': ngModel.color() }">\n    </span>\n	<span class="title-label">\n        <span class="l-parent-path">{{ngModel.path}}</span>\n        <span class="l-leaf-title">{{ngModel.domainObject.getModel().name}}</span>\n    </span>\n</span>\n'}),n("text!platform/features/timeline/res/templates/ticks.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2009-2016, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="t-header l-header s-header"\n     ng-controller="TimelineTickController as tick"\n     ng-style="{ width: parameters.fullWidth + \'px\' }">\n\n    <div class="l-header-elem t-labels l-labels">\n        <div class="t-label l-label s-label"\n             ng-repeat="label in tick.labels(parameters.start, parameters.width, parameters.step, parameters.toMillis)"\n             ng-style="{ left: label.left + \'px\' }">\n            {{label.text}}\n        </div>\n    </div>\n    <div class="t-ticks l-ticks s-ticks"\n         ng-style="{ \'background-size\': parameters.step + \'px 100%\' }">\n    </div>\n    <div class="t-ticks s-ticks l-subticks"\n         ng-style="{ \'background-size\': (parameters.step / 40) + \'px 100%\' }">\n    </div>\n</div>\n'}),n("text!platform/features/timeline/res/templates/controls/datetime.html",[],function(){return"<!--\n Open MCT, Copyright (c) 2009-2016, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n \"License\"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class='form-control complex datetime'>\n\n    <div class='field-hints'>\n        <span class='hint time sm'>Days</span>\n        <span class='hint time sm'>Hours</span>\n        <span class='hint time sm'>Minutes</span>\n        <span class='hint time sm'>Seconds</span>\n        <span class='hint' ng-if=\"structure.options.length > 0\">Time System</span>\n    </div>\n\n    <ng-form name=\"mctControl\">\n        <div class='fields' ng-controller=\"TimelineDateTimeController\">\n            <span class='field control time sm'>\n                <input type='text'\n                       name='days'\n                       min='0'\n                       max='9999'\n                       integer\n                       ng-pattern=\"/\\d+/\"\n                       ng-model='datetime.days'/>\n            </span>\n            <span class='field control time sm'>\n                <input type='text'\n                       name='hour'\n                       maxlength='2'\n                       min='0'\n                       max='23'\n                       integer\n                       ng-pattern='/\\d+/'\n                       ng-model=\"datetime.hours\"/>\n            </span>\n            <span class='field control time sm'>\n                <input type='text'\n                       name='min'\n                       maxlength='2'\n                       min='0'\n                       max='59'\n                       integer\n                       ng-pattern='/\\d+/'\n                       ng-model=\"datetime.minutes\"\n                       ng-required='true'/>\n            </span>\n            <span class='field control time sm'>\n                <input type='text'\n                       name='sec'\n                       maxlength='2'\n                       min='0'\n                       max='59'\n                       integer\n                       ng-pattern='/\\d+/'\n                       ng-model=\"datetime.seconds\"\n                       ng-required='true'/>\n            </span>\n            <span ng-if=\"structure.options.length > 0\"\n                  class='field control'>\n                SET\n            </span>\n        </div>\n    </ng-form>\n\n\n</div>\n"}),n("platform/features/timeline/bundle",["./src/actions/ExportTimelineAsCSVAction","./src/controllers/TimelineController","./src/controllers/TimelineGraphController","./src/controllers/TimelineDateTimeController","./src/controllers/TimelineZoomController","./src/controllers/TimelineTickController","./src/controllers/TimelineTableController","./src/controllers/TimelineGanttController","./src/controllers/ActivityModeValuesController","./src/capabilities/ActivityTimespanCapability","./src/capabilities/TimelineTimespanCapability","./src/capabilities/UtilizationCapability","./src/capabilities/GraphCapability","./src/capabilities/CostCapability","./src/directives/MCTSwimlaneDrop","./src/directives/MCTSwimlaneDrag","./src/services/ObjectLoader","./src/chart/MCTTimelineChart","text!./res/templates/values.html","text!./res/templates/timeline.html","text!./res/templates/activity-gantt.html","text!./res/templates/tabular-swimlane-cols-tree.html","text!./res/templates/tabular-swimlane-cols-data.html","text!./res/templates/resource-graphs.html","text!./res/templates/resource-graph-labels.html","text!./res/templates/legend-item.html","text!./res/templates/ticks.html","text!./res/templates/controls/datetime.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,h,m,g,y,v,b,w,S,x,C,O,k,$,T,A){
A.register("platform/features/timeline",{name:"Timelines",description:"Resources, templates, CSS, and code for Timelines.",resources:"res",extensions:{actions:[{key:"timeline.export",name:"Export Timeline as CSV",category:"contextual",implementation:e,depends:["$log","exportService","notificationService","resources[]"]}],constants:[{key:"TIMELINE_MINIMUM_DURATION",description:"The minimum duration to display in a timeline view (one hour.)",value:36e5},{key:"TIMELINE_MAXIMUM_OFFSCREEN",description:"Maximum amount, in pixels, of a Gantt bar which may go off screen.",value:1e3},{key:"TIMELINE_ZOOM_CONFIGURATION",description:"Describes major tick sizes in milliseconds, and width in pixels.",value:{levels:[1e3,2e3,5e3,1e4,2e4,3e4,6e4,12e4,3e5,6e5,12e5,18e5,36e5,72e5,144e5,288e5,432e5,864e5,1728e5,432e6,864e6,1728e6,2592e6,5184e6,10368e6,20736e6,31536e6],width:200}}],types:[{key:"timeline",name:"Timeline",cssClass:"icon-timeline",description:"A time-oriented container that lets you enclose and organize other Timelines and Activities. The Timeline view provides both tabular and Gantt views as well as resource utilization graphing of Activities.",priority:502,features:["creation"],contains:["timeline","activity"],properties:[{name:"Start date/time",control:"timeline-datetime",required:!0,property:["start"],options:["SET"]},{name:"Battery capacity (Watt-hours)",control:"textfield",required:!1,conversion:"number",property:["capacity"],pattern:"^-?\\d+(\\.\\d*)?$"},{name:"Battery starting SOC (%)",control:"textfield",required:!1,conversion:"number",property:["startingSOC"],pattern:"^([0-9](\\.\\d*)?|[1-9][0-9](\\.\\d*)?|100)%?$"}],model:{composition:[],start:{timestamp:0}}},{key:"activity",name:"Activity",cssClass:"icon-activity",features:["creation"],contains:["activity"],description:"An event or process that starts and ends at a discrete datetime. Activities can be nested in other Activities, and can be added to Timelines. Activity Modes can be added to an Activity to define its resource utilization over time.",priority:501,properties:[{name:"Start date/time",control:"timeline-datetime",required:!0,property:["start"],options:["SET"]},{name:"Duration",control:"duration",required:!0,property:["duration"]}],model:{composition:[],relationships:{modes:[]},start:{timestamp:0},duration:{timestamp:0}}},{key:"mode",name:"Activity Mode",cssClass:"icon-activity-mode",features:["creation"],description:"When a sub-system utilizes Power or Communications resources over time, you can define those values in an Activity Mode. Activity Modes can then be linked to Activities to allow resource utilization graphing and estimating in a Timeline.",priority:500,model:{resources:{comms:0,power:0}},properties:[{name:"Comms (Kbps)",control:"textfield",conversion:"number",pattern:"^-?\\d+(\\.\\d*)?$",property:["resources","comms"]},{name:"Power (watts)",control:"textfield",conversion:"number",pattern:"^-?\\d+(\\.\\d*)?$",property:["resources","power"]}]}],views:[{key:"values",name:"Values",cssClass:"icon-activity-mode",template:v,type:"mode",uses:["cost"],editable:!1},{key:"timeline",name:"Timeline",cssClass:"icon-timeline",type:"timeline",description:"A time-oriented container that lets you enclose and organize other Timelines and Activities. The Timeline view provides both tabular and Gantt views as well as resource utilization graphing of Activities.",template:b,editable:!0,toolbar:{sections:[{items:[{method:"add",control:"menu-button",text:"Add",options:[{name:"Timeline",cssClass:"icon-timeline",key:"timeline"},{name:"Activity",cssClass:"icon-activity",key:"activity"}]}]},{items:[{cssClass:"icon-plot-resource",description:"Graph Resource Utilization",control:"button",method:"toggleGraph"},{cssClass:"icon-activity-mode",control:"dialog-button",description:"Apply Activity Modes...",title:"Apply Activity Modes",dialog:{control:"selector",name:"Modes",type:"mode",layout:"controls-under"},property:"modes"},{cssClass:"icon-chain-links",description:"Edit Activity Link",title:"Activity Link",control:"dialog-button",dialog:{control:"textfield",name:"Link",pattern:"^(ftp|https?)\\:\\/\\/\\w+(\\.\\w+)*(\\:\\d+)?(\\/\\S*)*$",cssClass:"l-input-lg"},property:"link"},{cssClass:"icon-gear",description:"Edit Properties...",control:"button",method:"properties"}]},{items:[{method:"remove",description:"Remove Item",control:"button",cssClass:"icon-trash"}]}]}}],stylesheets:[{stylesheetUrl:"css/timeline.css"},{stylesheetUrl:"css/timeline-espresso.css",theme:"espresso"},{stylesheetUrl:"css/timeline-snow.css",theme:"snow"}],representations:[{key:"gantt",template:w,uses:["timespan","type"]}],templates:[{key:"timeline-tabular-swimlane-cols-tree",priority:"mandatory",template:S},{key:"timeline-tabular-swimlane-cols-data",priority:"mandatory",template:x},{key:"timeline-resource-graphs",priority:"mandatory",template:C},{key:"timeline-resource-graph-labels",priority:"mandatory",template:O},{key:"timeline-legend-item",priority:"mandatory",template:k},{key:"timeline-ticks",priority:"mandatory",template:$}],controls:[{key:"timeline-datetime",template:T},{key:"duration",template:T}],controllers:[{key:"TimelineController",implementation:t,depends:["$scope","$q","objectLoader","TIMELINE_MINIMUM_DURATION"]},{key:"TimelineGraphController",implementation:n,depends:["$scope","resources[]"]},{key:"TimelineDateTimeController",implementation:i,depends:["$scope"]},{key:"TimelineZoomController",implementation:r,depends:["$scope","$window","TIMELINE_ZOOM_CONFIGURATION"]},{key:"TimelineTickController",implementation:o},{key:"TimelineTableController",implementation:s},{key:"TimelineGanttController",implementation:a,depends:["TIMELINE_MAXIMUM_OFFSCREEN"]},{key:"ActivityModeValuesController",implementation:c,depends:["resources[]"]}],capabilities:[{key:"timespan",implementation:l,depends:["$q"]},{key:"timespan",implementation:u,depends:["$q"]},{key:"utilization",implementation:d,depends:["$q"]},{key:"graph",implementation:p,depends:["$q"]},{key:"cost",implementation:f}],directives:[{key:"mctSwimlaneDrop",implementation:h,depends:["dndService"]},{key:"mctSwimlaneDrag",implementation:m,depends:["dndService"]},{key:"mctTimelineChart",implementation:y,depends:["$interval","$log"]}],services:[{key:"objectLoader",implementation:g,depends:["$q"]}],resources:[{key:"power",name:"Power",units:"watts"},{key:"comms",name:"Comms",units:"Kbps"},{key:"battery",name:"Battery State-of-Charge",units:"%"}]}})}),n("platform/forms/src/controllers/FormController",[],function(){function e(e){function n(e){return e?e instanceof RegExp?e:(i[e]||(i[e]=new RegExp(e)),i[e]):t}var i=[];e.$watch("mctForm",function(t){e.name&&(e.$parent[e.name]=t)}),e.getRegExp=n}var t=/\S/;return e}),n("text!platform/forms/res/templates/form.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<form name="mctForm" novalidate class="form l-flex-col">\n    <span ng-repeat="section in structure.sections"\n          class="l-form-section l-flex-col flex-elem {{ section.cssClass }}">\n        <div class="section-header flex-elem" ng-if="section.name">\n            {{section.name}}\n        </div>\n        <ng-form class="form-row validates l-flex-row flex-elem {{ section.cssClass }}"\n                 ng-class="{\n                 first:$index < 1,\n                 req: row.required,\n                 valid: mctFormInner.$dirty && mctFormInner.$valid,\n                 invalid: mctFormInner.$dirty && !mctFormInner.$valid,\n                 first: $index < 1,\n                \'l-controls-first\': row.layout === \'control-first\',\n                \'l-controls-under\': row.layout === \'controls-under\'\n                 }"\n                 name="mctFormInner"\n                 ng-repeat="row in section.rows">\n            <div class=\'label flex-elem\' title="{{row.description}}">\n                {{row.name}}\n            </div>\n            <div class=\'controls flex-elem\'>\n                <div class="wrapper" ng-if="row.control">\n                    <mct-control key="row.control"\n                                 ng-model="ngModel"\n                                 ng-required="row.required"\n                                 ng-pattern="getRegExp(row.pattern)"\n                                 options="row.options"\n                                 structure="row"\n                                 field="row.key">\n                    </mct-control>\n                </div>\n            </div>\n        </ng-form>\n    </span>\n</form>\n'}),n("platform/forms/src/MCTForm",["./controllers/FormController","text!../res/templates/form.html"],function(e,t){function n(){return{restrict:"E",template:t,controller:["$scope",e],scope:{ngModel:"=",structure:"=",name:"@"}}}return n}),n("text!platform/forms/res/templates/toolbar.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<form novalidate>\n    <div class="tool-bar btn-bar contents abs">\n        <span ng-repeat="section in structure.sections"\n              class="l-control-group"\n              ng-if="!section.hidden"\n              title="{{section.description}}">\n            <ng-form ng-repeat="item in section.items"\n                     ng-class="{ \'input-labeled\': item.name }"\n                     ng-hide="item.hidden"\n                     class="inline"\n                     title="{{item.description}}"\n                     name="mctFormInner">\n\n                <label ng-if="item.name">\n                    {{item.name}}:\n                </label>\n                <mct-control key="item.control"\n                             ng-class="{ disabled: item.disabled }"\n                             ng-model="ngModel"\n                             ng-required="item.required"\n                             ng-pattern="getRegExp(item.pattern)"\n                             options="item.options"\n                             structure="item"\n                             field="item.key">\n                </mct-control>\n            </ng-form>\n        </span>\n    </div>\n</form>\n'}),n("platform/forms/src/MCTToolbar",["./MCTForm","text!../res/templates/toolbar.html"],function(e,t){function n(){var n=new e;return n.template=t,n}return n}),n("platform/forms/src/MCTControl",[],function(){function e(e,t){function n(t,n,r,o){var s=e.link(t,n);t.$watch("key",function(e){s(i[e])}),t.ngModelController=o}var i={};return t.forEach(function(e){i[e.key]=e}),{restrict:"E",priority:1e3,require:"?ngModel",link:n,scope:{key:"=",ngBlur:"&",ngMouseup:"&",ngModel:"=",ngDisabled:"=",ngRequired:"=",ngPattern:"=",options:"=",structure:"=",field:"="}}}return e}),n("platform/forms/src/controllers/DateTimeController",["moment"],function(e){function t(t){function i(){var i=t.datetime.date,r=t.datetime.hour,o=t.datetime.min,s=t.datetime.sec,a=e.utc(i,n).hour(r||0).minute(o||0).second(s||0);a.isValid()&&(t.ngModel[t.field]=a.valueOf()),t.partiallyComplete=Object.keys(t.datetime).some(function(e){return t.datetime[e]}),t.partiallyComplete||(t.ngModel[t.field]=void 0)}function r(i){var r;void 0!==i?(r=e.utc(i),t.datetime={date:r.format(n),hour:r.format("H"),min:r.format("m"),sec:r.format("s")}):t.datetime={}}t.$watch("ngModel[field]",r),t.$watch("datetime.date",i),t.$watch("datetime.hour",i),t.$watch("datetime.min",i),t.$watch("datetime.sec",i),t.format=n,r(t.ngModel&&t.field?t.ngModel[t.field]:void 0)}var n="YYYY-MM-DD";return t}),n("platform/forms/src/controllers/CompositeController",[],function(){function e(){}function t(e){return"undefined"!=typeof e}return e.prototype.isNonEmpty=function(e){return Array.isArray(e)&&e.some(t)},e}),n("platform/forms/src/controllers/ColorController",[],function(){function e(e){return"#"+e.map(function(e){return(16>e?"0":"")+e.toString(16)}).join("")}function t(e,t){return e.map(function(e){return Math.round(t>0?e+(255-e)*t:e*(1+t))})}function n(){var n;for(n=[];n.length<10;)n.push(e([Math.round(28.3333*n.length),Math.round(28.3333*n.length),Math.round(28.3333*n.length)]));s.push(n),s.push(r.map(e)),n=[],o.forEach(function(i){n=n.concat(r.map(function(n){return e(t(n,i))}))}),s.push(n)}function i(){0===s.length&&n()}var r=[[136,32,32],[224,64,64],[240,160,72],[255,248,96],[128,240,72],[128,248,248],[88,144,224],[0,72,240],[136,80,240],[224,96,248]],o=[.75,.5,.25,-.25,-.5,-.75],s=[];return i.prototype.groups=function(){return s},i}),n("platform/forms/src/controllers/DialogButtonController",[],function(){function e(e,t){function n(t){e.ngModel[e.field]=t[e.field]}function i(){var i={};i[e.field]=e.ngModel[e.field],t.getUserInput(o,i).then(n)}function r(t){var n=Object.create(t.dialog||{});t=t||{},n.key=e.field,s.buttonStructure={},s.buttonStructure.cssClass=t.cssClass,s.buttonStructure.name=t.name,s.buttonStructure.description=t.description,s.buttonStructure.click=i,o={name:t.title,sections:[{rows:[n]}]}}var o,s=this;e.$watch("structure",r)}return e.prototype.getButtonStructure=function(){return this.buttonStructure},e}),n("text!platform/forms/res/templates/controls/checkbox.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<label class="checkbox custom no-text">\n    <input type="checkbox"\n           name="mctControl"\n           ng-model="ngModel[field]"\n           ng-disabled="ngDisabled">\n    <em></em>\n</label>\n'}),n("text!platform/forms/res/templates/controls/datetime.html",[],function(){return"<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n \"License\"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class='form-control complex datetime'>\n\n    <div class='field-hints'>\n        <span class='hint date'>Date</span>\n        <span class='hint time sm'>Hour</span>\n        <span class='hint time sm'>Min</span>\n        <span class='hint time sm'>Sec</span>\n        <span class='hint timezone'>Timezone</span>\n    </div>\n\n\n    <ng-form name=\"mctControl\">\n        <div class='fields' ng-controller=\"DateTimeController\">\n            <span class='field control date'>\n                <input type='text'\n                       name='date'\n                       placeholder=\"{{format}}\"\n                       ng-pattern=\"/\\d\\d\\d\\d-\\d\\d-\\d\\d/\"\n                       ng-model='datetime.date'\n                       ng-required='ngRequired || partiallyComplete'/>\n            </span>\n            <span class='field control time sm'>\n                <input type='text'\n                       name='hour'\n                       maxlength='2'\n                       min='0'\n                       max='23'\n                       integer\n                       ng-pattern='/\\d+/'\n                       ng-model=\"datetime.hour\"\n                       ng-required='ngRequired || partiallyComplete'/>\n            </span>\n            <span class='field control time sm'>\n                <input type='text'\n                       name='min'\n                       maxlength='2'\n                       min='0'\n                       max='59'\n                       integer\n                       ng-pattern='/\\d+/'\n                       ng-model=\"datetime.min\"\n                       ng-required='ngRequired || partiallyComplete'/>\n            </span>\n            <span class='field control time sm'>\n                <input type='text'\n                       name='sec'\n                       maxlength='2'\n                       min='0'\n                       max='59'\n                       integer\n                       ng-pattern='/\\d+/'\n                       ng-model=\"datetime.sec\"\n                       ng-required='ngRequired || partiallyComplete'/>\n            </span>\n            <span class='field control timezone'>\n                UTC\n            </span>\n        </div>\n    </ng-form>\n\n\n</div>\n"}),n("text!platform/forms/res/templates/controls/select.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class=\'form-control select\'>\n    <select\n            ng-model="ngModel[field]"\n            ng-options="opt.value as opt.name for opt in options"\n            ng-required="ngRequired"\n            name="mctControl">\n        <option value="" ng-show="!ngModel[field]">- Select One -</option>\n    </select>\n</div>\n'}),n("text!platform/forms/res/templates/controls/textfield.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span class=\'form-control shell\'>\n    <span class=\'field control {{structure.cssClass}}\'>\n        <input type="text"\n               ng-required="ngRequired"\n               ng-model="ngModel[field]"\n               ng-blur="ngBlur()"\n               ng-pattern="ngPattern"\n               size="{{structure.size}}"\n               name="mctControl">\n    </span>\n</span>\n'}),n("text!platform/forms/res/templates/controls/textarea.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span class=\'form-control shell\'>\n    <span class=\'field control {{structure.cssClass}}\'>\n        <textarea ng-required="ngRequired"\n               ng-model="ngModel[field]"\n               ng-pattern="ngPattern"\n               size="{{structure.size}}"\n               name="mctControl">\n        </textarea>\n    </span>\n</span>\n'}),n("text!platform/forms/res/templates/controls/button.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<a class="s-button {{structure.cssClass}}"\n   ng-class="{ labeled: structure.text }"\n   ng-click="structure.click()">\n    <span class="title-label" ng-if="structure.text">\n        {{structure.text}}\n    </span>\n</a>\n'}),n("text!platform/forms/res/templates/controls/color.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="s-button s-menu-button menu-element t-color-palette {{structure.cssClass}}"\n    ng-controller="ClickAwayController as toggle">\n\n    <span class="l-click-area" ng-click="toggle.toggle()"></span>\n    <span class="color-swatch"\n          ng-style="{\n             background: ngModel[field]\n         }">\n    </span>\n    <span class="title-label" ng-if="structure.text">\n        {{structure.text}}\n    </span>\n\n    <div class="menu l-color-palette"\n        ng-controller="ColorController as colors"\n        ng-show="toggle.isActive()">\n        <div\n            class="l-palette-row l-option-row"\n            ng-if="!structure.mandatory">\n            <div class="l-palette-item s-palette-item {{ngModel[field] === \'transparent\' ? \'icon-check\' : \'\' }}"\n                ng-click="ngModel[field] = \'transparent\'">\n            </div>\n            <span class="l-palette-item-label">None</span>\n        </div>\n        <div\n            class="l-palette-row"\n            ng-repeat="group in colors.groups()">\n            <div class="l-palette-item s-palette-item {{ngModel[field] === color ? \'icon-check\' : \'\' }}"\n                ng-repeat="color in group"\n                ng-style="{ background: color }"\n                ng-click="ngModel[field] = color">\n            </div>\n        </div>\n    </div>\n</div>\n'}),n("text!platform/forms/res/templates/controls/composite.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="CompositeController as compositeCtrl">\n    <ng-form name="mctFormItem" ng-repeat="item in structure.items">\n        <div class="l-composite-control l-{{item.control}} {{item.cssClass}}">\n            <mct-control key="item.control"\n                         ng-model="ngModel[field]"\n                         ng-required="ngRequired || compositeCtrl.isNonEmpty(ngModel[field])"\n                         ng-pattern="ngPattern"\n                         options="item.options"\n                         structure="row"\n                         field="$index">\n            </mct-control>\n            <span class="composite-control-label">\n                {{item.name}}\n            </span>\n        </div>\n    </ng-form>\n</span>\n'}),n("text!platform/forms/res/templates/controls/menu-button.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="s-menu-button menu-element {{ structure.cssClass }}"\n     ng-controller="ClickAwayController as toggle">\n\n    <span class="l-click-area" ng-click="toggle.toggle()"></span>\n    <span class="title-label" ng-if="structure.text">\n        {{structure.text}}\n    </span>\n\n    <div class="menu" ng-show="toggle.isActive()">\n        <ul>\n            <li ng-click="structure.click(option.key); toggle.setState(false)"\n                ng-repeat="option in structure.options"\n                class="{{ option.cssClass }}">\n                    {{option.name}}\n            </li>\n        </ul>\n    </div>\n</div>\n'}),n("text!platform/forms/res/templates/controls/dialog.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="DialogButtonController as dialog">\n    <mct-control key="\'button\'"\n                 structure="dialog.getButtonStructure()">\n    </mct-control>\n</span>\n';
}),n("text!platform/forms/res/templates/controls/radio.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<label class="radio custom no-text">\n    <input type="radio"\n           name="mctControl"\n           ng-model="ngModel[field]"\n           ng-disabled="ngDisabled"\n           ng-value="structure.value">\n    <em></em>\n</label>\n'}),n("platform/forms/bundle",["./src/MCTForm","./src/MCTToolbar","./src/MCTControl","./src/controllers/DateTimeController","./src/controllers/CompositeController","./src/controllers/ColorController","./src/controllers/DialogButtonController","text!./res/templates/controls/checkbox.html","text!./res/templates/controls/datetime.html","text!./res/templates/controls/select.html","text!./res/templates/controls/textfield.html","text!./res/templates/controls/textarea.html","text!./res/templates/controls/button.html","text!./res/templates/controls/color.html","text!./res/templates/controls/composite.html","text!./res/templates/controls/menu-button.html","text!./res/templates/controls/dialog.html","text!./res/templates/controls/radio.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,h,m,g,y,v){v.register("platform/forms",{name:"MCT Forms",description:"Form generator; includes directive and some controls.",extensions:{directives:[{key:"mctForm",implementation:e},{key:"mctToolbar",implementation:t},{key:"mctControl",implementation:n,depends:["templateLinker","controls[]"]}],controls:[{key:"checkbox",template:a},{key:"radio",template:y},{key:"datetime",template:c},{key:"select",template:l},{key:"textfield",template:u},{key:"textarea",template:d},{key:"button",template:p},{key:"color",template:f},{key:"composite",template:h},{key:"menu-button",template:m},{key:"dialog-button",template:g}],controllers:[{key:"DateTimeController",implementation:i,depends:["$scope"]},{key:"CompositeController",implementation:r},{key:"ColorController",implementation:o},{key:"DialogButtonController",implementation:s,depends:["$scope","dialogService"]}]}})}),n("platform/framework/bundle",["legacyRegistry"],function(e){e.register("platform/framework",{name:"Open MCT Framework Component",description:"Framework layer for Open MCT; interprets bundle definitions and serves as an intermediary between Require and Angular",libraries:"lib",configuration:{paths:{angular:"angular.min"},shim:{angular:{exports:"angular"}}},extensions:{licenses:[{name:"Blanket.js",version:"1.1.5",description:"Code coverage measurement and reporting",author:"Alex Seville",website:"http://blanketjs.org/",copyright:"Copyright (c) 2013 Alex Seville",license:"license-mit",link:"http://opensource.org/licenses/MIT"},{name:"Jasmine",version:"1.3.1",description:"Unit testing",author:"Pivotal Labs",website:"http://jasmine.github.io/",copyright:"Copyright (c) 2008-2011 Pivotal Labs",license:"license-mit",link:"http://opensource.org/licenses/MIT"},{name:"RequireJS",version:"2.1.22",description:"Script loader",author:"The Dojo Foundation",website:"http://requirejs.org/",copyright:"Copyright (c) 2010-2015, The Dojo Foundation",license:"license-mit",link:"https://github.com/jrburke/requirejs/blob/master/LICENSE"},{name:"AngularJS",version:"1.4.4",description:"Client-side web application framework",author:"Google",website:"http://angularjs.org/",copyright:"Copyright (c) 2010-2015 Google, Inc. http://angularjs.org",license:"license-mit",link:"https://github.com/angular/angular.js/blob/v1.4.4/LICENSE"},{name:"Angular-Route",version:"1.4.4",description:"Client-side view routing",author:"Google",website:"http://angularjs.org/",copyright:"Copyright (c) 2010-2015 Google, Inc. http://angularjs.org",license:"license-mit",link:"https://github.com/angular/angular.js/blob/v1.4.4/LICENSE"},{name:"ES6-Promise",version:"3.0.2",description:"Promise polyfill for pre-ECMAScript 6 browsers",author:"Yehuda Katz, Tom Dale, Stefan Penner and contributors",website:"https://github.com/jakearchibald/es6-promise",copyright:"Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors",license:"license-mit",link:"https://github.com/jakearchibald/es6-promise/blob/master/LICENSE"}]}})}),n("platform/identity/src/IdentityAggregator",[],function(){function e(e,t){this.providers=t,this.$q=e}function t(e){return e.getUser()}function n(e){return e}function i(e){return e.filter(n)[0]}return e.prototype.getUser=function(){var e=this.$q,n=this.providers.map(t);return e.all(n).then(i)},e}),n("platform/identity/src/IdentityProvider",[],function(){function e(e){this.userPromise=e.when(void 0)}return e.prototype.getUser=function(){return this.userPromise},e}),n("platform/identity/src/IdentityCreationDecorator",[],function(){function e(e,t){this.identityService=e,this.creationService=t}return e.prototype.createObject=function(e,t){var n=this.creationService,i=this.identityService;return i.getUser().then(function(i){return i&&i.key&&(e.creator=i.key),n.createObject(e,t)})},e}),n("platform/identity/src/IdentityIndicator",[],function(){function e(e){var t=this;e.getUser().then(function(e){e&&e.key&&(t.text=e.name||e.key,t.description="Logged in as "+e.key)})}return e.prototype.getCssClass=function(){return this.text&&"icon-person"},e.prototype.getText=function(){return this.text},e.prototype.getDescription=function(){return this.description},e}),n("platform/identity/bundle",["./src/IdentityAggregator","./src/IdentityProvider","./src/IdentityCreationDecorator","./src/IdentityIndicator","legacyRegistry"],function(e,t,n,i,r){r.register("platform/identity",{extensions:{components:[{implementation:e,type:"aggregator",provides:"identityService",depends:["$q"]},{implementation:t,type:"provider",provides:"identityService",depends:["$q"],priority:"fallback"},{type:"decorator",provides:"creationService",implementation:n,depends:["identityService"]}],indicators:[{implementation:i,depends:["identityService"]}],types:[{properties:[{key:"creator",name:"Creator"}]}]}})}),n("platform/persistence/aggregator/src/PersistenceAggregator",[],function(){function e(e,t){function n(e){return e.listSpaces().then(function(t){t.forEach(function(t){i[t]=i[t]||e})})}var i={};this.providerMapPromise=e.all(t.map(n)).then(function(){return i})}var t={createObject:!1,readObject:void 0,listObjects:[],updateObject:!1,deleteObject:!1};return e.prototype.listSpaces=function(){return this.providerMapPromise.then(function(e){return Object.keys(e)})},Object.keys(t).forEach(function(n){e.prototype[n]=function(e){var i=Array.prototype.slice.apply(arguments,[]);return this.providerMapPromise.then(function(r){var o=r[e];return o?o[n].apply(o,i):t[n]})}}),e}),n("platform/persistence/aggregator/bundle",["./src/PersistenceAggregator","legacyRegistry"],function(e,t){t.register("platform/persistence/aggregator",{extensions:{components:[{provides:"persistenceService",type:"aggregator",depends:["$q"],implementation:e}]}})}),n("platform/persistence/couch/src/CouchDocument",[],function(){function e(e,t,n,i){return{_id:e,_rev:n,_deleted:i,metadata:{category:"domain object",type:t.type,owner:"admin",name:t.name,created:Date.now()},model:t}}return e}),n("platform/persistence/couch/src/CouchPersistenceProvider",["./CouchDocument"],function(e){function t(e,t,n,i){this.spaces=[n],this.revs={},this.$q=t,this.$http=e,this.path=i}function n(e){return e.rows.map(function(e){return e.id})}var i="_rev",r="_id";return t.prototype.checkResponse=function(e){return e&&e.ok?(this.revs[e.id]=e.rev,e.ok):!1},t.prototype.getModel=function(e){return e&&e.model?(this.revs[e[r]]=e[i],e.model):void 0},t.prototype.request=function(e,t,n){return this.$http({method:t,url:this.path+"/"+e,data:n}).then(function(e){return e.data},function(){})},t.prototype.get=function(e){return this.request(e,"GET")},t.prototype.put=function(e,t){return this.request(e,"PUT",t)},t.prototype.listSpaces=function(){return this.$q.when(this.spaces)},t.prototype.listObjects=function(){return this.get("_all_docs").then(n.bind(this))},t.prototype.createObject=function(t,n,i){return this.put(n,new e(n,i)).then(this.checkResponse.bind(this))},t.prototype.readObject=function(e,t){return this.get(t).then(this.getModel.bind(this))},t.prototype.updateObject=function(t,n,i){var r=this.revs[n];return this.put(n,new e(n,i,r)).then(this.checkResponse.bind(this))},t.prototype.deleteObject=function(t,n,i){var r=this.revs[n];return this.put(n,new e(n,i,r,!0)).then(this.checkResponse.bind(this))},t}),n("platform/persistence/couch/src/CouchIndicator",[],function(){function e(e,o,s,a){function c(){d.state=n}function l(e){var n=e.data;d.state=n.error?i:t}function u(){e.get(s).then(l,c)}var d=this;this.state=r,this.$http=e,this.$interval=o,this.path=s,this.interval=a,u(),o(u,a)}var t={text:"Connected",glyphClass:"ok",description:"Connected to the domain object database."},n={text:"Disconnected",glyphClass:"err",description:"Unable to connect to the domain object database."},i={text:"Unavailable",glyphClass:"caution",description:"Database does not exist or is unavailable."},r={text:"Checking connection..."};return e.prototype.getCssClass=function(){return"icon-database"},e.prototype.getGlyphClass=function(){return this.state.glyphClass},e.prototype.getText=function(){return this.state.text},e.prototype.getDescription=function(){return this.state.description},e}),n("platform/persistence/couch/bundle",["./src/CouchPersistenceProvider","./src/CouchIndicator","legacyRegistry"],function(e,t,n){n.register("platform/persistence/couch",{name:"Couch Persistence",description:"Adapter to read and write objects using a CouchDB instance.",extensions:{components:[{provides:"persistenceService",type:"provider",implementation:e,depends:["$http","$q","PERSISTENCE_SPACE","COUCHDB_PATH"]}],constants:[{key:"PERSISTENCE_SPACE",value:"mct"},{key:"COUCHDB_PATH",value:"/couch/openmct"},{key:"COUCHDB_INDICATOR_INTERVAL",value:15e3}],indicators:[{implementation:t,depends:["$http","$interval","COUCHDB_PATH","COUCHDB_INDICATOR_INTERVAL"]}]}})}),n("platform/persistence/elastic/src/ElasticPersistenceProvider",[],function(){function e(e,t,n,i,r){this.spaces=[n],this.revs={},this.$http=e,this.$q=t,this.root=i,this.path=r}var t="_source",n="_version",i="_id",r=409;return e.prototype.request=function(e,t,n,i){return this.$http({method:t,url:this.root+"/"+this.path+"/"+e,params:i,data:n}).then(function(e){return e.data},function(e){return(e||{}).data})},e.prototype.get=function(e){return this.request(e,"GET")},e.prototype.put=function(e,t,n){return this.request(e,"PUT",t,n)},e.prototype.del=function(e){return this.request(e,"DELETE")},e.prototype.handleError=function(e,n){var i=new Error("Persistence error."),o=this.$q;return(e||{}).status===r?(i.key="revision",this.get(n).then(function(e){return i.model=e[t],o.reject(i)})):this.$q.reject(i)},e.prototype.getModel=function(e){return e&&e[t]?(this.revs[e[i]]=e[n],e[t]):void 0},e.prototype.checkResponse=function(e,t){return e&&!e.error?(this.revs[t]=e[n],e):this.handleError(e,t)},e.prototype.listSpaces=function(){return this.$q.when(this.spaces)},e.prototype.listObjects=function(){return this.$q.when([])},e.prototype.createObject=function(e,t,n){return this.put(t,n).then(this.checkResponse.bind(this))},e.prototype.readObject=function(e,t){return this.get(t).then(this.getModel.bind(this))},e.prototype.updateObject=function(e,t,n){function i(e){return r.checkResponse(e,t)}var r=this;return this.put(t,n,{version:this.revs[t]}).then(i)},e.prototype.deleteObject=function(e,t){return this.del(t).then(this.checkResponse.bind(this))},e}),n("platform/persistence/elastic/src/ElasticSearchProvider",[],function(){function e(e,t){this.$http=e,this.root=t}var t="_id",n="_source",i="_score";return e.prototype.query=function(e,t){var n=this.root+"/_search/",i={},r=this;return e=this.cleanTerm(e),e=this.fuzzyMatchUnquotedTerms(e),i.q=e,i.size=t,this.$http({method:"GET",url:n,params:i}).then(function(e){return r.parseResponse(e)},function(){return{hits:[],total:0}})},e.prototype.cleanTerm=function(e){return e.trim().replace(/ +/g," ")},e.prototype.fuzzyMatchUnquotedTerms=function(e){var t='\\s+(?=([^"]*"[^"]*")*[^"]*$)',n=new RegExp(t,"g");return e.replace(n,"~ ").replace(/$/,"~").replace(/"~+/,'"')},e.prototype.parseResponse=function(e){var r=e.data.hits.hits,o=r.map(function(e){return{id:e[t],model:e[n],score:e[i]}});return{hits:o,total:e.data.hits.total}},e}),n("platform/persistence/elastic/src/ElasticIndicator",[],function(){function e(e,r,o,s){function a(){u.state=n}function c(){u.state=t}function l(){e.get(o).then(c,a)}var u=this;this.state=i,l(),r(l,s,0,!1)}var t={text:"Connected",glyphClass:"ok",description:"Connected to the domain object database."},n={text:"Disconnected",glyphClass:"err",description:"Unable to connect to the domain object database."},i={text:"Checking connection..."};return e.prototype.getCssClass=function(){return"icon-database"},e.prototype.getGlyphClass=function(){return this.state.glyphClass},e.prototype.getText=function(){return this.state.text},e.prototype.getDescription=function(){return this.state.description},e}),n("platform/persistence/elastic/bundle",["./src/ElasticPersistenceProvider","./src/ElasticSearchProvider","./src/ElasticIndicator","legacyRegistry"],function(e,t,n,i){i.register("platform/persistence/elastic",{name:"ElasticSearch Persistence",description:"Adapter to read and write objects using an ElasticSearch instance.",extensions:{components:[{provides:"persistenceService",type:"provider",implementation:e,depends:["$http","$q","PERSISTENCE_SPACE","ELASTIC_ROOT","ELASTIC_PATH"]},{provides:"searchService",type:"provider",implementation:t,depends:["$http","ELASTIC_ROOT"]}],constants:[{key:"PERSISTENCE_SPACE",value:"mct"},{key:"ELASTIC_ROOT",value:"http://localhost:9200",priority:"fallback"},{key:"ELASTIC_PATH",value:"mct/domain_object",priority:"fallback"},{key:"ELASTIC_INDICATOR_INTERVAL",value:15e3,priority:"fallback"}],indicators:[{implementation:n,depends:["$http","$interval","ELASTIC_ROOT","ELASTIC_INDICATOR_INTERVAL"]}]}})}),n("platform/persistence/local/src/LocalStoragePersistenceProvider",[],function(){function e(e,t,n){this.$q=t,this.space=n,this.spaces=n?[n]:[],this.localStorage=e.localStorage}return e.prototype.setValue=function(e,t){this.localStorage[e]=JSON.stringify(t)},e.prototype.getValue=function(e){return this.localStorage[e]?JSON.parse(this.localStorage[e]):{}},e.prototype.listSpaces=function(){return this.$q.when(this.spaces)},e.prototype.listObjects=function(e){return this.$q.when(Object.keys(this.getValue(e)))},e.prototype.createObject=function(e,t,n){var i=this.getValue(e);return i[t]=n,this.setValue(e,i),this.$q.when(!0)},e.prototype.readObject=function(e,t){var n=this.getValue(e);return this.$q.when(n[t])},e.prototype.deleteObject=function(e,t){var n=this.getValue(e);return delete n[t],this.setValue(e,n),this.$q.when(!0)},e.prototype.updateObject=e.prototype.createObject,e}),n("platform/persistence/local/src/LocalStorageIndicator",[],function(){function e(){}var t=["Using browser local storage for persistence.","Anything you create or change will be visible only","in this browser on this machine."].join(" ");return e.prototype.getCssClass=function(){return"icon-database"},e.prototype.getGlyphClass=function(){return"caution"},e.prototype.getText=function(){return"Off-line storage"},e.prototype.getDescription=function(){return t},e}),n("platform/persistence/local/bundle",["./src/LocalStoragePersistenceProvider","./src/LocalStorageIndicator","legacyRegistry"],function(e,t,n){n.register("platform/persistence/local",{extensions:{components:[{provides:"persistenceService",type:"provider",implementation:e,depends:["$window","$q","PERSISTENCE_SPACE"]}],constants:[{key:"PERSISTENCE_SPACE",value:"mct"}],indicators:[{implementation:t}]}})}),n("platform/persistence/queue/src/QueuingPersistenceCapability",[],function(){function e(e,t,n){var i=Object.create(t);return i.persist=function(){return e.put(n,t)},i}return e}),n("platform/persistence/queue/src/QueuingPersistenceCapabilityDecorator",["./QueuingPersistenceCapability"],function(e){function t(e,t){this.persistenceQueue=e,this.capabilityService=t}return t.prototype.getCapabilities=function(t,n){function i(t){var n=t.persistence;return n&&(t.persistence=function(t){var i="function"==typeof n?n(t):n;return new e(o,i,t)}),t}var r=this.capabilityService,o=this.persistenceQueue;return i(r.getCapabilities(t,n))},t}),n("platform/persistence/queue/src/PersistenceQueueImpl",[],function(){function e(e,t,n,i){this.persistences={},this.objects={},this.lastObservedSize=0,this.activeDefer=e.defer(),this.delay=i||0,this.handler=n,this.$timeout=t,this.$q=e}return e.prototype.scheduleFlush=function(){function e(){return Object.keys(i.persistences).length===i.lastObservedSize}function t(){function e(e){return i.flushPromise=void 0,t.resolve(e),e}var t=i.activeDefer;i.flushPromise=s.persist(i.persistences,i.objects,i).then(e,e),i.persistences={},i.objects={},i.lastObservedSize=0,i.pendingTimeout=void 0,i.activeDefer=o.defer()}function n(){i.pendingTimeout=void 0,e()?t():i.scheduleFlush(),i.lastObservedSize=Object.keys(i.persistences).length}var i=this,r=this.$timeout,o=this.$q,s=this.handler;return i.flushPromise?i.flushPromise.then(n):i.pendingTimeout=i.pendingTimeout||r(n,i.delay,!1),i.activeDefer.promise},e.prototype.put=function(e,t){var n=e.getId();return this.persistences[n]=t,this.objects[n]=e,this.scheduleFlush()},e}),n("platform/persistence/queue/src/PersistenceQueueHandler",[],function(){function e(e,t){this.$q=e,this.failureHandler=t}return e.prototype.persist=function(e,t,n){function i(e,t,n,i){function r(e){function r(){return i.put(l,a)}function o(e){return e}function s(t){return c.push({id:e,persistence:a,domainObject:l,requeue:r,error:t}),!1}var a=t[e],l=n[e];return a.persist().then(o,s)}function a(e){return c.length>0?s.handle(c):e}var c=[];return o.all(e.map(r)).then(a)}var r=Object.keys(e),o=this.$q,s=this.failureHandler;return i(r,e,t,n)},e}),n("platform/persistence/queue/src/PersistenceFailureConstants",{REVISION_ERROR_KEY:"revision",OVERWRITE_KEY:"overwrite",TIMESTAMP_FORMAT:"YYYY-MM-DD HH:mm:ss\\Z",UNKNOWN_USER:"unknown user"}),n("platform/persistence/queue/src/PersistenceFailureDialog",["./PersistenceFailureConstants"],function(e){function t(t){function r(t){var n=((t||{}).error||{}).key===e.REVISION_ERROR_KEY;(n?o:s).push(t)}var o=[],s=[];return t.forEach(r),{title:"Save Error",template:"persistence-failure-dialog",model:{revised:o,unrecoverable:s},options:o.length>0?n:i}}var n=[{name:"Overwrite",key:e.OVERWRITE_KEY},{name:"Discard",key:"cancel"}],i=[{name:"OK",key:"ok"}];return t}),n("platform/persistence/queue/src/PersistenceFailureHandler",["./PersistenceFailureDialog","./PersistenceFailureConstants"],function(e,t){function n(e,t){this.$q=e,this.dialogService=t}return n.prototype.handle=function(n){function i(e){return e.persistence.refresh()}function r(e){e.requeue()}function o(e){function t(e){o[e.id]=JSON.parse(JSON.stringify(e.domainObject.getModel()))}function n(e){var t=o[e.id];return e.domainObject.useCapability("mutation",function(){return t},t.modified)}var o={};return e.forEach(t),d.all(e.map(i)).then(function(){return d.all(e.map(n))}).then(function(){return d.all(e.map(r))})}function s(e){var t=e.domainObject.getCapability("persistence");return t.refresh()}function a(e){return d.all(e.map(s))}function c(e){return e===t.OVERWRITE_KEY?o(u):a(u)}var l=new e(n),u=l.model.revised,d=this.$q;return this.dialogService.getUserChoice(l).then(c,c)},n}),n("platform/persistence/queue/src/PersistenceQueue",["./PersistenceQueueImpl","./PersistenceQueueHandler","./PersistenceFailureHandler"],function(e,t,n){function i(i,r,o,s){return new e(i,r,new t(i,new n(i,o)),s)}return i}),n("platform/persistence/queue/src/PersistenceFailureController",["moment","./PersistenceFailureConstants"],function(e,t){function n(){}return n.prototype.formatTimestamp=function(n){return e.utc(n).format(t.TIMESTAMP_FORMAT)},n.prototype.formatUsername=function(e){return e||t.UNKNOWN_USER},n}),n("text!platform/persistence/queue/res/templates/persistence-failure-dialog.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="PersistenceFailureController as controller">\n\n<div ng-if="ngModel.revised.length > 0">\n    External changes have been made to the following objects:\n    <ul>\n        <li ng-repeat="failure in ngModel.revised">\n            <mct-representation key="\'label\'"\n                                mct-object="failure.domainObject">\n            </mct-representation>\n            was modified at\n            <b>{{controller.formatTimestamp(failure.error.model.modified)}}</b>\n            by\n            <i>{{controller.formatUsername(failure.error.model.modifier)}}</i>\n        </li>\n    </ul>\n    You may overwrite these objects, or discard your changes to keep\n    the updates that were made externally.\n</div>\n\n<div ng-if="ngModel.unrecoverable.length > 0">\n    Changes to these objects could not be saved for unknown reasons:\n    <ul>\n        <li ng-repeat="failure in ngModel.unrecoverable">\n            <mct-representation key="\'label\'"\n                                mct-object="failure.domainObject">\n            </mct-representation>\n        </li>\n    </ul>\n</div>\n\n</span>\n'}),n("platform/persistence/queue/bundle",["./src/QueuingPersistenceCapabilityDecorator","./src/PersistenceQueue","./src/PersistenceFailureController","text!./res/templates/persistence-failure-dialog.html","legacyRegistry"],function(e,t,n,i,r){r.register("platform/persistence/queue",{extensions:{components:[{type:"decorator",provides:"capabilityService",implementation:e,depends:["persistenceQueue"]}],services:[{key:"persistenceQueue",implementation:t,depends:["$q","$timeout","dialogService","PERSISTENCE_QUEUE_DELAY"]}],constants:[{key:"PERSISTENCE_QUEUE_DELAY",value:5}],templates:[{key:"persistence-failure-dialog",template:i}],controllers:[{key:"PersistenceFailureController",implementation:n}]}})}),n("platform/policy/src/PolicyActionDecorator",[],function(){function e(e,t){this.policyService=e,this.actionService=t}return e.prototype.getActions=function(e){function t(t){return n.allow("action",t,e)}var n=this.policyService;return this.actionService.getActions(e).filter(t)},e}),n("platform/policy/src/PolicyViewDecorator",[],function(){function e(e,t){this.policyService=e,this.viewService=t}return e.prototype.getViews=function(e){function t(t){return n.allow("view",t,e)}var n=this.policyService;return this.viewService.getViews(e).filter(t)},e}),n("platform/policy/src/PolicyProvider",[],function(){function e(e){function t(e){var t=Object.create(new e);return t.message=e.message,t}function n(e){var n=(e||{}).category;n&&(i[n]=i[n]||[],i[n].push(t(e)))}var i={};e.forEach(n),this.policyMap=i}return e.prototype.allow=function(e,t,n,i){var r,o=this.policyMap[e]||[];for(r=0;r<o.length;r+=1)if(!o[r].allow(t,n))return i&&i(o[r].message),!1;return!0},e}),n("platform/policy/bundle",["./src/PolicyActionDecorator","./src/PolicyViewDecorator","./src/PolicyProvider","legacyRegistry"],function(e,t,n,i){i.register("platform/policy",{name:"Policy Service",description:"Provides support for extension-driven decisions.",sources:"src",extensions:{components:[{type:"decorator",provides:"actionService",implementation:e,depends:["policyService"]},{type:"decorator",provides:"viewService",implementation:t,depends:["policyService"]},{type:"provider",provides:"policyService",implementation:n,depends:["policies[]"]}]}})}),n("platform/representation/src/MCTInclude",[],function(){function e(e,t){function n(e,n){var r=t.link(e,n,e.key&&i[e.key]);e.$watch("key",function(e){r(e&&i[e])})}var i={};return e.forEach(function(e){var t=e.key;i[t]=i[t]||e}),{restrict:"E",link:n,priority:-1e3,scope:{key:"=",ngModel:"=",parameters:"="}}}return e}),n("platform/representation/src/MCTRepresentation",[],function(){function e(e,t,n,i,r,o){function s(e,t){var n,i,r=c[e]||[];for(i=0;i<r.length;i+=1)if(n=r[i].type,!n||!t||t.getCapability("type").instanceOf(n))return r[i]}function a(e,t,a){function c(){var t=e.domainObject,n=s(e.key,t),r=(n||{}).uses||[],a=y;h&&(h(),h=void 0),t&&(h=t.getCapability("mutation").listen(c),e.model=t.getModel(),r.forEach(function(n){o.debug(["Requesting capability ",n," for representation ",e.key].join("")),i.when(t.useCapability(n)).then(function(t){y===a&&(e[n]=t)})}))}function l(){m.forEach(function(e){e.destroy()})}function u(e,t,n){return e===v&&n===f&&t.length===b.length&&t.every(function(e,t){return e===b[t]})}function d(e){return e?e.hasCapability("context")?e.getCapability("context").getPath().map(function(e){return e.getId()}):[e.getId()]:[]}function p(){var t=e.domainObject,n=s(e.key,t),i=(n||{}).uses||[],r=!(!n||!t),a=d(t),p=e.key;u(r,a,p)||(e.representation={},w(r?n:void 0),l(),!n&&e.key&&o.warn("No representation found for "+e.key),g.forEach(function(t){delete e[t]}),v=r,b=a,f=p,r&&(y+=1,c(),e.configuration=(e.model.configuration||{})[e.key]||{},m.forEach(function(e){e.represent(n,t)}),g=i.concat(["model"])))}var f,h,m=n.map(function(n){return new n(e,t,a)}),g=[],y=0,v=!1,b=[],w=r.link(e,t);e.$watch("key",p),e.$watch("domainObject",p),e.$on("$destroy",l),e.$on("$destroy",function(){h&&h()}),p()}var c={};return e.concat(t).forEach(function(e){var t=e.key;c[t]=c[t]||[],c[e.key].push(e)}),{restrict:"E",link:a,priority:-1e3,scope:{key:"=",domainObject:"=mctObject",ngModel:"=",parameters:"="}}}return e}),n("platform/representation/src/gestures/GestureConstants",{MCT_DRAG_TYPE:"mct-domain-object-id",MCT_EXTENDED_DRAG_TYPE:"mct-domain-object",MCT_MENU_DIMENSIONS:[170,200],MCT_DROP_EVENT:"mctDrop"}),n("platform/representation/src/gestures/DragGesture",["./GestureConstants"],function(e){function t(t,n,i,r){function o(i){var o=(i||{}).originalEvent||i;t.debug("Initiating drag");try{o.dataTransfer.effectAllowed="move",o.dataTransfer.setData("text/plain",JSON.stringify({id:r.getId(),model:r.getModel()})),o.dataTransfer.setData(e.MCT_DRAG_TYPE,r.getId()),n.setData(e.MCT_EXTENDED_DRAG_TYPE,r),n.setData(e.MCT_DRAG_TYPE,r.getId())}catch(s){t.warn(["Could not initiate drag due to ",s.message].join(""))}}function s(){n.removeData(e.MCT_DRAG_TYPE),n.removeData(e.MCT_EXTENDED_DRAG_TYPE)}t.debug("Attaching drag gesture"),i.attr("draggable","true"),i.on("dragstart",o),i.on("dragend",s),this.element=i,this.startDragCallback=o,this.endDragCallback=s}return t.prototype.destroy=function(){this.element.removeAttr("draggable"),this.element.off("dragstart",this.startDragCallback),this.element.off("dragend",this.endDragCallback)},t}),n("platform/representation/src/gestures/DropGesture",["./GestureConstants"],function(e){function t(t,n,i,r){function o(t,n){var r,o=i.scope&&i.scope();o&&o.$broadcast&&(r=i[0].getBoundingClientRect(),o.$broadcast(e.MCT_DROP_EVENT,t,{x:n.pageX-r.left,y:n.pageY-r.top}))}function s(n){var i=(n||{}).originalEvent||n,r=t.getData(e.MCT_EXTENDED_DRAG_TYPE);return r&&(c=l.getActions({key:"compose",selectedObject:r})[0])?(i.dataTransfer.dropEffect="move",i.preventDefault(),!1):void 0}function a(t){var i=(t||{}).originalEvent||t,r=i.dataTransfer.getData(e.MCT_DRAG_TYPE);r&&(t.preventDefault(),n.when(c&&c.perform()).then(function(){o(r,i)}))}var c,l=r.getCapability("action");l&&(i.on("dragover",s),i.on("drop",a)),this.element=i,this.dragOverCallback=s,this.dropCallback=a}return t.prototype.destroy=function(){this.element.off("dragover",this.dragOverCallback),this.element.off("drop",this.dropCallback)},t}),n("platform/representation/src/gestures/ContextMenuGesture",[],function(){function e(e,t,n,i){function r(e){i.getCapability("action").perform({key:"menu",domainObject:i,event:e})}var o,s=500;t.isMobile()?t.isMobile()&&(n.on("touchstart",function(t){t.touches.length<2&&(o=!0,e(function(){o&&r(t)},s))}),n.on("touchend",function(){o=!1})):n.on("contextmenu",r),this.showMenuCallback=r,this.element=n}return e.prototype.destroy=function(){this.element.off("contextmenu",this.showMenu)},e}),n("platform/representation/src/gestures/GestureProvider",[],function(){function e(e){var t={};e.forEach(function(e){t[e.key]=t[e.key]||e}),this.gestureMap=t}function t(e){e&&e.destroy&&e.destroy()}return e.prototype.attachGestures=function(e,n,i){var r=this.gestureMap,o=i.map(function(e){return r[e]}).filter(function(e){return void 0!==e&&(e.appliesTo?e.appliesTo(n):!0)}).map(function(t){return new t(e,n)});return{destroy:function(){o.forEach(t)}}},e}),n("platform/representation/src/gestures/GestureRepresenter",[],function(){function e(e,t,n){this.gestureService=e,this.element=n}return e.prototype.represent=function(e,t){this.destroy(),this.gestureHandle=this.gestureService.attachGestures(this.element,t,(e||{}).gestures||[])},e.prototype.destroy=function(){this.gestureHandle&&this.gestureHandle.destroy()},e}),n("platform/representation/src/services/DndService",[],function(){function e(e){var t={};return{setData:function(n,i){e.debug("Setting drag data for "+n),t[n]=i},getData:function(e){return t[e]},removeData:function(n){e.debug("Clearing drag data for "+n),delete t[n]}}}return e}),n("platform/representation/src/TemplateLinker",[],function(){function e(e,t,n,i){this.$templateRequest=e,this.$sce=t,this.$compile=n,this.$log=i}return e.prototype.load=function(e){return this.$templateRequest(this.$sce.trustAsResourceUrl(e),!1)},e.prototype.getPath=function(e){return[e.bundle.path,e.bundle.resources,e.templateUrl].join("/")},e.prototype.link=function(e,t,n){function i(){p&&(p.$destroy(),p=void 0)}function r(){f!==h&&(i(),f.replaceWith(h),f=h)}function o(){f!==t&&(f.replaceWith(t),f=t,f.empty())}function s(n){i(),p=e.$new(!1),t.html(n),m.$compile(t.contents())(p)}function a(e){o(),s(e),d=void 0}function c(e){m.$log.warn("Couldn't load template at "+e),r()}function l(e){e?(i(),o(),m.load(e).then(function(t){e===d&&s(t)},function(){c(e)})):r(),d=e}function u(e){e=e||{},e.templateUrl?l(m.getPath(e)):e.template?a(e.template):r()}var d,p,f=t,h=this.$compile("<!-- hidden mct element -->")(e),m=this;return u(n),u},e}),n("platform/representation/src/actions/ContextMenuAction",["../gestures/GestureConstants"],function(e){
function t(e,t,n,i,r,o){this.$compile=e,this.agentService=r,this.actionContext=o,this.popupService=i,this.getDocument=function(){return t},this.getRootScope=function(){return n}}var n,i='<mct-representation key="\'context-menu\'" mct-object="domainObject" ng-class="menuClass" ng-style="menuStyle"></mct-representation>';return t.prototype.perform=function(){function t(){o&&(o.dismiss(),o=void 0),f.$destroy(),p.off("mousedown",t),n=void 0}var r,o,s=this.$compile,a=this.getDocument(),c=this.getRootScope(),l=this.actionContext,u=[l.event.pageX,l.event.pageY],d=e.MCT_MENU_DIMENSIONS,p=a.find("body"),f=c.$new(),h=this.agentService.isMobile()?"touchstart":"mousedown";n&&n(),n=t,f.domainObject=l.domainObject,f.menuClass={"context-menu-holder":!0},r=s(i)(f),o=this.popupService.display(r,u,{marginX:-d[0],marginY:-d[1]}),f.menuClass["go-left"]=o.goesLeft(),f.menuClass["go-up"]=o.goesUp(),r.on(h,function(e){e.stopPropagation()}),p.on(h,t),r.on("click",t),l.event.preventDefault()},t}),n("platform/representation/src/TemplatePrefetcher",[],function(){function e(e){Array.prototype.slice.apply(arguments,[1]).reduce(function(e,t){return e.concat(t)},[]).forEach(function(t){t.templateUrl&&e.load(e.getPath(t))})}return e}),n("platform/representation/bundle",["./src/MCTInclude","./src/MCTRepresentation","./src/gestures/DragGesture","./src/gestures/DropGesture","./src/gestures/ContextMenuGesture","./src/gestures/GestureProvider","./src/gestures/GestureRepresenter","./src/services/DndService","./src/TemplateLinker","./src/actions/ContextMenuAction","./src/TemplatePrefetcher","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d){d.register("platform/representation",{extensions:{directives:[{key:"mctInclude",implementation:e,depends:["templates[]","templateLinker"]},{key:"mctRepresentation",implementation:t,depends:["representations[]","views[]","representers[]","$q","templateLinker","$log"]}],gestures:[{key:"drag",implementation:n,depends:["$log","dndService"]},{key:"drop",implementation:i,depends:["dndService","$q"]},{key:"menu",implementation:r,depends:["$timeout","agentService"]}],components:[{provides:"gestureService",type:"provider",implementation:o,depends:["gestures[]"]}],representers:[{implementation:s,depends:["gestureService"]}],services:[{key:"dndService",implementation:a,depends:["$log"]},{key:"templateLinker",implementation:c,depends:["$templateRequest","$sce","$compile","$log"],comment:"For internal use by mct-include and mct-representation."}],actions:[{key:"menu",implementation:l,depends:["$compile","$document","$rootScope","popupService","agentService"]}],runs:[{priority:"mandatory",implementation:u,depends:["templateLinker","templates[]","views[]","representations[]","controls[]","containers[]"]}]}})}),n("platform/search/src/controllers/SearchController",[],function(){function e(e,t){var n=this;this.$scope=e,this.searchService=t,this.numberToDisplay=this.RESULTS_PER_PAGE,this.availabileResults=0,this.$scope.results=[],this.$scope.loading=!1,this.pendingQuery=void 0,this.$scope.ngModel.filter=function(){return n.onFilterChange.apply(n,arguments)}}return e.prototype.RESULTS_PER_PAGE=20,e.prototype.areMore=function(){return this.$scope.results.length<this.availableResults},e.prototype.loadMore=function(){this.numberToDisplay+=this.RESULTS_PER_PAGE,this.dispatchSearch()},e.prototype.search=function(){var e=this.$scope.ngModel.input;return this.clearResults(),e?(this.$scope.loading=!0,this.$scope.ngModel.search=!0,void this.dispatchSearch()):(this.pendingQuery=void 0,this.$scope.ngModel.search=!1,void(this.$scope.loading=!1))},e.prototype.dispatchSearch=function(){var e=this.$scope.ngModel.input,t=this,n=e+this.numberToDisplay;this.pendingQuery!==n&&(this.pendingQuery=n,this.searchService.query(e,this.numberToDisplay,this.filterPredicate()).then(function(e){t.pendingQuery===n&&t.onSearchComplete(e)}))},e.prototype.filter=e.prototype.onFilterChange,e.prototype.onFilterChange=function(){this.pendingQuery=void 0,this.search()},e.prototype.filterPredicate=function(){if(this.$scope.ngModel.checkAll)return function(){return!0};var e=this.$scope.ngModel.checked;return function(t){return!!e[t.type]}},e.prototype.clearResults=function(){this.$scope.results=[],this.availableResults=0,this.numberToDisplay=this.RESULTS_PER_PAGE},e.prototype.onSearchComplete=function(e){this.availableResults=e.total,this.$scope.results=e.hits,this.$scope.loading=!1,this.pendingQuery=void 0},e}),n("platform/search/src/controllers/SearchMenuController",[],function(){function e(e,t){function n(){var t,n;if(e.ngModel.checkAll)for(t in e.ngModel.checked)e.ngModel.checked[t]&&(e.ngModel.checkAll=!1);if(e.ngModel.filtersString="",!e.ngModel.checkAll){for(n=0;n<e.ngModel.types.length;n+=1)e.ngModel.checked[e.ngModel.types[n].key]&&(""===e.ngModel.filtersString?e.ngModel.filtersString+=e.ngModel.types[n].name:e.ngModel.filtersString+=", "+e.ngModel.types[n].name);""===e.ngModel.filtersString&&(e.ngModel.checkAll=!0)}e.ngModel.filter()}function i(){Object.keys(e.ngModel.checked).forEach(function(t){e.ngModel.checked[t]=!1}),e.ngModel.filtersString="",e.ngModel.checkAll||(e.ngModel.checkAll=!0),e.ngModel.filter()}return e.ngModel.types=[],e.ngModel.checked={},e.ngModel.checkAll=!0,e.ngModel.filtersString="",t.forEach(function(t){t.key&&t.name&&"root"!==t.key&&(e.ngModel.types.push(t),e.ngModel.checked[t.key]=!1)}),{updateOptions:n,checkAll:i}}return e}),n("platform/search/src/services/GenericSearchProvider",["../../../../src/api/objects/object-utils","lodash"],function(e,t){function n(e,t,n,i,r,o,s){var a=this;this.$q=e,this.$log=t,this.modelService=n,this.openmct=s,this.indexedIds={},this.idsToIndex=[],this.pendingIndex={},this.pendingRequests=0,this.pendingQueries={},this.worker=this.startWorker(i),this.indexOnMutation(r),o.forEach(function(e){a.scheduleForIndexing(e)})}return n.prototype.MAX_CONCURRENT_REQUESTS=100,n.prototype.query=function(e,t){var n=this.dispatchSearch(e,t),i=this.$q.defer();return this.pendingQueries[n]=i,i.promise},n.prototype.startWorker=function(e){var t=e.run("genericSearchWorker"),n=this;return t.addEventListener("message",function(e){n.onWorkerMessage(e)}),t},n.prototype.indexOnMutation=function(e){var t=e("mutation"),n=this;t.listen(function(e){var t=e.getCapability("editor");t&&t.inEditContext()||n.index(e.getId(),e.getModel())})},n.prototype.scheduleForIndexing=function(e){this.indexedIds[e]||this.pendingIndex[e]||(this.indexedIds[e]=!0,this.pendingIndex[e]=!0,this.idsToIndex.push(e)),this.keepIndexing()},n.prototype.keepIndexing=function(){for(;this.pendingRequests<this.MAX_CONCURRENT_REQUESTS&&this.idsToIndex.length;)this.beginIndexRequest()},n.prototype.index=function(n,i){var r=this;"ROOT"!==n&&this.worker.postMessage({request:"index",model:i,id:n});var o=e.toNewFormat(i,n),s=t.find(this.openmct.composition.registry,function(e){return e.appliesTo(o)});s&&s.load(o).then(function(t){t.forEach(function(t){r.scheduleForIndexing(e.makeKeyString(t))})})},n.prototype.beginIndexRequest=function(){var e=this.idsToIndex.shift(),t=this;this.pendingRequests+=1,this.modelService.getModels([e]).then(function(n){delete t.pendingIndex[e],n[e]&&t.index(e,n[e])},function(){t.$log.warn("Failed to index domain object "+e)}).then(function(){setTimeout(function(){t.pendingRequests-=1,t.keepIndexing()},0)})},n.prototype.onWorkerMessage=function(e){if("search"===e.data.request){var t=this.pendingQueries[e.data.queryId],n={total:e.data.total};n.hits=e.data.results.map(function(e){return{id:e.item.id,model:e.item.model,score:e.matchCount}}),t.resolve(n),delete this.pendingQueries[e.data.queryId]}},n.prototype.makeQueryId=function(){for(var e=Math.ceil(1e5*Math.random());this.pendingQueries[e];)e=Math.ceil(1e5*Math.random());return e},n.prototype.dispatchSearch=function(e,t){var n=this.makeQueryId();return this.worker.postMessage({request:"search",input:e,maxResults:t,queryId:n}),n},n}),n("platform/search/src/services/SearchAggregator",[],function(){function e(e,t,n){this.$q=e,this.objectService=t,this.providers=n}return e.prototype.DEFAULT_MAX_RESULTS=100,e.prototype.FUDGE_FACTOR=5,e.prototype.query=function(e,t,n){var i,r=this;return t||(t=this.DEFAULT_MAX_RESULTS),i=this.providers.map(function(n){return n.query(e,t*r.FUDGE_FACTOR)}),this.$q.all(i).then(function(e){var t={hits:[],total:0};return e.forEach(function(e){t.hits=t.hits.concat(e.hits),t.total+=e.total}),t=r.orderByScore(t),t=r.applyFilter(t,n),t=r.removeDuplicates(t),r.asObjectResults(t)})},e.prototype.orderByScore=function(e){return e.hits.sort(function(e,t){return e.score>t.score?-1:t.score>e.score?1:0}),e},e.prototype.applyFilter=function(e,t){if(!t)return e;var n,i,r=e.hits.length;return e.hits=e.hits.filter(function(e){return t(e.model)}),n=e.hits.length,i=r-n,e.total-=i,e},e.prototype.removeDuplicates=function(e){var t={};return e.hits=e.hits.filter(function(n){return t[n.id]?(e.total-=1,!1):(t[n.id]=!0,!0)}),e},e.prototype.asObjectResults=function(e){var t=e.hits.map(function(e){return e.id});return this.objectService.getObjects(t).then(function(t){var n={total:e.total};return n.hits=e.hits.map(function(e){return{id:e.id,object:t[e.id],score:e.score}}),n})},e}),n("text!platform/search/res/templates/search-item.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n\n<div class="search-result-item l-flex-row flex-elem grows"\n     ng-class="{selected: ngModel.selectedObject.getId() === domainObject.getId()}">\n    <mct-representation key="\'label\'"\n                        mct-object="domainObject"\n                        ng-model="ngModel"\n                        ng-click="ngModel.allowSelection(domainObject) && ngModel.onSelection(domainObject)"\n                        class="l-flex-row flex-elem grows">\n    </mct-representation>\n</div>\n'}),n("text!platform/search/res/templates/search.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="angular-w" ng-controller="SearchController as controller">\n    <div class="l-flex-col flex-elem grows holder holder-search" ng-controller="SearchMenuController as menuController">\n        <div class="search-bar flex-elem l-flex-row"\n             ng-controller="ToggleController as toggle"\n             ng-class="{ holder: !(ngModel.input === \'\' || ngModel.input === undefined) }">\n            <div class="holder flex-elem grows">\n                <input class="search-input"\n                       type="text"\n                       ng-model="ngModel.input"\n                       ng-keyup="controller.search()"/>\n                <a class="clear-icon clear-input icon-x-in-circle"\n                   ng-class="{show: !(ngModel.input === \'\' || ngModel.input === undefined)}"\n                   ng-click="ngModel.input = \'\'; controller.search()"></a>\n\n                <!-- To prevent double triggering of clicks on click away, render\n                non-clickable version of the button when menu active-->\n                <a ng-if="!toggle.isActive()" class="menu-icon context-available"\n                   ng-click="toggle.toggle()"></a>\n                <a ng-if="toggle.isActive()" class="menu-icon context-available"></a>\n\n                <mct-include key="\'search-menu\'"\n                             class="menu-element search-menu-holder"\n                             ng-class="{off: !toggle.isActive()}"\n                             ng-model="ngModel"\n                             parameters="{menuVisible: toggle.setState}">\n                </mct-include>\n            </div>\n\n            <a class="holder s-button flex-elem btn-cancel"\n               ng-show="!(ngModel.input === \'\' || ngModel.input === undefined)"\n               ng-click="ngModel.input = \'\'; ngModel.checkAll = true; menuController.checkAll(); controller.search()">\n                Cancel</a>\n        </div>\n\n        <div class="active-filter-display flex-elem holder"\n             ng-class="{off: ngModel.filtersString === \'\' || ngModel.filtersString === undefined || !ngModel.search}">\n            <a class="clear-filters icon-x-in-circle s-icon-button"\n               ng-click="ngModel.checkAll = true; menuController.checkAll()"></a>Filtered by: {{ ngModel.filtersString }}\n        </div>\n\n        <div class="flex-elem holder results-msg" ng-model="ngModel" ng-show="!loading && ngModel.search">\n            {{\n                !results.length > 0? \'No results found\':\n                    results.length + \' result\' + (results.length > 1? \'s\':\'\') + \' found\'\n            }}\n        </div>\n\n        <div class="search-results flex-elem holder grows vscroll"\n             ng-class="{ off: !(loading || results.length > 0), loading: loading }">\n            <mct-representation key="\'search-item\'"\n                                ng-repeat="result in results"\n                                mct-object="result.object"\n                                ng-model="ngModel"\n                                class="l-flex-row flex-elem grows">\n            </mct-representation>\n            <a class="load-more-button s-button vsm" ng-if="controller.areMore()" ng-click="controller.loadMore()">More Results</a>\n        </div>\n    </div>\n</div>\n'}),n("text!platform/search/res/templates/search-menu.html",[],function(){return'<!--\n Open MCT, Copyright (c) 2014-2017, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n--> \n\n<div ng-controller="SearchMenuController as controller">\n\n    <div class="menu checkbox-menu"\n         mct-click-elsewhere="parameters.menuVisible(false)">\n        <ul>\n            <!-- First element is special - it\'s a reset option -->\n            <li class="search-menu-item special icon-asterisk"\n                title="Select all filters"\n                ng-click="ngModel.checkAll = !ngModel.checkAll; controller.checkAll()">\n                <label class="checkbox custom no-text">\n                    <input type="checkbox"\n                           class="checkbox"\n                           ng-model="ngModel.checkAll"\n                           ng-change="controller.checkAll()" />\n                    <em></em>\n                </label>\n				All\n            </li>\n\n            <!-- The filter options, by type -->\n            <li class="search-menu-item {{ type.cssClass }}"\n                ng-repeat="type in ngModel.types"\n                ng-click="ngModel.checked[type.key] = !ngModel.checked[type.key]; controller.updateOptions()">\n\n                <label class="checkbox custom no-text">\n                    <input type="checkbox"\n                           class="checkbox"\n                           ng-model="ngModel.checked[type.key]"\n                           ng-change="controller.updateOptions()" />\n                    <em></em>\n                </label>\n				{{ type.name }}\n            </li>\n        </ul>\n    </div>\n</div>\n'}),n("text!platform/search/src/services/GenericSearchWorker.js",[],function(){return"/*****************************************************************************\n * Open MCT, Copyright (c) 2014-2017, United States Government\n * as represented by the Administrator of the National Aeronautics and Space\n * Administration. All rights reserved.\n *\n * Open MCT is licensed under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * http://www.apache.org/licenses/LICENSE-2.0.\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n *\n * Open MCT includes source code licensed under additional open source\n * licenses. See the Open Source Licenses file (LICENSES.md) included with\n * this source code distribution or the Licensing information page available\n * at runtime from the About dialog for additional information.\n *****************************************************************************/\n\n/*global self*/\n\n/**\n * Module defining GenericSearchWorker. Created by shale on 07/21/2015.\n */\n(function () {\n\n    // An array of objects composed of domain object IDs and models\n    // {id: domainObject's ID, model: domainObject's model}\n    var indexedItems = [],\n        TERM_SPLITTER = /[ _\\*]/;\n\n    function indexItem(id, model) {\n        var vector = {\n            name: model.name\n        };\n        vector.cleanName = model.name.trim();\n        vector.lowerCaseName = vector.cleanName.toLocaleLowerCase();\n        vector.terms = vector.lowerCaseName.split(TERM_SPLITTER);\n\n        indexedItems.push({\n            id: id,\n            vector: vector,\n            model: model\n        });\n    }\n\n    // Helper function for search()\n    function convertToTerms(input) {\n        var query = {\n                exactInput: input\n            };\n        query.inputClean = input.trim();\n        query.inputLowerCase = query.inputClean.toLocaleLowerCase();\n        query.terms = query.inputLowerCase.split(TERM_SPLITTER);\n        query.exactTerms = query.inputClean.split(TERM_SPLITTER);\n        return query;\n    }\n\n    /**\n     * Gets search results from the indexedItems based on provided search\n     *   input. Returns matching results from indexedItems\n     *\n     * @param data An object which contains:\n     *           * input: The original string which we are searching with\n     *           * maxResults: The maximum number of search results desired\n     *           * queryId: an id identifying this query, will be returned.\n     */\n    function search(data) {\n        // This results dictionary will have domain object ID keys which\n        // point to the value the domain object's score.\n        var results,\n            input = data.input,\n            query = convertToTerms(input),\n            message = {\n                request: 'search',\n                results: {},\n                total: 0,\n                queryId: data.queryId\n            },\n            matches = {};\n\n        if (!query.inputClean) {\n            // No search terms, no results;\n            return message;\n        }\n\n        // Two phases: find matches, then score matches.\n        // Idea being that match finding should be fast, so that future scoring\n        // operations process fewer objects.\n\n        query.terms.forEach(function findMatchingItems(term) {\n            indexedItems\n                .filter(function matchesItem(item) {\n                    return item.vector.lowerCaseName.indexOf(term) !== -1;\n                })\n                .forEach(function trackMatch(matchedItem) {\n                    if (!matches[matchedItem.id]) {\n                        matches[matchedItem.id] = {\n                            matchCount: 0,\n                            item: matchedItem\n                        };\n                    }\n                    matches[matchedItem.id].matchCount += 1;\n                });\n        });\n\n        // Then, score matching items.\n        results = Object\n            .keys(matches)\n            .map(function asMatches(matchId) {\n                return matches[matchId];\n            })\n            .map(function prioritizeExactMatches(match) {\n                if (match.item.vector.name === query.exactInput) {\n                    match.matchCount += 100;\n                } else if (match.item.vector.lowerCaseName ===\n                           query.inputLowerCase) {\n                    match.matchCount += 50;\n                }\n                return match;\n            })\n            .map(function prioritizeCompleteTermMatches(match) {\n                match.item.vector.terms.forEach(function (term) {\n                    if (query.terms.indexOf(term) !== -1) {\n                        match.matchCount += 0.5;\n                    }\n                });\n                return match;\n            })\n            .sort(function compare(a, b) {\n                if (a.matchCount > b.matchCount) {\n                    return -1;\n                }\n                if (a.matchCount < b.matchCount) {\n                    return 1;\n                }\n                return 0;\n            });\n\n        message.total = results.length;\n        message.results = results\n            .slice(0, data.maxResults);\n\n        return message;\n    }\n\n    self.onmessage = function (event) {\n        if (event.data.request === 'index') {\n            indexItem(event.data.id, event.data.model);\n        } else if (event.data.request === 'search') {\n            self.postMessage(search(event.data));\n        }\n    };\n}());\n"}),n("platform/search/bundle",["./src/controllers/SearchController","./src/controllers/SearchMenuController","./src/services/GenericSearchProvider","./src/services/SearchAggregator","text!./res/templates/search-item.html","text!./res/templates/search.html","text!./res/templates/search-menu.html","text!./src/services/GenericSearchWorker.js","legacyRegistry"],function(e,t,n,i,r,o,s,a,c){c.register("platform/search",{name:"Search",description:"Allows the user to search through the file tree.",extensions:{constants:[{key:"GENERIC_SEARCH_ROOTS",value:["ROOT"],priority:"fallback"}],controllers:[{key:"SearchController",implementation:e,depends:["$scope","searchService"]},{key:"SearchMenuController",implementation:t,depends:["$scope","types[]"]}],representations:[{key:"search-item",template:r}],templates:[{key:"search",template:o},{key:"search-menu",template:s}],components:[{provides:"searchService",type:"provider",implementation:n,depends:["$q","$log","modelService","workerService","topic","GENERIC_SEARCH_ROOTS","openmct"]},{provides:"searchService",type:"aggregator",implementation:i,depends:["$q","objectService"]}],workers:[{key:"genericSearchWorker",scriptText:a}]}})}),n("platform/status/src/StatusConstants",{CSS_CLASS_PREFIX:"s-status-",TOPIC_PREFIX:"status:"}),n("platform/status/src/StatusRepresenter",["./StatusConstants"],function(e){function t(e,t){this.element=t,this.lastClasses=[]}var n=e.CSS_CLASS_PREFIX;return t.prototype.clearClasses=function(){var e=this.element;this.lastClasses.forEach(function(t){e.removeClass(t)})},t.prototype.represent=function(e,t){function i(e){var t=e.map(function(e){return n+e});r.clearClasses(),t.forEach(function(e){r.element.addClass(e)}),r.lastClasses=t}var r=this,o=t.getCapability("status");i(o.list()),this.unlisten=o.listen(i)},t.prototype.destroy=function(){this.clearClasses(),this.unlisten&&(this.unlisten(),this.unlisten=void 0)},t}),n("platform/status/src/StatusCapability",[],function(){function e(e,t){this.statusService=e,this.domainObject=t}return e.prototype.list=function(){return this.statusService.listStatuses(this.domainObject.getId())},e.prototype.get=function(e){return-1!==this.list().indexOf(e)},e.prototype.set=function(e,t){return this.statusService.setStatus(this.domainObject.getId(),e,t)},e.prototype.listen=function(e){return this.statusService.listen(this.domainObject.getId(),e)},e}),n("platform/status/src/StatusService",["./StatusConstants"],function(e){function t(e){this.statusTable={},this.topic=e}var n=e.TOPIC_PREFIX;return t.prototype.listStatuses=function(e){return this.statusTable[e]||[]},t.prototype.setStatus=function(e,t,i){this.statusTable[e]=this.statusTable[e]||[],this.statusTable[e]=this.statusTable[e].filter(function(e){return e!==t}),i&&this.statusTable[e].push(t),this.topic(n+e).notify(this.statusTable[e])},t.prototype.listen=function(e,t){return this.topic(n+e).listen(t)},t}),n("platform/status/bundle",["./src/StatusRepresenter","./src/StatusCapability","./src/StatusService","legacyRegistry"],function(e,t,n,i){i.register("platform/status",{extensions:{representers:[{implementation:e}],capabilities:[{key:"status",implementation:t,depends:["statusService"]}],services:[{key:"statusService",implementation:n,depends:["topic"]}]}})}),n("platform/telemetry/src/TelemetryAggregator",[],function(){function e(e,t){this.$q=e,this.telemetryProviders=t}function t(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){t[n]=e[n]})}),t}return e.prototype.requestTelemetry=function(e){return this.$q.all(this.telemetryProviders.map(function(t){return t.requestTelemetry(e)})).then(t)},e.prototype.subscribe=function(e,t){var n=this.telemetryProviders.map(function(n){return n.subscribe(e,t)});return function(){n.forEach(function(e){e&&e()})}},e}),n("platform/telemetry/src/TelemetryController",[],function(){function e(e,t,n,i){function r(){m.broadcasting||(m.broadcasting=!0,n(function(){m.broadcasting=!1,e.$broadcast("telemetryUpdate")}))}function o(e,n){function o(e){m.pending-=n?1:0,s.data=e,r()}var s=m.response[e],a=s.domainObject,c=a.getCapability("telemetry");return m.pending+=n?1:0,c?t.when(c.requestData(m.request)).then(o):(i.warn(["Expected telemetry capability for ",e," but found none. Cannot request data."].join("")),void(m.pending-=n?1:0))}function s(e){return t.all(m.ids.map(function(t){return o(t,e)}))}function a(e,t){return e.subscribe(function(){o(t,!1)})}function c(){m.subscriptions.forEach(function(e){return e&&e()}),m.subscriptions=[]}function l(e){return e?t.when(e.useCapability("delegation","telemetry")).then(function(t){var n=e.hasCapability("telemetry")?[e]:[],i=t||[];return n.concat(i)}):t.when([])}function u(e){var t,n,r=e&&e.getCapability("telemetry");r?(t=e.getId(),m.subscriptions.push(a(r,t)),n=r.getMetadata(),m.response[t]={name:e.getModel().name,domainObject:e,metadata:n,pending:0,data:{}}):(i.warn(["Expected telemetry capability for ",e.getId()," but none was found."].join("")),m.response[e.getId()]={name:e.getModel().name,domainObject:e,metadata:{},pending:0,data:{}})}function d(e){c(),e.forEach(u),m.telemetryObjects=e,m.ids=e.map(function(e){return e.getId()}),m.metadatas=m.ids.map(function(e){return m.response[e].metadata}),m.request&&s(!0)}function p(e){c(),l(e).then(d)}function f(){m.refreshing||void 0===m.interval||(m.refreshing=!0,n(function(){m.request&&s(!1),m.refreshing=!1,m.active&&f()},m.interval))}function h(){c(),m.active=!1}var m={ids:[],response:{},request:{},pending:0,metadatas:[],interval:1e3,refreshing:!1,broadcasting:!1,subscriptions:[],telemetryObjects:[],active:!0};return e.$watch("domainObject",p),e.$on("$destroy",h),f(),{getMetadata:function(){return m.metadatas},getTelemetryObjects:function(){return m.telemetryObjects},getResponse:function g(e){var t=e&&("string"==typeof e?e:e.getId());return t?(m.response[t]||{}).data:(m.ids||[]).map(g)},isRequestPending:function(){return m.pending>0},requestData:function(e){return m.request=e||{},s(!0)},setRefreshInterval:function(e){m.interval=e,f()}}}return e}),n("platform/telemetry/src/TelemetryCapability",["../../../src/api/objects/object-utils"],function(e){function t(e,t,n,i,r){this.initializeTelemetryService=function(){try{return this.telemetryService=t.get("telemetryService")}catch(e){return i.warn("Telemetry service unavailable"),this.telemetryService=null}},this.openmct=e,this.$q=n,this.$log=i,this.domainObject=r}function n(e,t,n){return{getRangeValue:function(t,i){return e[t][i||n]},getDomainValue:function(n,i){return e[n][i||t]},getPointCount:function(){return e.length}}}var i=function(){return 0},r={getPointCount:i,getDomainValue:i,getRangeValue:i};return t.prototype.buildRequest=function(e){var t,n,i=this.domainObject,r=i.getCapability("type"),o=r&&r.getDefinition().telemetry||{},s=i.getModel().telemetry,a=Object.create(o);return Object.keys(s).forEach(function(e){a[e]=s[e]}),Object.keys(e).forEach(function(t){a[t]=e[t]}),a.id||(a.id=i.getId()),a.key||(a.key=i.getId()),void 0===e.start&&void 0===e.end&&(t=this.openmct.time.bounds(),a.start=t.start,a.end=t.end),void 0===e.domain&&(n=this.openmct.time.timeSystem(),void 0!==n&&(a.domain=n.key)),a},t.prototype.requestData=function(t){function i(e){return((e||{})[a]||{})[c]||r}function o(){return l.requestTelemetry([s])}var s=this.buildRequest(t||{}),a=s.source,c=s.key,l=this.telemetryService||this.initializeTelemetryService(),u=e.toNewFormat(this.domainObject.getModel(),this.domainObject.getId()),d=this.openmct.telemetry,p=d.getMetadata(u),f=p.valuesForHints(["domain"])[0].source,h=p.valuesForHints(["range"])[0].source,m=d.findRequestProvider(u)===d.legacyProvider;return m?l&&o().then(i):d.request(u,s).then(function(e){return n(e,f,h)})},t.prototype.getMetadata=function(){return this.metadata=this.metadata||this.buildRequest({})},t.prototype.subscribe=function(t,i){function r(e){t(n([e],d,p))}function o(e){var n=s.source,i=s.key,r=((e||{})[n]||{})[i];r&&t(r)}var s=this.buildRequest(i||{}),a=this.telemetryService||this.initializeTelemetryService(),c=e.toNewFormat(this.domainObject.getModel(),this.domainObject.getId()),l=this.openmct.telemetry,u=l.getMetadata(c),d=u.valuesForHints(["domain"])[0].source,p=u.valuesForHints(["range"])[0].source,f=l.findSubscriptionProvider(c)===l.legacyProvider;return f?a&&a.subscribe(o,[s]):l.subscribe(c,r,s);
},t.appliesTo=function(e){return e&&e.telemetry?!0:!1},t}),n("platform/telemetry/src/TelemetryFormatter",[],function(){function e(e,t){this.formatService=e,this.defaultFormat=e.getFormat(t)}return e.prototype.formatDomainValue=function(e,t){var n=void 0===t?this.defaultFormat:this.formatService.getFormat(t);return isNaN(e)?"":n.format(e)},e.prototype.formatRangeValue=function(e,t){return String(e)},e}),n("platform/telemetry/src/TelemetryQueue",[],function(){function e(){this.queue=[],this.counts={}}return e.prototype.isEmpty=function(){return this.queue.length<1},e.prototype.poll=function(){function e(e){t[e]<2?delete t[e]:t[e]-=1}var t=this.counts;return Object.keys(t).forEach(e),this.queue.shift()},e.prototype.put=function(e,t){function n(e){var t,n=r[e]||0;return r[e]=n+1,n<i.length?i[n]:(t={},i.push(t),t)}var i=this.queue,r=this.counts;n(e)[e]=t},e}),n("platform/telemetry/src/TelemetryTable",[],function(){function e(){}return e.prototype.isEmpty=function(){return!this.table},e.prototype.poll=function(){var e=this.table;return this.table=void 0,e},e.prototype.put=function(e,t){this.table=this.table||{},this.table[e]=t},e}),n("platform/telemetry/src/TelemetryDelegator",[],function(){function e(e){this.$q=e}return e.prototype.promiseTelemetryObjects=function(e){var t=this.$q;return e?t.when(e.useCapability("delegation","telemetry")).then(function(t){var n=e.hasCapability("telemetry")?[e]:[],i=t||[];return n.concat(i)}):t.when([])},e}),n("platform/telemetry/src/TelemetrySubscription",["./TelemetryQueue","./TelemetryTable","./TelemetryDelegator"],function(e,t,n){function i(i,r,o,s,a){function c(e){return x.promiseTelemetryObjects(e)}function l(){var e=C.poll();Object.keys(e).forEach(function(t){S.latestValues[t]=e[t]})}function u(){for(;!C.isEmpty();)l(),s&&s();w=!1}function d(e){var t=e.getCapability("telemetry");return t&&t.getMetadata()}function p(e,t){var n=t&&t.getPointCount();!w&&n&&(w=!0,r(u,0)),n>0&&C.put(e.getId(),{domain:t.getDomainValue(n-1),range:t.getRangeValue(n-1),datum:S.makeDatum(e,t,n-1)})}function f(e){var t=e.getCapability("telemetry");return t.subscribe(function(t){p(e,t)})}function h(e){return e.map(f)}function m(e){return S.telemetryObjects=e,S.metadatas=e.map(d),S.metadataById={},e.forEach(function(e,t){S.metadataById[e.getId()]=S.metadatas[t]}),s&&s(),e}function g(){S.telemetryObjectPromise=c(o),S.unsubscribePromise=S.telemetryObjectPromise.then(m).then(h)}function y(e){return e.length===S.telemetryObjects.length&&e.every(function(e,t){return S.telemetryObjects[t].getId()===e})}function v(e){y((e||{}).composition||[])||S.unsubscribeAll().then(g)}function b(){var e=o&&o.getCapability("mutation");return e?e.listen(v):void 0}var w,S=this,x=new n(i),C=a?new e:new t;this.$q=i,this.latestValues={},this.telemetryObjects=[],this.metadatas=[],g(),this.unlistenToMutation=b()}return i.prototype.makeDatum=function(e,t,n){var i=e&&e.getId(),r=i&&this.metadataById[i]||{},o={};return(r.domains||[]).forEach(function(e){o[e.key]=t.getDomainValue(n,e.key)}),(r.ranges||[]).forEach(function(e){o[e.key]=t.getRangeValue(n,e.key)}),o},i.prototype.unsubscribeAll=function(){var e=this.$q;return this.unsubscribePromise.then(function(t){return e.all(t.map(function(e){return e()}))})},i.prototype.unsubscribe=function(){return this.unlistenToMutation&&this.unlistenToMutation(),this.unsubscribeAll()},i.prototype.getDomainValue=function(e,t){var n=e.getId(),i=this.latestValues[n];return i&&(t?i.datum[t]:i.domain)},i.prototype.getRangeValue=function(e,t){var n=e.getId(),i=this.latestValues[n];return i&&(t?i.datum[t]:i.range)},i.prototype.getDatum=function(e){var t=e.getId();return(this.latestValues[t]||{}).datum},i.prototype.getTelemetryObjects=function(){return this.telemetryObjects},i.prototype.getMetadata=function(){return this.metadatas},i.prototype.promiseTelemetryObjects=function(){return this.telemetryObjectPromise},i}),n("platform/telemetry/src/TelemetrySubscriber",["./TelemetrySubscription"],function(e){function t(e,t){this.$q=e,this.$timeout=t}return t.prototype.subscribe=function(t,n,i){return new e(this.$q,this.$timeout,t,n,i)},t}),n("platform/telemetry/src/TelemetryHandle",[],function(){function e(e,t){function n(e,t,n){function o(t){return i[s]=t,n&&r&&n(e,t),t}var s=e.getId(),a=e.getCapability("telemetry");return a.requestData(t).then(o)}var i={},r=!0,o=Object.create(t);return o.unsubscribe=function(){return r=!1,t.unsubscribe()},o.getSeries=function(e){var t=e.getId();return i[t]},o.request=function(i,r){function o(e){return n(e,i,r)}function s(t){return e.all(t.map(o))}return i="number"==typeof i?{duration:i}:i,t.promiseTelemetryObjects().then(s)},o.getDatum=function(e,n){function i(i){return i?i.getDatum?i.getDatum(n):t.makeDatum(e,i,n):void 0}return"number"!=typeof n?t.getDatum(e):i(this.getSeries(e))},o}return e}),n("platform/telemetry/src/TelemetryHandler",["./TelemetryHandle"],function(e){function t(e,t){this.$q=e,this.telemetrySubscriber=t}return t.prototype.handle=function(t,n,i){var r=this.telemetrySubscriber.subscribe(t,n,i);return new e(this.$q,r)},t}),n("platform/telemetry/bundle",["./src/TelemetryAggregator","./src/TelemetryController","./src/TelemetryCapability","./src/TelemetryFormatter","./src/TelemetrySubscriber","./src/TelemetryHandler","legacyRegistry"],function(e,t,n,i,r,o,s){s.register("platform/telemetry",{name:"Data bundle",description:"Interfaces and infrastructure for real-time and historical data",configuration:{paths:{moment:"moment.min"},shim:{moment:{exports:"moment"}}},extensions:{components:[{provides:"telemetryService",type:"aggregator",implementation:e,depends:["$q"]}],controllers:[{key:"TelemetryController",implementation:t,depends:["$scope","$q","$timeout","$log"]}],capabilities:[{key:"telemetry",implementation:n,depends:["openmct","$injector","$q","$log"]}],services:[{key:"telemetryFormatter",implementation:i,depends:["formatService","DEFAULT_TIME_FORMAT"]},{key:"telemetrySubscriber",implementation:r,depends:["$q","$timeout"]},{key:"telemetryHandler",implementation:o,depends:["$q","telemetrySubscriber"]}],licenses:[{name:"Moment.js",version:"2.11.1",author:"Tim Wood, Iskren Chernev, Moment.js contributors",description:"Time/date parsing/formatting",website:"http://momentjs.com",copyright:"Copyright (c) 2011-2014 Tim Wood, Iskren Chernev, Moment.js contributors",license:"license-mit",link:"https://raw.githubusercontent.com/moment/moment/develop/LICENSE"}]}})}),n("src/defaultRegistry",["legacyRegistry","../src/adapter/bundle","../src/api/objects/bundle","../src/api/telemetry/bundle","../example/builtins/bundle","../example/composite/bundle","../example/eventGenerator/bundle","../example/export/bundle","../example/extensions/bundle","../example/forms/bundle","../example/identity/bundle","../example/imagery/bundle","../example/mobile/bundle","../example/msl/bundle","../example/notifications/bundle","../example/persistence/bundle","../example/plotOptions/bundle","../example/policy/bundle","../example/profiling/bundle","../example/scratchpad/bundle","../example/styleguide/bundle","../example/taxonomy/bundle","../example/worker/bundle","../platform/commonUI/about/bundle","../platform/commonUI/browse/bundle","../platform/commonUI/dialog/bundle","../platform/commonUI/edit/bundle","../platform/commonUI/formats/bundle","../platform/commonUI/general/bundle","../platform/commonUI/inspect/bundle","../platform/commonUI/mobile/bundle","../platform/commonUI/notification/bundle","../platform/commonUI/regions/bundle","../platform/commonUI/themes/espresso/bundle","../platform/commonUI/themes/snow/bundle","../platform/containment/bundle","../platform/core/bundle","../platform/entanglement/bundle","../platform/execution/bundle","../platform/exporters/bundle","../platform/features/clock/bundle","../platform/features/fixed/bundle","../platform/features/conductor/core/bundle","../platform/features/conductor/compatibility/bundle","../platform/features/imagery/bundle","../platform/features/layout/bundle","../platform/features/my-items/bundle","../platform/features/pages/bundle","../platform/features/plot/bundle","../platform/features/static-markup/bundle","../platform/features/table/bundle","../platform/features/timeline/bundle","../platform/forms/bundle","../platform/framework/bundle","../platform/framework/src/load/Bundle","../platform/identity/bundle","../platform/persistence/aggregator/bundle","../platform/persistence/couch/bundle","../platform/persistence/elastic/bundle","../platform/persistence/local/bundle","../platform/persistence/queue/bundle","../platform/policy/bundle","../platform/representation/bundle","../platform/search/bundle","../platform/status/bundle","../platform/telemetry/bundle"],function(e){var t=["src/adapter","src/api/objects","src/api/telemetry","platform/framework","platform/core","platform/representation","platform/commonUI/about","platform/commonUI/browse","platform/commonUI/edit","platform/commonUI/dialog","platform/commonUI/formats","platform/commonUI/general","platform/commonUI/inspect","platform/commonUI/mobile","platform/commonUI/notification","platform/containment","platform/execution","platform/exporters","platform/telemetry","platform/features/clock","platform/features/fixed","platform/features/imagery","platform/features/layout","platform/features/pages","platform/features/plot","platform/features/timeline","platform/features/table","platform/forms","platform/identity","platform/persistence/aggregator","platform/persistence/queue","platform/policy","platform/entanglement","platform/search","platform/status","platform/commonUI/regions"];return t.forEach(function(t){e.enable(t)}),e}),n("src/api/time/TimeAPI",["EventEmitter"],function(e){function t(){e.call(this),this.system=void 0,this.toi=void 0,this.boundsVal={start:void 0,end:void 0},this.timeSystems=new Map,this.clocks=new Map,this.activeClock=void 0,this.offsets=void 0,this.tick=this.tick.bind(this)}return t.prototype=Object.create(e.prototype),t.prototype.addTimeSystem=function(e){this.timeSystems.set(e.key,e)},t.prototype.getAllTimeSystems=function(){return Array.from(this.timeSystems.values())},t.prototype.addClock=function(e){this.clocks.set(e.key,e)},t.prototype.getAllClocks=function(){return Array.from(this.clocks.values())},t.prototype.validateBounds=function(e){return void 0===e.start||void 0===e.end||isNaN(e.start)||isNaN(e.end)?"Start and end must be specified as integer values":e.start>e.end?"Specified start date exceeds end bound":!0},t.prototype.validateOffsets=function(e){return void 0===e.start||void 0===e.end||isNaN(e.start)||isNaN(e.end)?"Start and end offsets must be specified as integer values":e.start>=e.end?"Specified start offset must be < end offset":!0},t.prototype.bounds=function(e){if(arguments.length>0){var t=this.validateBounds(e);if(t!==!0)throw new Error(t);this.boundsVal=JSON.parse(JSON.stringify(e)),this.emit("bounds",this.boundsVal,!1),(this.toi<e.start||this.toi>e.end)&&this.timeOfInterest(void 0)}return JSON.parse(JSON.stringify(this.boundsVal))},t.prototype.timeSystem=function(e,t){if(arguments.length>=1){if(1===arguments.length&&!this.activeClock)throw new Error("Must specify bounds when changing time system without an active clock.");var n;if(void 0===e)throw"Please provide a time system";if("string"==typeof e){if(n=this.timeSystems.get(e),void 0===n)throw"Unknown time system "+e+". Has it been registered with 'addTimeSystem'?"}else{if("object"!=typeof e)throw"Attempt to set invalid time system in Time API. Please provide a previously registered time system object or key";if(n=e,!this.timeSystems.has(n.key))throw"Unknown time system "+n.key+". Has it been registered with 'addTimeSystem'?"}this.system=n,this.emit("timeSystem",this.system),t&&this.bounds(t)}return this.system},t.prototype.timeOfInterest=function(e){return arguments.length>0&&(this.toi=e,this.emit("timeOfInterest",this.toi)),this.toi},t.prototype.tick=function(e){var t={start:e+this.offsets.start,end:e+this.offsets.end};this.boundsVal=t,this.emit("bounds",this.boundsVal,!0),(this.toi<t.start||this.toi>t.end)&&this.timeOfInterest(void 0)},t.prototype.clock=function(e,t){if(2===arguments.length){var n;if("string"==typeof e){if(n=this.clocks.get(e),void 0===n)throw"Unknown clock '"+e+"'. Has it been registered with 'addClock'?"}else if("object"==typeof e&&(n=e,!this.clocks.has(n.key)))throw"Unknown clock '"+e.key+"'. Has it been registered with 'addClock'?";var i=this.activeClock;void 0!==i&&i.off("tick",this.tick),this.activeClock=n,this.emit("clock",this.activeClock),void 0!==this.activeClock&&(this.clockOffsets(t),this.activeClock.on("tick",this.tick))}else if(1===arguments.length)throw"When setting the clock, clock offsets must also be provided";return this.activeClock},t.prototype.clockOffsets=function(e){if(arguments.length>0){var t=this.validateOffsets(e);if(t!==!0)throw new Error(t);this.offsets=e;var n=this.activeClock.currentValue(),i={start:n+e.start,end:n+e.end};this.bounds(i),this.emit("clockOffsets",e)}return this.offsets},t.prototype.stopClock=function(){this.activeClock&&this.clock(void 0,void 0)},t}),n("src/api/objects/MutableObject",["lodash"],function(e){function t(e,t){this.eventEmitter=e,this.object=t,this.unlisteners=[]}function n(e,t){return[e.identifier.key,t].join(":")}var i="mutation";return t.prototype.stopListening=function(){this.unlisteners.forEach(function(e){e()})},t.prototype.on=function(e,t){var i=n(this.object,e),r=this.eventEmitter.off.bind(this.eventEmitter,i,t);this.eventEmitter.on(i,t),this.unlisteners.push(r)},t.prototype.set=function(t,r){e.set(this.object,t,r),e.set(this.object,"modified",Date.now()),this.eventEmitter.emit(n(this.object,t),r),this.eventEmitter.emit(n(this.object,"*"),this.object),this.eventEmitter.emit(i,this.object)},t}),n("src/api/objects/RootRegistry",["lodash"],function(e){function t(){this.providers=[]}function n(t){return e.isObject(t)&&e.has(t,"key")&&e.has(t,"namespace")}return t.prototype.getRoots=function(){var t=this.providers.map(function(e){return e()});return Promise.all(t).then(e.flatten)},t.prototype.addRoot=function(t){n(t)||e.isArray(t)&&e.every(t,n)?this.providers.push(function(){return t}):e.isFunction(t)&&this.providers.push(t)},t}),n("src/api/objects/RootObjectProvider",[],function(){function e(e){this.rootRegistry=e}return e.prototype.get=function(){return this.rootRegistry.getRoots().then(function(e){return{identifier:{key:"ROOT",namespace:""},name:"The root object",type:"root",composition:e}})},e}),n("src/api/objects/ObjectAPI",["lodash","./object-utils","./MutableObject","./RootRegistry","./RootObjectProvider","EventEmitter"],function(e,t,n,i,r,o){function s(){this.eventEmitter=new o,this.providers={},this.rootRegistry=new i,this.rootProvider=new r(this.rootRegistry)}return s.prototype.supersecretSetFallbackProvider=function(e){this.fallbackProvider=e},s.prototype.getProvider=function(e){return"ROOT"===e.key?this.rootProvider:this.providers[e.namespace]||this.fallbackProvider},s.prototype.getRoot=function(){return this.rootProvider.get()},s.prototype.addProvider=function(e,t){this.providers[e]=t},["save","delete","get"].forEach(function(e){s.prototype[e]=function(){var t=arguments[0],n=this.getProvider(t);if(!n)throw new Error("No Provider Matched");if(!n[e])throw new Error("Provider does not support ["+e+"].");return n[e].apply(n,arguments)}}),s.prototype.addRoot=function(e){this.rootRegistry.addRoot(e)},s.prototype.mutate=function(e,t,i){var r=new n(this.eventEmitter,e);return r.set(t,i)},s.prototype.observe=function(e,t,i){var r=new n(this.eventEmitter,e);return r.on(t,i),r.stopListening.bind(r)},s}),n("src/api/composition/DefaultCompositionProvider",["lodash","../objects/object-utils"],function(e,t){function n(e){this.publicAPI=e,this.listeningTo={}}return n.prototype.appliesTo=function(e){return!!e.composition},n.prototype.load=function(e){return Promise.all(e.composition)},n.prototype.on=function(e,n,i,r){this.establishTopicListener();var o=t.makeKeyString(e.identifier),s=this.listeningTo[o];s||(s=this.listeningTo[o]={add:[],remove:[],composition:[].slice.apply(e.composition)}),s[n].push({callback:i,context:r})},n.prototype.off=function(n,i,r,o){var s=t.makeKeyString(n.identifier),a=this.listeningTo[s],c=e.findIndex(a[i],function(e){return e.callback===r&&e.context===o});a[i].splice(c,1),a.add.length||a.remove.length||delete this.listeningTo[s]},n.prototype.remove=function(e,t){throw new Error("Default Provider does not implement removal.")},n.prototype.add=function(e,t){throw new Error("Default Provider does not implement adding.")},n.prototype.establishTopicListener=function(){if(!this.topicListener){var e=this.publicAPI.$injector.get("topic"),t=e("mutation");this.topicListener=t.listen(this.onMutation.bind(this))}},n.prototype.onMutation=function(n){function i(e){return function(t){t.context?t.callback.call(t.context,e):t.callback(e)}}var r=n.getId(),o=this.listeningTo[r];if(o){var s=o.composition.map(t.makeKeyString),a=n.getModel().composition,c=e.difference(a,s).map(t.parseKeyString),l=e.difference(s,a).map(t.parseKeyString);o.composition=a.map(t.parseKeyString),c.forEach(function(e){o.add.forEach(i(e))}),l.forEach(function(e){o.remove.forEach(i(e))})}},n}),n("src/api/composition/CompositionCollection",["lodash"],function(e){function t(e,t,n){this.domainObject=e,this.provider=t,this.publicAPI=n,this.listeners={add:[],remove:[],load:[]},this.onProviderAdd=this.onProviderAdd.bind(this),this.onProviderRemove=this.onProviderRemove.bind(this)}return t.prototype.on=function(e,t,n){if(!this.listeners[e])throw new Error("Event not supported by composition: "+e);"add"===e&&this.provider.on(this.domainObject,"add",this.onProviderAdd,this),"remove"===e&&this.provider.on(this.domainObject,"remove",this.onProviderRemove,this),this.listeners[e].push({callback:t,context:n})},t.prototype.off=function(t,n,i){if(!this.listeners[t])throw new Error("Event not supported by composition: "+t);var r=e.findIndex(this.listeners[t],function(e){return e.callback===n&&e.context===i});if(-1===r)throw new Error("Tried to remove a listener that does not exist");this.listeners[t].splice(r,1),0===this.listeners[t].length&&("add"===t?this.provider.off(this.domainObject,"add",this.onProviderAdd,this):"remove"===t&&this.provider.off(this.domainObject,"remove",this.onProviderRemove,this))},t.prototype.add=function(e,t){t?this.emit("add",e):this.provider.add(this.domainObject,e.identifier)},t.prototype.load=function(){return this.provider.load(this.domainObject).then(function(e){return Promise.all(e.map(this.onProviderAdd,this))}.bind(this)).then(function(e){return this.emit("load"),e}.bind(this))},t.prototype.remove=function(e,t){t?this.emit("remove",e):this.provider.remove(this.domainObject,e.identifier)},t.prototype.onProviderAdd=function(e){return this.publicAPI.objects.get(e).then(function(e){return this.add(e,!0),e}.bind(this))},t.prototype.onProviderRemove=function(e){this.remove(e,!0)},t.prototype.emit=function(e,t){this.listeners[e].forEach(function(e){e.context?e.callback.call(e.context,t):e.callback(t)})},t}),n("src/api/composition/CompositionAPI",["lodash","EventEmitter","./DefaultCompositionProvider","./CompositionCollection"],function(e,t,n,i){function r(e){this.registry=[],this.policies=[],this.addProvider(new n(e)),this.publicAPI=e}return r.prototype.addProvider=function(e){this.registry.unshift(e)},r.prototype.get=function(t){var n=e.find(this.registry,function(e){return e.appliesTo(t)});if(n)return new i(t,n,this.publicAPI)},r.prototype.addPolicy=function(e){this.policies.push(e)},r.prototype.checkPolicy=function(e,t){return this.policies.every(function(n){return n(e,t)})},r}),n("src/api/types/Type",[],function(){function e(e){this.definition=e}return e.prototype.check=function(e){return e.type===this.key},e.prototype.toLegacyDefinition=function(){var e={};return e.name=this.definition.name,e.cssClass=this.definition.cssClass,e.description=this.definition.description,e.properties=this.definition.form,this.definition.initialize&&(e.model={},this.definition.initialize(e.model)),this.definition.creatable&&(e.features=["creation"]),e},e}),n("src/api/types/TypeRegistry",["./Type"],function(e){function t(){this.types={}}return t.prototype.addType=function(t,n){this.standardizeType(n),this.types[t]=new e(n)},t.prototype.standardizeType=function(e){e.hasOwnProperty("label")&&(console.warn("DEPRECATION WARNING typeDef: "+e.label+".  `label` is deprecated in type definitions.  Please use `name` instead.  This will cause errors in a future version of Open MCT.  For more information, see https://github.com/nasa/openmct/issues/1568"),e.name||(e.name=e.label),delete e.label)},t.prototype.listKeys=function(){return Object.keys(this.types)},t.prototype.get=function(e){return this.types[e]},t}),n("text!src/api/ui/dialog.html",[],function(){return'<div class="abs overlay l-dialog">\n    <div class="abs blocker"></div>\n    <div class="abs outer-holder">\n        <a class="close icon-x-in-circle"></a>\n        <div class="abs inner-holder contents">\n            <div class="abs top-bar">\n                <div class="title"></div>\n                <div class="hint"></div>\n            </div>\n            <div class=\'abs editor\'>\n            </div>\n            <div class="abs bottom-bar">\n                <a class=\'s-button major\'>OK</a>\n                <a class=\'s-button\'>Cancel</a>\n            </div>\n        </div>\n    </div>\n</div>\n'}),n("src/api/ui/Dialog",["text!./dialog.html","zepto"],function(e,t){function n(e,t){this.view=e,this.title=t,this.showing=!1,this.enabledState=!0}return n.prototype.show=function(){if(this.showing)throw new Error("Dialog already showing.");var n=t("body"),i=t(e),r=i.find(".contents .editor"),o=i.find(".close"),s=i.find(".ok"),a=i.find(".cancel");return this.title&&i.find(".title").text(this.title),n.append(i),this.view.show(r[0]),this.$dialog=i,this.$ok=s,this.showing=!0,[s,a,o].forEach(function(e){e.on("click",this.hide.bind(this))}.bind(this)),new Promise(function(e,t){s.on("click",e),a.on("click",t),o.on("click",t)})},n.prototype.hide=function(){this.showing&&(this.$dialog.remove(),this.view.destroy(),this.showing=!1)},n.prototype.enabled=function(e){return void 0!==e&&(this.enabledState=e,this.showing&&this.$ok.toggleClass("disabled",!e)),this.enabledState},n}),n("src/api/ui/GestureAPI",[],function(){function e(e,t){this.selectGesture=e,this.contextMenuGesture=t}return e.prototype.selectable=function(e,t){return this.selectGesture.apply(e,t)},e.prototype.contextMenu=function(e,t){return this.contextMenuGesture.apply(e,t)},e}),n("src/api/api",["./time/TimeAPI","./objects/ObjectAPI","./composition/CompositionAPI","./types/TypeRegistry","./ui/Dialog","./ui/GestureAPI","./telemetry/TelemetryAPI"],function(e,t,n,i,r,o,s){return{TimeAPI:e,ObjectAPI:t,CompositionAPI:n,Dialog:r,TypeRegistry:i,GestureAPI:o,TelemetryAPI:s}}),n("src/selection/Selection",["EventEmitter"],function(e){function t(){e.call(this),this.selected=[]}return t.prototype=Object.create(e.prototype),t.prototype.add=function(e){this.clear(),this.selected.push(e),this.emit("change")},t.prototype.remove=function(e){this.selected=this.selected.filter(function(t){return!e.matches(t)}),this.emit("change")},t.prototype.contains=function(e){return this.selected.some(function(t){return e.matches(t)})},t.prototype.clear=function(){this.selected=[],this.emit("change")},t.prototype.primary=function(){return this.selected[this.selected.length-1]},t.prototype.all=function(){return this.selected},t}),n("src/plugins/utcTimeSystem/UTCTimeSystem",[],function(){function e(){this.key="utc",this.name="UTC",this.cssClass="icon-clock",this.timeFormat="utc",this.durationFormat="duration",this.isUTCBased=!0}return e}),n("src/plugins/utcTimeSystem/LocalClock",["EventEmitter"],function(e){function t(t){e.call(this),this.key="local",this.cssClass="icon-clock",this.name="Local Clock",this.description="Updates every second, providing UTC timestamps from user's local computer.",this.period=t,this.timeoutHandle=void 0,this.lastTick=Date.now()}return t.prototype=Object.create(e.prototype),t.prototype.start=function(){this.timeoutHandle=setTimeout(this.tick.bind(this),this.period)},t.prototype.stop=function(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=void 0)},t.prototype.tick=function(){var e=Date.now();this.emit("tick",e),this.lastTick=e,this.timeoutHandle=setTimeout(this.tick.bind(this),this.period)},t.prototype.on=function(t){var n=e.prototype.on.apply(this,arguments);return 1===this.listeners(t).length&&this.start(),n},t.prototype.off=function(t){var n=e.prototype.off.apply(this,arguments);return 0===this.listeners(t).length&&this.stop(),n},t.prototype.currentValue=function(){return this.lastTick},t}),n("src/plugins/utcTimeSystem/plugin",["./UTCTimeSystem","./LocalClock"],function(e,t){return function(){return function(n){var i=new e;n.time.addTimeSystem(i),n.time.addClock(new t(100))}}}),n("text!example/generator/generatorWorker.js",[],function(){return"/*****************************************************************************\n * Open MCT, Copyright (c) 2014-2017, United States Government\n * as represented by the Administrator of the National Aeronautics and Space\n * Administration. All rights reserved.\n *\n * Open MCT is licensed under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * http://www.apache.org/licenses/LICENSE-2.0.\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n *\n * Open MCT includes source code licensed under additional open source\n * licenses. See the Open Source Licenses file (LICENSES.md) included with\n * this source code distribution or the Licensing information page available\n * at runtime from the About dialog for additional information.\n *****************************************************************************/\n\n/*global self*/\n\n(function () {\n\n    var FIFTEEN_MINUTES = 15 * 60 * 1000;\n\n    var handlers = {\n        subscribe: onSubscribe,\n        unsubscribe: onUnsubscribe,\n        request: onRequest\n    };\n\n    var subscriptions = {};\n\n    function workSubscriptions(timestamp) {\n        var now = Date.now();\n        var nextWork = Math.min.apply(Math, Object.values(subscriptions).map(function (subscription) {\n            return subscription(now);\n        }));\n        var wait = nextWork - now;\n        if (wait < 0) {\n            wait = 0;\n        }\n\n        if (Number.isFinite(wait)) {\n            setTimeout(workSubscriptions, wait);\n        }\n    }\n\n    function onSubscribe(message) {\n        var data = message.data;\n\n        // Keep\n        var start = Date.now();\n        var step = 1000 / data.dataRateInHz;\n        var nextStep = start - (start % step) + step;\n\n        function work(now) {\n            while (nextStep < now) {\n                self.postMessage({\n                    id: message.id,\n                    data: {\n                        utc: nextStep,\n                        yesterday: nextStep - 60*60*24*1000,\n                        sin: sin(nextStep, data.period, data.amplitude, data.offset),\n                        cos: cos(nextStep, data.period, data.amplitude, data.offset)\n                    }\n                });\n                nextStep += step;\n            }\n            return nextStep;\n        }\n\n        subscriptions[message.id] = work;\n        workSubscriptions();\n    }\n\n    function onUnsubscribe(message) {\n        delete subscriptions[message.data.id];\n    }\n\n    function onRequest(message) {\n        var data = message.data;\n        if (data.end == undefined) {\n            data.end = Date.now();\n        }\n        if (data.start == undefined){\n            data.start = data.end - FIFTEEN_MINUTES;\n        }\n\n        var now = Date.now();\n        var start = data.start;\n        var end = data.end > now ? now : data.end;\n        var amplitude = data.amplitude;\n        var period = data.period;\n        var offset = data.offset;\n        var dataRateInHz = data.dataRateInHz;\n\n        var step = 1000 / dataRateInHz;\n        var nextStep = start - (start % step) + step;\n\n        var data = [];\n\n        for (; nextStep < end; nextStep += step) {\n            data.push({\n                utc: nextStep,\n                yesterday: nextStep - 60*60*24*1000,\n                sin: sin(nextStep, period, amplitude, offset),\n                cos: cos(nextStep, period, amplitude, offset)\n            });\n        }\n        self.postMessage({\n            id: message.id,\n            data: data\n        });\n    }\n\n    function cos(timestamp, period, amplitude, offset) {\n        return amplitude *\n            Math.cos(timestamp / period / 1000 * Math.PI * 2) + offset;\n    }\n\n    function sin(timestamp, period, amplitude, offset) {\n        return amplitude *\n            Math.sin(timestamp / period / 1000 * Math.PI * 2) + offset;\n    }\n\n    function sendError(error, message) {\n        self.postMessage({\n            error: error.name + ': ' + error.message,\n            message: message,\n            id: message.id\n        });\n    }\n\n    self.onmessage = function handleMessage(event) {\n        var message = event.data;\n        var handler = handlers[message.request];\n\n        if (!handler) {\n            sendError(new Error('unknown message type'), message);\n        } else {\n            try {\n                handler(message);\n            } catch (e) {\n                sendError(e, message);\n            }\n        }\n    };\n\n}());\n"}),n("example/generator/WorkerInterface",["text!./generatorWorker.js","uuid"],function(e,t){function n(){this.worker=new Worker(r),this.worker.onmessage=this.onMessage.bind(this),this.callbacks={}}var i=new Blob([e],{type:"application/javascript"}),r=URL.createObjectURL(i);return n.prototype.onMessage=function(e){e=e.data;var t=this.callbacks[e.id];t&&t(e)&&delete this.callbacks[e.id]},n.prototype.dispatch=function(e,n,i){var r={request:e,data:n,id:t()};return i&&(this.callbacks[r.id]=i),this.worker.postMessage(r),r.id},n.prototype.request=function(e){function t(e){return e.error?n.reject(e.error):n.resolve(e.data),!0}var n={},i=new Promise(function(e,t){n.resolve=e,n.reject=t});return this.dispatch("request",e,t),i},n.prototype.subscribe=function(e,t){var n=!1,i=function(e){return n?!0:void t(e.data)},r=this.dispatch("subscribe",e,i);return function(){n=!0,this.dispatch("unsubscribe",{id:r})}.bind(this)},n}),n("example/generator/GeneratorProvider",["./WorkerInterface"],function(e){function t(){this.workerInterface=new e}var n={amplitude:1,period:10,offset:0,dataRateInHz:1};return t.prototype.canProvideTelemetry=function(e){return"generator"===e.type},t.prototype.supportsRequest=t.prototype.supportsSubscribe=t.prototype.canProvideTelemetry,t.prototype.makeWorkerRequest=function(e,t){var i=["amplitude","period","offset","dataRateInHz"],r={};return i.forEach(function(i){e.telemetry&&e.telemetry.hasOwnProperty(i)&&(r[i]=e.telemetry[i]),t.hasOwnProperty(i)&&(r[i]=t[i]),r[i]||(r[i]=n[i]),r[i]=Number(r[i])}),r},t.prototype.request=function(e,t){var n=this.makeWorkerRequest(e,t);return n.start=t.start,n.end=t.end,this.workerInterface.request(n)},t.prototype.subscribe=function(e,t,n){var i=this.makeWorkerRequest(e,n);return this.workerInterface.subscribe(i,t)},t}),n("example/generator/SinewaveLimitCapability",[],function(){"use strict";function e(e){return{limits:function(e){return i},evaluate:function(e,r){return r=r||"sin",e[r]>t?i.rh:e[r]<-t?i.rl:e[r]>n?i.yh:e[r]<-n?i.yl:void 0}}}var t=.9,n=.5,i={rh:{cssClass:"s-limit-upr s-limit-red",
low:t,high:Number.POSITIVE_INFINITY,name:"Red High"},rl:{cssClass:"s-limit-lwr s-limit-red",high:-t,low:Number.NEGATIVE_INFINITY,name:"Red Low"},yh:{cssClass:"s-limit-upr s-limit-yellow",low:n,high:t,name:"Yellow High"},yl:{cssClass:"s-limit-lwr s-limit-yellow",low:-t,high:-n,name:"Yellow Low"}};return e.appliesTo=function(e){return"generator"===e.type},e}),n("example/generator/plugin",["./GeneratorProvider","./SinewaveLimitCapability"],function(e,t){var n={capabilities:[{key:"limit",implementation:t}]};return function(t){Object.keys(n).forEach(function(e){var i=n[e];i.forEach(function(n){t.legacyExtension(e,n)})}),t.types.addType("generator",{name:"Sine Wave Generator",description:"For development use. Generates example streaming telemetry data using a simple sine wave algorithm.",cssClass:"icon-telemetry",creatable:!0,form:[{name:"Period",control:"textfield",cssClass:"l-input-sm l-numeric",key:"period",required:!0,property:["telemetry","period"],pattern:"^\\d*(\\.\\d*)?$"},{name:"Amplitude",control:"textfield",cssClass:"l-input-sm l-numeric",key:"amplitude",required:!0,property:["telemetry","amplitude"],pattern:"^\\d*(\\.\\d*)?$"},{name:"Offset",control:"textfield",cssClass:"l-input-sm l-numeric",key:"offset",required:!0,property:["telemetry","offset"],pattern:"^\\d*(\\.\\d*)?$"},{name:"Data Rate (hz)",control:"textfield",cssClass:"l-input-sm l-numeric",key:"dataRateInHz",required:!0,property:["telemetry","dataRateInHz"],pattern:"^\\d*(\\.\\d*)?$"}],initialize:function(e){e.telemetry={period:10,amplitude:1,offset:0,dataRateInHz:1,values:[{key:"utc",name:"Time",format:"utc",hints:{domain:1}},{key:"yesterday",name:"Yesterday",format:"utc",hints:{domain:2}},{key:"sin",name:"Sine",hints:{range:1}},{key:"cos",name:"Cosine",hints:{range:2}}]}}}),t.telemetry.addProvider(new e)}}),n("text!platform/features/autoflow/res/templates/autoflow-tabular.html",[],function(){return'<div class="items-holder abs contents autoflow obj-value-format"\n     ng-controller="AutoflowTabularController as autoflow">\n    <div class="abs l-flex-row holder t-autoflow-header l-autoflow-header">\n        <mct-include key="\'input-filter\'"\n                     ng-model="autoflow.filter"\n                     class="flex-elem">\n        </mct-include>\n        <div class="flex-elem grows t-last-update" title="Last Update">{{autoflow.updated()}}</div>\n        <a title="Change column width"\n            class="s-button flex-elem icon-arrows-right-left change-column-width"\n            ng-click="autoflow.increaseColumnWidth()"></a>\n    </div>\n    <div class="abs t-autoflow-items l-autoflow-items"\n         mct-resize="autoflow.setBounds(bounds)"\n         mct-resize-interval="50">\n        <mct-autoflow-table values="autoflow.rangeValues()"\n                            objects="autoflow.getTelemetryObjects()"\n                            rows="autoflow.getRows()"\n                            classes="autoflow.classes()"\n                            updated="autoflow.updated()"\n                            column-width="autoflow.columnWidth()"\n                            counter="autoflow.counter()"\n                            >\n        </mct-autoflow-table>\n    </div>\n</div>\n'}),n("platform/features/autoflow/src/AutoflowTabularController",["moment"],function(e){function t(t,d,p){function f(){V+=1}function h(e){return-1!==(e.getModel().name||"").toLowerCase().indexOf(I)}function m(e,t){var n=e.getModel().index||0,i=t.getModel().index||0;return n-i}function g(){E=(A?A.getTelemetryObjects():[]).filter(h).sort(m),_=!1,R=Date.now(),f()}function y(){_||(Date.now()>R+a?g():(_=!0,d(g,a)))}function v(t){var n=t.getId(),i=A.getDomainValue(t),r=A.getRangeValue(t);void 0!==i&&i!==L[n]&&(L[n]=i,N=isNaN(i)?"":e.utc(i).format(c)),j[n]=r,P[n]=D[n]&&(D[n].evaluate({value:r})||{}).cssClass}function b(){return A?A.getTelemetryObjects():u}function w(){b().forEach(v),f()}function S(e){return void 0!==e&&(M=e,I=e.toLowerCase(),y()),M}function x(e){var t=e.height-i;F=Math.max(1,Math.floor(t/n))}function C(){U+=s,U=U>o?r:U}function O(){return N}function k(){A&&(A.unsubscribe(),A=void 0)}function $(e){y(),D={},e.forEach(function(e){var t=e.getId();D[t]=e.getCapability("limit")})}function T(e){k(),L={},N=l,A=e&&p.subscribe(e,w),y()}var A,M="",I="",E=[],L={},N=l,j={},P={},D={},_=!1,R=Number.NEGATIVE_INFINITY,U=r,F=1,V=0;return t.$watch(b,$),t.$watch("domainObject",T),t.$on("$destroy",k),{getRows:function(){return F},getTelemetryObjects:function(){return E},setBounds:x,increaseColumnWidth:C,filter:S,rangeValues:function(){return j},classes:function(){return P},updated:O,columnWidth:function(){return U},counter:function(){return V}}}var n=16,i=10,r=225,o=525,s=25,a=100,c="YYYY-DDD HH:mm:ss.SSS\\Z",l="No updates",u=[];return t}),n("platform/features/autoflow/src/AutoflowTableLinker",[],function(){function e(e,t){function n(e,t){var n=angular.element("<li>"),i=angular.element("<span>"),r=angular.element("<span>");return n.append(r).append(i),t.append(n),n.addClass("l-autoflow-row"),i.addClass("l-autoflow-item l"),r.addClass("l-autoflow-item r l-obj-val-format"),i.text(e.getModel().name),i.attr("title",e.getModel().name),d[e.getId()]=r,n}function i(t){var n=angular.element("<ul>");return t.append(n),n.addClass("l-autoflow-col"),n.css("width",e.columnWidth+"px"),n}function r(){t.find("ul").css("width",e.columnWidth+"px")}function o(e,r){var o;d={},t.html(""),e.forEach(function(e,s){s%r===0&&(o=i(t)),n(e,o)})}function s(){var t=e.values||{},n=e.classes||{};(c||[]).forEach(function(e){var i,r=e.getId(),o=d[r];o&&(i=t[r],i=void 0===i?"":i,o.attr("data-value",i),o.text(i),o.attr("title",i),o.removeClass(u[r]),o.addClass(n[r]),u[r]=n[r])})}function a(){(e.objects!==c||e.rows!==l)&&(c=e.objects,l=e.rows,o(c||[],l||1),s())}var c,l,u={},d={};e.$watch("objects",a),e.$watch("rows",a),e.$watch("columnWidth",r),e.$watch("updated",s),e.$watch("counter",s)}return e}),n("platform/features/autoflow/src/MCTAutoflowTable",["./AutoflowTableLinker"],function(e){function t(){return{restrict:"E",link:e,scope:{objects:"=",values:"=",classes:"=",rows:"=",updated:"=",columnWidth:"=",counter:"="}}}return t}),n("platform/features/autoflow/plugin",["text!./res/templates/autoflow-tabular.html","./src/AutoflowTabularController","./src/MCTAutoflowTable"],function(e,t,n){return function(i){return function(r){r.legacyRegistry.register("platform/features/autoflow",{name:"WARP Telemetry Adapter",description:"Retrieves telemetry from the WARP Server and provides related types and views.",resources:"res",extensions:{views:[{key:"autoflow",name:"Autoflow Tabular",cssClass:"icon-packet",description:"A tabular view of packet contents.",template:e,type:i&&i.type,needs:["telemetry"],delegation:!0}],controllers:[{key:"AutoflowTabularController",implementation:t,depends:["$scope","$timeout","telemetrySubscriber"]}],directives:[{key:"mctAutoflowTable",implementation:n}]}}),r.legacyRegistry.enable("platform/features/autoflow")}}}),n("src/plugins/timeConductor/plugin",[],function(){function e(e){return!!e}function t(e,t){return e.clock&&!e.clockOffsets?"clock-based menuOption at index "+t+" is missing required property 'clockOffsets'.":e.timeSystem?e.bounds||e.clock?void 0:"fixed-bounds menuOption at index "+t+" is missing required property 'bounds'":"menuOption at index "+t+" is missing required property 'timeSystem'."}function n(n){return void 0===n||void 0===n.menuOptions||0===n.menuOptions.length?"You must specify one or more 'menuOptions'.":n.menuOptions.some(t)?n.menuOptions.map(t).filter(e).join("\n"):void 0}function i(t,n){var i=n.time.getAllTimeSystems().reduce(function(e,t){return e[t.key]=t,e},{}),r=n.time.getAllClocks().reduce(function(e,t){return e[t.key]=t,e},{});return t.menuOptions.map(function(e,t){return e.timeSystem&&!i[e.timeSystem]?"menuOption at index "+t+" specifies a timeSystem that does not exist: "+e.timeSystem:e.clock&&!r[e.clock]?"menuOption at index "+t+" specifies a clock that does not exist: "+e.clock:void 0}).filter(e).join("\n")}function r(e){if(e)throw new Error("Invalid Time Conductor Configuration: \n"+e+"\nhttps://github.com/nasa/openmct/blob/master/API.md#the-time-conductor")}return function(e){return r(n(e)),function(t){t.legacyExtension("constants",{key:"CONDUCTOR_CONFIG",value:e,priority:"mandatory"}),t.legacyRegistry.enable("platform/features/conductor/core"),t.legacyRegistry.enable("platform/features/conductor/compatibility"),t.on("start",function(){if(r(i(e,t)),void 0===t.time.timeSystem()){var n=e.menuOptions[0];n.clock?(t.time.clock(n.clock,n.clockOffsets),t.time.timeSystem(n.timeSystem,t.time.bounds())):t.time.timeSystem(n.timeSystem,n.bounds)}})}}}),n("src/plugins/plugins",["lodash","./utcTimeSystem/plugin","../../example/generator/plugin","../../platform/features/autoflow/plugin","./timeConductor/plugin"],function(e,t,n,i,r){var o={CouchDB:"platform/persistence/couch",Elasticsearch:"platform/persistence/elastic",Espresso:"platform/commonUI/themes/espresso",LocalStorage:"platform/persistence/local",MyItems:"platform/features/my-items",Snow:"platform/commonUI/themes/snow"},s=e.mapValues(o,function(e,t){return function(){return function(t){t.legacyRegistry.enable(e)}}});return s.UTCTimeSystem=t,s.AutoflowView=i,s.Conductor=r,s.CouchDB=function(e){return function(t){if(e){var n="config/couch";t.legacyRegistry.register(n,{extensions:{constants:[{key:"COUCHDB_PATH",value:e,priority:"mandatory"}]}}),t.legacyRegistry.enable(n)}t.legacyRegistry.enable(o.CouchDB)}},s.Elasticsearch=function(e){return function(t){if(e){var n="config/elastic";t.legacyRegistry.register(n,{extensions:{constants:[{key:"ELASTIC_ROOT",value:e,priority:"mandatory"}]}}),t.legacyRegistry.enable(n)}t.legacyRegistry.enable(o.Elasticsearch)}},s.Generator=function(){return n},s}),n("src/ui/ViewRegistry",[],function(){function e(){this.providers=[]}return e.prototype.get=function(e){return this.providers.filter(function(t){return t.canView(e)})},e.prototype.addProvider=function(e){this.providers.push(e)},e}),n("src/MCT",["EventEmitter","legacyRegistry","uuid","./api/api","./selection/Selection","./api/objects/object-utils","./plugins/plugins","./ui/ViewRegistry"],function(e,t,n,i,r,o,s,a){function c(){e.call(this),this.legacyBundle={extensions:{services:[{key:"openmct",implementation:function(e){return this.$injector=e,this}.bind(this),depends:["$injector"]}]}},this.selection=new r,this.time=new i.TimeAPI,this.composition=new i.CompositionAPI(this),this.mainViews=new a,this.inspectors=new a,this.propertyEditors=new a,this.indicators=new a,this.toolbars=new a,this.types=new i.TypeRegistry,this.gestures=new i.GestureAPI,this.objects=new i.ObjectAPI,this.telemetry=new i.TelemetryAPI(this),this.Dialog=i.Dialog,this.on("navigation",this.selection.clear.bind(this.selection))}return c.prototype=Object.create(e.prototype),c.prototype.MCT=c,c.prototype.legacyExtension=function(e,t){this.legacyBundle.extensions[e]=this.legacyBundle.extensions[e]||[],this.legacyBundle.extensions[e].push(t)},c.prototype.setAssetPath=function(e){this.legacyExtension("constants",{key:"ASSETS_PATH",value:e})},c.prototype.start=function(e){e||(e=document.body);var n=document.createElement("div");n.setAttribute("ng-view",""),n.className="user-environ",e.appendChild(n),this.legacyExtension("runs",{depends:["navigationService"],implementation:function(e){e.addListener(this.emit.bind(this,"navigation"))}.bind(this)}),this.types.listKeys().forEach(function(e){var t=this.types.get(e),n=t.toLegacyDefinition();n.key=e,this.legacyExtension("types",n)}.bind(this)),t.register("adapter",this.legacyBundle),t.enable("adapter"),this.emit("start")},c.prototype.install=function(e){e(this)},c.prototype.plugins=s,c}),e.config({paths:{legacyRegistry:"src/legacyRegistry",angular:"bower_components/angular/angular.min","angular-route":"bower_components/angular-route/angular-route.min",csv:"bower_components/comma-separated-values/csv.min",EventEmitter:"bower_components/eventemitter3/index","es6-promise":"bower_components/es6-promise/es6-promise.min",html2canvas:"bower_components/html2canvas/build/html2canvas.min",moment:"bower_components/moment/moment","moment-duration-format":"bower_components/moment-duration-format/lib/moment-duration-format",saveAs:"bower_components/FileSaver.js/FileSaver.min",screenfull:"bower_components/screenfull/dist/screenfull.min",text:"bower_components/text/text",uuid:"bower_components/node-uuid/uuid",zepto:"bower_components/zepto/zepto.min",lodash:"bower_components/lodash/lodash","d3-selection":"node_modules/d3-selection/build/d3-selection.min","d3-scale":"node_modules/d3-scale/build/d3-scale.min","d3-axis":"node_modules/d3-axis/build/d3-axis.min","d3-array":"node_modules/d3-array/build/d3-array.min","d3-collection":"node_modules/d3-collection/build/d3-collection.min","d3-color":"node_modules/d3-color/build/d3-color.min","d3-format":"node_modules/d3-format/build/d3-format.min","d3-interpolate":"node_modules/d3-interpolate/build/d3-interpolate.min","d3-time":"node_modules/d3-time/build/d3-time.min","d3-time-format":"node_modules/d3-time-format/build/d3-time-format.min"},shim:{angular:{exports:"angular"},"angular-route":{deps:["angular"]},EventEmitter:{exports:"EventEmitter"},html2canvas:{exports:"html2canvas"},"moment-duration-format":{deps:["moment"]},screenfull:{exports:"screenfull"},zepto:{exports:"Zepto"},lodash:{exports:"lodash"},"d3-selection":{exports:"d3-selection"},"d3-scale":{deps:["d3-array","d3-collection","d3-color","d3-format","d3-interpolate","d3-time","d3-time-format"],exports:"d3-scale"},"d3-axis":{exports:"d3-axis"}}}),n("openmct",["./platform/framework/src/Main","./src/defaultRegistry","./src/MCT"],function(e,t,n){var i=new n;return i.legacyRegistry=t,i.on("start",function(){return(new e).run(t)}),i}),t("openmct")});
//# sourceMappingURL=almond.js.build.js.map
//# sourceMappingURL=openmct.js.map
